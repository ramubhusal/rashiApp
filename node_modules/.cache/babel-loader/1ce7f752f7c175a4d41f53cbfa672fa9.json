{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport Framework7Class from '../../shared/class';\n\nvar Tooltip = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(Tooltip, _Framework7Class);\n\n  function Tooltip(app, params) {\n    var _this;\n\n    if (params === void 0) {\n      params = {};\n    }\n\n    _this = _Framework7Class.call(this, params, [app]) || this;\n\n    var tooltip = _assertThisInitialized(_this);\n\n    var support = getSupport();\n    var defaults = extend({}, app.params.tooltip);\n    var document = getDocument(); // Extend defaults with modules params\n\n    tooltip.useModulesParams(defaults);\n    tooltip.params = extend(defaults, params);\n\n    if (typeof params.offset === 'undefined' && support.touch && tooltip.params.trigger === 'hover') {\n      tooltip.params.offset = 10;\n    }\n\n    var _tooltip$params = tooltip.params,\n        targetEl = _tooltip$params.targetEl,\n        containerEl = _tooltip$params.containerEl;\n    if (!targetEl && !tooltip.params.delegated) return tooltip || _assertThisInitialized(_this);\n    var $targetEl = $(targetEl);\n    if ($targetEl.length === 0 && !tooltip.params.delegated) return tooltip || _assertThisInitialized(_this);\n    if ($targetEl[0] && $targetEl[0].f7Tooltip && !tooltip.params.delegated) return $targetEl[0].f7Tooltip || _assertThisInitialized(_this);\n    var $containerEl = $(containerEl || app.$el).eq(0);\n\n    if ($containerEl.length === 0) {\n      $containerEl = app.$el;\n    }\n\n    var $el = $(tooltip.render()).eq(0);\n    extend(tooltip, {\n      app: app,\n      $targetEl: $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      $containerEl: $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      $el: $el,\n      el: $el && $el[0],\n      text: tooltip.params.text || '',\n      visible: false,\n      opened: false\n    });\n    if ($targetEl[0]) $targetEl[0].f7Tooltip = tooltip;\n    var touchesStart = {};\n    var isTouched;\n\n    function handleClick() {\n      if (tooltip.opened) tooltip.hide();else tooltip.show(this);\n    }\n\n    function handleClickOut(e) {\n      if (tooltip.opened && ($(e.target).closest($targetEl).length || $(e.target).closest(tooltip.$el).length)) return;\n      tooltip.hide();\n    }\n\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      tooltip.show(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      var distance = Math.pow(Math.pow(x - touchesStart.x, 2) + Math.pow(y - touchesStart.y, 2), 0.5);\n\n      if (distance > 50) {\n        isTouched = false;\n        tooltip.hide();\n      }\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched) return;\n      isTouched = false;\n      tooltip.hide();\n    }\n\n    function handleMouseEnter() {\n      tooltip.show(this);\n    }\n\n    function handleMouseLeave() {\n      tooltip.hide();\n    }\n\n    function handleTransitionEnd() {\n      if (!$el.hasClass('tooltip-in')) {\n        $el.removeClass('tooltip-out').remove();\n      }\n    }\n\n    tooltip.attachEvents = function attachEvents() {\n      $el.on('transitionend', handleTransitionEnd);\n\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.on('click', handleClick);\n        }\n\n        $('html').on('click', handleClickOut);\n        return;\n      }\n\n      if (tooltip.params.trigger === 'manual') return;\n\n      if (support.touch) {\n        var passive = support.passiveListener ? {\n          passive: true\n        } : false;\n\n        if (tooltip.params.delegated) {\n          $(document).on(app.touchEvents.start, tooltip.params.targetEl, handleTouchStart, passive);\n        } else {\n          tooltip.$targetEl.on(app.touchEvents.start, handleTouchStart, passive);\n        }\n\n        app.on('touchmove', handleTouchMove);\n        app.on('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).on(support.pointerEvents ? 'pointerenter' : 'mouseenter', tooltip.params.targetEl, handleMouseEnter, true);\n          $(document).on(support.pointerEvents ? 'pointerleave' : 'mouseleave', tooltip.params.targetEl, handleMouseLeave, true);\n        } else {\n          tooltip.$targetEl.on(support.pointerEvents ? 'pointerenter' : 'mouseenter', handleMouseEnter);\n          tooltip.$targetEl.on(support.pointerEvents ? 'pointerleave' : 'mouseleave', handleMouseLeave);\n        }\n      }\n    };\n\n    tooltip.detachEvents = function detachEvents() {\n      $el.off('transitionend', handleTransitionEnd);\n\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.off('click', handleClick);\n        }\n\n        $('html').off('click', handleClickOut);\n        return;\n      }\n\n      if (tooltip.params.trigger === 'manual') return;\n\n      if (support.touch) {\n        var passive = support.passiveListener ? {\n          passive: true\n        } : false;\n\n        if (tooltip.params.delegated) {\n          $(document).off(app.touchEvents.start, tooltip.params.targetEl, handleTouchStart, passive);\n        } else {\n          tooltip.$targetEl.off(app.touchEvents.start, handleTouchStart, passive);\n        }\n\n        app.off('touchmove', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).off(support.pointerEvents ? 'pointerenter' : 'mouseenter', tooltip.params.targetEl, handleMouseEnter, true);\n          $(document).off(support.pointerEvents ? 'pointerleave' : 'mouseleave', tooltip.params.targetEl, handleMouseLeave, true);\n        } else {\n          tooltip.$targetEl.off(support.pointerEvents ? 'pointerenter' : 'mouseenter', handleMouseEnter);\n          tooltip.$targetEl.off(support.pointerEvents ? 'pointerleave' : 'mouseleave', handleMouseLeave);\n        }\n      }\n    }; // Install Modules\n\n\n    tooltip.useModules();\n    tooltip.init();\n    return tooltip || _assertThisInitialized(_this);\n  }\n\n  var _proto = Tooltip.prototype;\n\n  _proto.setTargetEl = function setTargetEl(targetEl) {\n    var tooltip = this;\n    tooltip.detachEvents();\n    tooltip.$targetEl = $(targetEl);\n    tooltip.targetEl = tooltip.$targetEl[0];\n    tooltip.attachEvents();\n    return tooltip;\n  };\n\n  _proto.position = function position(targetEl) {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        app = tooltip.app,\n        $containerEl = tooltip.$containerEl;\n    var hasContainerEl = !!tooltip.params.containerEl;\n    var tooltipOffset = tooltip.params.offset || 0;\n    $el.css({\n      left: '',\n      top: ''\n    });\n    var $targetEl = $(targetEl || tooltip.targetEl);\n    var _ref = [$el.width(), $el.height()],\n        width = _ref[0],\n        height = _ref[1];\n    $el.css({\n      left: '',\n      top: ''\n    });\n    var targetWidth;\n    var targetHeight;\n    var targetOffsetLeft;\n    var targetOffsetTop;\n    var boundaries = hasContainerEl && $containerEl.length ? $containerEl[0].getBoundingClientRect() : app;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n\n      if (typeof targetWidth === 'undefined' && typeof targetHeight === 'undefined') {\n        var clientRect = $targetEl[0].getBoundingClientRect();\n        targetWidth = clientRect.width;\n        targetHeight = clientRect.height;\n      }\n\n      var targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - boundaries.left;\n      targetOffsetTop = targetOffset.top - boundaries.top;\n      var targetParentPage = $targetEl.parents('.page');\n\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    }\n\n    var _ref2 = [0, 0, 0],\n        left = _ref2[0],\n        top = _ref2[1]; // Top Position\n\n    var position = 'top';\n\n    if (height + tooltipOffset < targetOffsetTop) {\n      // On top\n      top = targetOffsetTop - height - tooltipOffset;\n    } else if (height < boundaries.height - targetOffsetTop - targetHeight) {\n      // On bottom\n      position = 'bottom';\n      top = targetOffsetTop + targetHeight + tooltipOffset;\n    } else {\n      // On middle\n      position = 'middle';\n      top = targetHeight / 2 + targetOffsetTop - height / 2;\n\n      if (top <= 0) {\n        top = 8;\n      } else if (top + height >= boundaries.height) {\n        top = boundaries.height - height - 8;\n      }\n    } // Horizontal Position\n\n\n    if (position === 'top' || position === 'bottom') {\n      left = targetWidth / 2 + targetOffsetLeft - width / 2;\n      if (left < 8) left = 8;\n      if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      if (left < 0) left = 0;\n    } else if (position === 'middle') {\n      left = targetOffsetLeft - width;\n\n      if (left < 8 || left + width > boundaries.width) {\n        if (left < 8) left = targetOffsetLeft + targetWidth;\n        if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      }\n    } // Apply Styles\n\n\n    $el.css({\n      top: top + \"px\",\n      left: left + \"px\"\n    });\n  };\n\n  _proto.show = function show(aroundEl) {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        $targetEl = tooltip.$targetEl,\n        $containerEl = tooltip.$containerEl;\n\n    if ($containerEl[0] && $el[0] && !$containerEl[0].contains($el[0])) {\n      $containerEl.append($el);\n    }\n\n    tooltip.position(aroundEl);\n    var $aroundEl = $(aroundEl);\n    tooltip.visible = true;\n    tooltip.opened = true;\n    $targetEl.trigger('tooltip:show');\n    $el.trigger('tooltip:show');\n\n    if ($aroundEl.length && $aroundEl[0] !== $targetEl[0]) {\n      $aroundEl.trigger('tooltip:show');\n    }\n\n    tooltip.emit('local::show tooltipShow', tooltip);\n    $el.removeClass('tooltip-out').addClass('tooltip-in');\n    return tooltip;\n  };\n\n  _proto.hide = function hide() {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        $targetEl = tooltip.$targetEl;\n    tooltip.visible = false;\n    tooltip.opened = false;\n    $targetEl.trigger('tooltip:hide');\n    $el.trigger('tooltip:hide');\n    tooltip.emit('local::hide tooltipHide', tooltip);\n    $el.addClass('tooltip-out').removeClass('tooltip-in');\n    return tooltip;\n  };\n\n  _proto.render = function render() {\n    var tooltip = this;\n    if (tooltip.params.render) return tooltip.params.render.call(tooltip, tooltip);\n    var _tooltip$params2 = tooltip.params,\n        cssClass = _tooltip$params2.cssClass,\n        text = _tooltip$params2.text;\n    return (\"\\n      <div class=\\\"tooltip \" + (cssClass || '') + \"\\\">\\n        <div class=\\\"tooltip-content\\\">\" + (text || '') + \"</div>\\n      </div>\\n    \").trim();\n  };\n\n  _proto.setText = function setText(newText) {\n    var tooltip = this;\n\n    if (typeof newText === 'undefined') {\n      return tooltip;\n    }\n\n    tooltip.params.text = newText;\n    tooltip.text = newText;\n\n    if (tooltip.$el) {\n      tooltip.$el.children('.tooltip-content').html(newText);\n    }\n\n    if (tooltip.opened) {\n      tooltip.position();\n    }\n\n    return tooltip;\n  };\n\n  _proto.init = function init() {\n    var tooltip = this;\n    tooltip.attachEvents();\n  };\n\n  _proto.destroy = function destroy() {\n    var tooltip = this;\n    if (!tooltip.$targetEl || tooltip.destroyed) return;\n    tooltip.$targetEl.trigger('tooltip:beforedestroy');\n    tooltip.emit('local::beforeDestroy tooltipBeforeDestroy', tooltip);\n    tooltip.$el.remove();\n    if (tooltip.$targetEl[0]) delete tooltip.$targetEl[0].f7Tooltip;\n    tooltip.detachEvents();\n    deleteProps(tooltip);\n    tooltip.destroyed = true;\n  };\n\n  return Tooltip;\n}(Framework7Class);\n\nexport default Tooltip;","map":{"version":3,"sources":["E:/Programming/React/rashi-app/node_modules/framework7/esm/components/tooltip/tooltip-class.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","getDocument","$","extend","deleteProps","getSupport","Framework7Class","Tooltip","_Framework7Class","app","params","_this","call","tooltip","support","defaults","document","useModulesParams","offset","touch","trigger","_tooltip$params","targetEl","containerEl","delegated","$targetEl","length","f7Tooltip","$containerEl","$el","eq","render","el","text","visible","opened","touchesStart","isTouched","handleClick","hide","show","handleClickOut","e","target","closest","handleTouchStart","x","type","targetTouches","pageX","y","pageY","handleTouchMove","distance","Math","pow","handleTouchEnd","handleMouseEnter","handleMouseLeave","handleTransitionEnd","hasClass","removeClass","remove","attachEvents","on","passive","passiveListener","touchEvents","start","pointerEvents","detachEvents","off","useModules","init","_proto","setTargetEl","position","hasContainerEl","tooltipOffset","css","left","top","_ref","width","height","targetWidth","targetHeight","targetOffsetLeft","targetOffsetTop","boundaries","getBoundingClientRect","outerWidth","outerHeight","clientRect","targetOffset","targetParentPage","parents","scrollTop","_ref2","aroundEl","contains","append","$aroundEl","emit","addClass","_tooltip$params2","cssClass","trim","setText","newText","children","html","destroy","destroyed"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport Framework7Class from '../../shared/class';\n\nvar Tooltip = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(Tooltip, _Framework7Class);\n\n  function Tooltip(app, params) {\n    var _this;\n\n    if (params === void 0) {\n      params = {};\n    }\n\n    _this = _Framework7Class.call(this, params, [app]) || this;\n\n    var tooltip = _assertThisInitialized(_this);\n\n    var support = getSupport();\n    var defaults = extend({}, app.params.tooltip);\n    var document = getDocument(); // Extend defaults with modules params\n\n    tooltip.useModulesParams(defaults);\n    tooltip.params = extend(defaults, params);\n\n    if (typeof params.offset === 'undefined' && support.touch && tooltip.params.trigger === 'hover') {\n      tooltip.params.offset = 10;\n    }\n\n    var _tooltip$params = tooltip.params,\n        targetEl = _tooltip$params.targetEl,\n        containerEl = _tooltip$params.containerEl;\n    if (!targetEl && !tooltip.params.delegated) return tooltip || _assertThisInitialized(_this);\n    var $targetEl = $(targetEl);\n    if ($targetEl.length === 0 && !tooltip.params.delegated) return tooltip || _assertThisInitialized(_this);\n    if ($targetEl[0] && $targetEl[0].f7Tooltip && !tooltip.params.delegated) return $targetEl[0].f7Tooltip || _assertThisInitialized(_this);\n    var $containerEl = $(containerEl || app.$el).eq(0);\n\n    if ($containerEl.length === 0) {\n      $containerEl = app.$el;\n    }\n\n    var $el = $(tooltip.render()).eq(0);\n    extend(tooltip, {\n      app: app,\n      $targetEl: $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      $containerEl: $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      $el: $el,\n      el: $el && $el[0],\n      text: tooltip.params.text || '',\n      visible: false,\n      opened: false\n    });\n    if ($targetEl[0]) $targetEl[0].f7Tooltip = tooltip;\n    var touchesStart = {};\n    var isTouched;\n\n    function handleClick() {\n      if (tooltip.opened) tooltip.hide();else tooltip.show(this);\n    }\n\n    function handleClickOut(e) {\n      if (tooltip.opened && ($(e.target).closest($targetEl).length || $(e.target).closest(tooltip.$el).length)) return;\n      tooltip.hide();\n    }\n\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      tooltip.show(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      var distance = Math.pow(Math.pow(x - touchesStart.x, 2) + Math.pow(y - touchesStart.y, 2), 0.5);\n\n      if (distance > 50) {\n        isTouched = false;\n        tooltip.hide();\n      }\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched) return;\n      isTouched = false;\n      tooltip.hide();\n    }\n\n    function handleMouseEnter() {\n      tooltip.show(this);\n    }\n\n    function handleMouseLeave() {\n      tooltip.hide();\n    }\n\n    function handleTransitionEnd() {\n      if (!$el.hasClass('tooltip-in')) {\n        $el.removeClass('tooltip-out').remove();\n      }\n    }\n\n    tooltip.attachEvents = function attachEvents() {\n      $el.on('transitionend', handleTransitionEnd);\n\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.on('click', handleClick);\n        }\n\n        $('html').on('click', handleClickOut);\n        return;\n      }\n\n      if (tooltip.params.trigger === 'manual') return;\n\n      if (support.touch) {\n        var passive = support.passiveListener ? {\n          passive: true\n        } : false;\n\n        if (tooltip.params.delegated) {\n          $(document).on(app.touchEvents.start, tooltip.params.targetEl, handleTouchStart, passive);\n        } else {\n          tooltip.$targetEl.on(app.touchEvents.start, handleTouchStart, passive);\n        }\n\n        app.on('touchmove', handleTouchMove);\n        app.on('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).on(support.pointerEvents ? 'pointerenter' : 'mouseenter', tooltip.params.targetEl, handleMouseEnter, true);\n          $(document).on(support.pointerEvents ? 'pointerleave' : 'mouseleave', tooltip.params.targetEl, handleMouseLeave, true);\n        } else {\n          tooltip.$targetEl.on(support.pointerEvents ? 'pointerenter' : 'mouseenter', handleMouseEnter);\n          tooltip.$targetEl.on(support.pointerEvents ? 'pointerleave' : 'mouseleave', handleMouseLeave);\n        }\n      }\n    };\n\n    tooltip.detachEvents = function detachEvents() {\n      $el.off('transitionend', handleTransitionEnd);\n\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.off('click', handleClick);\n        }\n\n        $('html').off('click', handleClickOut);\n        return;\n      }\n\n      if (tooltip.params.trigger === 'manual') return;\n\n      if (support.touch) {\n        var passive = support.passiveListener ? {\n          passive: true\n        } : false;\n\n        if (tooltip.params.delegated) {\n          $(document).off(app.touchEvents.start, tooltip.params.targetEl, handleTouchStart, passive);\n        } else {\n          tooltip.$targetEl.off(app.touchEvents.start, handleTouchStart, passive);\n        }\n\n        app.off('touchmove', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).off(support.pointerEvents ? 'pointerenter' : 'mouseenter', tooltip.params.targetEl, handleMouseEnter, true);\n          $(document).off(support.pointerEvents ? 'pointerleave' : 'mouseleave', tooltip.params.targetEl, handleMouseLeave, true);\n        } else {\n          tooltip.$targetEl.off(support.pointerEvents ? 'pointerenter' : 'mouseenter', handleMouseEnter);\n          tooltip.$targetEl.off(support.pointerEvents ? 'pointerleave' : 'mouseleave', handleMouseLeave);\n        }\n      }\n    }; // Install Modules\n\n\n    tooltip.useModules();\n    tooltip.init();\n    return tooltip || _assertThisInitialized(_this);\n  }\n\n  var _proto = Tooltip.prototype;\n\n  _proto.setTargetEl = function setTargetEl(targetEl) {\n    var tooltip = this;\n    tooltip.detachEvents();\n    tooltip.$targetEl = $(targetEl);\n    tooltip.targetEl = tooltip.$targetEl[0];\n    tooltip.attachEvents();\n    return tooltip;\n  };\n\n  _proto.position = function position(targetEl) {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        app = tooltip.app,\n        $containerEl = tooltip.$containerEl;\n    var hasContainerEl = !!tooltip.params.containerEl;\n    var tooltipOffset = tooltip.params.offset || 0;\n    $el.css({\n      left: '',\n      top: ''\n    });\n    var $targetEl = $(targetEl || tooltip.targetEl);\n    var _ref = [$el.width(), $el.height()],\n        width = _ref[0],\n        height = _ref[1];\n    $el.css({\n      left: '',\n      top: ''\n    });\n    var targetWidth;\n    var targetHeight;\n    var targetOffsetLeft;\n    var targetOffsetTop;\n    var boundaries = hasContainerEl && $containerEl.length ? $containerEl[0].getBoundingClientRect() : app;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n\n      if (typeof targetWidth === 'undefined' && typeof targetHeight === 'undefined') {\n        var clientRect = $targetEl[0].getBoundingClientRect();\n        targetWidth = clientRect.width;\n        targetHeight = clientRect.height;\n      }\n\n      var targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - boundaries.left;\n      targetOffsetTop = targetOffset.top - boundaries.top;\n      var targetParentPage = $targetEl.parents('.page');\n\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    }\n\n    var _ref2 = [0, 0, 0],\n        left = _ref2[0],\n        top = _ref2[1]; // Top Position\n\n    var position = 'top';\n\n    if (height + tooltipOffset < targetOffsetTop) {\n      // On top\n      top = targetOffsetTop - height - tooltipOffset;\n    } else if (height < boundaries.height - targetOffsetTop - targetHeight) {\n      // On bottom\n      position = 'bottom';\n      top = targetOffsetTop + targetHeight + tooltipOffset;\n    } else {\n      // On middle\n      position = 'middle';\n      top = targetHeight / 2 + targetOffsetTop - height / 2;\n\n      if (top <= 0) {\n        top = 8;\n      } else if (top + height >= boundaries.height) {\n        top = boundaries.height - height - 8;\n      }\n    } // Horizontal Position\n\n\n    if (position === 'top' || position === 'bottom') {\n      left = targetWidth / 2 + targetOffsetLeft - width / 2;\n      if (left < 8) left = 8;\n      if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      if (left < 0) left = 0;\n    } else if (position === 'middle') {\n      left = targetOffsetLeft - width;\n\n      if (left < 8 || left + width > boundaries.width) {\n        if (left < 8) left = targetOffsetLeft + targetWidth;\n        if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      }\n    } // Apply Styles\n\n\n    $el.css({\n      top: top + \"px\",\n      left: left + \"px\"\n    });\n  };\n\n  _proto.show = function show(aroundEl) {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        $targetEl = tooltip.$targetEl,\n        $containerEl = tooltip.$containerEl;\n\n    if ($containerEl[0] && $el[0] && !$containerEl[0].contains($el[0])) {\n      $containerEl.append($el);\n    }\n\n    tooltip.position(aroundEl);\n    var $aroundEl = $(aroundEl);\n    tooltip.visible = true;\n    tooltip.opened = true;\n    $targetEl.trigger('tooltip:show');\n    $el.trigger('tooltip:show');\n\n    if ($aroundEl.length && $aroundEl[0] !== $targetEl[0]) {\n      $aroundEl.trigger('tooltip:show');\n    }\n\n    tooltip.emit('local::show tooltipShow', tooltip);\n    $el.removeClass('tooltip-out').addClass('tooltip-in');\n    return tooltip;\n  };\n\n  _proto.hide = function hide() {\n    var tooltip = this;\n    var $el = tooltip.$el,\n        $targetEl = tooltip.$targetEl;\n    tooltip.visible = false;\n    tooltip.opened = false;\n    $targetEl.trigger('tooltip:hide');\n    $el.trigger('tooltip:hide');\n    tooltip.emit('local::hide tooltipHide', tooltip);\n    $el.addClass('tooltip-out').removeClass('tooltip-in');\n    return tooltip;\n  };\n\n  _proto.render = function render() {\n    var tooltip = this;\n    if (tooltip.params.render) return tooltip.params.render.call(tooltip, tooltip);\n    var _tooltip$params2 = tooltip.params,\n        cssClass = _tooltip$params2.cssClass,\n        text = _tooltip$params2.text;\n    return (\"\\n      <div class=\\\"tooltip \" + (cssClass || '') + \"\\\">\\n        <div class=\\\"tooltip-content\\\">\" + (text || '') + \"</div>\\n      </div>\\n    \").trim();\n  };\n\n  _proto.setText = function setText(newText) {\n    var tooltip = this;\n\n    if (typeof newText === 'undefined') {\n      return tooltip;\n    }\n\n    tooltip.params.text = newText;\n    tooltip.text = newText;\n\n    if (tooltip.$el) {\n      tooltip.$el.children('.tooltip-content').html(newText);\n    }\n\n    if (tooltip.opened) {\n      tooltip.position();\n    }\n\n    return tooltip;\n  };\n\n  _proto.init = function init() {\n    var tooltip = this;\n    tooltip.attachEvents();\n  };\n\n  _proto.destroy = function destroy() {\n    var tooltip = this;\n    if (!tooltip.$targetEl || tooltip.destroyed) return;\n    tooltip.$targetEl.trigger('tooltip:beforedestroy');\n    tooltip.emit('local::beforeDestroy tooltipBeforeDestroy', tooltip);\n    tooltip.$el.remove();\n    if (tooltip.$targetEl[0]) delete tooltip.$targetEl[0].f7Tooltip;\n    tooltip.detachEvents();\n    deleteProps(tooltip);\n    tooltip.destroyed = true;\n  };\n\n  return Tooltip;\n}(Framework7Class);\n\nexport default Tooltip;"]},"metadata":{},"sourceType":"module"}