{"ast":null,"code":"import $ from '../../../shared/dom7';\nimport { colorHsbToHsl } from '../../../shared/utils';\n/** @jsx $jsx */\n\nimport $jsx from '../../../shared/$jsx';\nexport default {\n  render: function render(self) {\n    var _self$params = self.params,\n        sliderLabel = _self$params.sliderLabel,\n        sliderValue = _self$params.sliderValue,\n        sliderValueEditable = _self$params.sliderValueEditable,\n        hueLabelText = _self$params.hueLabelText,\n        saturationLabelText = _self$params.saturationLabelText,\n        brightnessLabelText = _self$params.brightnessLabelText;\n    return $jsx(\"div\", {\n      class: \"color-picker-module color-picker-module-hsb-sliders\"\n    }, $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, hueLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-hue\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"360\",\n      class: \"color-picker-value-hue\",\n      \"data-color-index\": \"0\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-hue\"\n    }))), $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, saturationLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-saturation\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"100\",\n      class: \"color-picker-value-saturation\",\n      \"data-color-index\": \"1\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-saturation\"\n    }))), $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, brightnessLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-brightness\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"100\",\n      class: \"color-picker-value-brightness\",\n      \"data-color-index\": \"2\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-brightness\"\n    }))));\n  },\n  init: function init(self) {\n    self.hueRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-hue'),\n      min: 0,\n      max: 360,\n      step: 0.1,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          self.setValue({\n            hue: value\n          });\n        }\n      }\n    });\n    self.saturationRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-saturation'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          var s = Math.floor(value * 1000) / 1000;\n          self.setValue({\n            hsb: [self.value.hsb[0], s, self.value.hsb[2]]\n          });\n        }\n      }\n    });\n    self.brightnessRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-brightness'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          var b = Math.floor(value * 1000) / 1000;\n          self.setValue({\n            hsb: [self.value.hsb[0], self.value.hsb[1], b]\n          });\n        }\n      }\n    });\n\n    function handleInputChange(e) {\n      var hsb = [].concat(self.value.hsb);\n      var index = parseInt($(e.target).attr('data-color-index'), 10);\n      var value = parseFloat(e.target.value);\n\n      if (Number.isNaN(value)) {\n        e.target.value = hsb[index];\n        return;\n      }\n\n      if (index === 0) {\n        value = Math.max(0, Math.min(360, value));\n      } else {\n        value = Math.max(0, Math.min(100, value)) / 100;\n      }\n\n      hsb[index] = value;\n      self.setValue({\n        hsb: hsb\n      });\n    }\n\n    self.$el.on('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n\n    self.destroyHsbSlidersEvents = function destroyHsbSlidersEvents() {\n      self.$el.off('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n    };\n  },\n  update: function update(self) {\n    var app = self.app,\n        value = self.value;\n    var _self$params2 = self.params,\n        sliderValue = _self$params2.sliderValue,\n        sliderValueEditable = _self$params2.sliderValueEditable;\n    var hsb = value.hsb,\n        hue = value.hue;\n    self.hueRangeSlider.value = hue;\n    self.saturationRangeSlider.value = hsb[1];\n    self.brightnessRangeSlider.value = hsb[2];\n    self.hueRangeSlider.layout();\n    self.saturationRangeSlider.layout();\n    self.brightnessRangeSlider.layout();\n    var hslCurrent = colorHsbToHsl(hsb[0], hsb[1], 1);\n    var hslLeft = colorHsbToHsl(hsb[0], 0, 1);\n    var hslRight = colorHsbToHsl(hsb[0], 1, 1);\n    var brightness = hsb[2];\n    self.hueRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"hsl(\" + hue + \", 100%, 50%)\");\n    self.saturationRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"hsl(\" + hslCurrent[0] + \", \" + hslCurrent[1] * 100 + \"%, \" + hslCurrent[2] * 100 + \"%)\");\n    self.brightnessRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"rgb(\" + brightness * 255 + \", \" + brightness * 255 + \", \" + brightness * 255 + \")\");\n    self.saturationRangeSlider.$el.find('.range-bar').css('background-image', \"linear-gradient(\" + (app.rtl ? 'to left' : 'to right') + \", hsl(\" + hslLeft[0] + \", \" + hslLeft[1] * 100 + \"%, \" + hslLeft[2] * 100 + \"%), hsl(\" + hslRight[0] + \", \" + hslRight[1] * 100 + \"%, \" + hslRight[2] * 100 + \"%))\");\n\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-hue').val(\"\" + hue);\n      self.$el.find('input.color-picker-value-saturation').val(\"\" + hsb[1] * 1000 / 10);\n      self.$el.find('input.color-picker-value-brightness').val(\"\" + hsb[2] * 1000 / 10);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-hue').text(\"\" + hue);\n      self.$el.find('span.color-picker-value-saturation').text(\"\" + hsb[1] * 1000 / 10);\n      self.$el.find('span.color-picker-value-brightness').text(\"\" + hsb[2] * 1000 / 10);\n    }\n  },\n  destroy: function destroy(self) {\n    if (self.hueRangeSlider && self.hueRangeSlider.destroy) {\n      self.hueRangeSlider.destroy();\n    }\n\n    if (self.saturationRangeSlider && self.saturationRangeSlider.destroy) {\n      self.saturationRangeSlider.destroy();\n    }\n\n    if (self.brightnessRangeSlider && self.brightnessRangeSlider.destroy) {\n      self.brightnessRangeSlider.destroy();\n    }\n\n    delete self.hueRangeSlider;\n    delete self.saturationRangeSlider;\n    delete self.brightnessRangeSlider;\n    if (self.destroyHsbSlidersEvents) self.destroyHsbSlidersEvents();\n    delete self.destroyHsbSlidersEvents;\n  }\n};","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/color-picker/modules/hsb-sliders.js"],"names":["$","colorHsbToHsl","$jsx","render","self","_self$params","params","sliderLabel","sliderValue","sliderValueEditable","hueLabelText","saturationLabelText","brightnessLabelText","class","type","step","min","max","init","hueRangeSlider","app","range","create","el","$el","find","value","on","change","setValue","hue","saturationRangeSlider","s","Math","floor","hsb","brightnessRangeSlider","b","handleInputChange","e","concat","index","parseInt","target","attr","parseFloat","Number","isNaN","destroyHsbSlidersEvents","off","update","_self$params2","layout","hslCurrent","hslLeft","hslRight","brightness","style","setProperty","css","rtl","val","text","destroy"],"mappings":"AAAA,OAAOA,CAAP,MAAc,sBAAd;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA;;AAEA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,eAAe;AACbC,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBC,IAAhB,EAAsB;AAC5B,QAAIC,YAAY,GAAGD,IAAI,CAACE,MAAxB;AAAA,QACIC,WAAW,GAAGF,YAAY,CAACE,WAD/B;AAAA,QAEIC,WAAW,GAAGH,YAAY,CAACG,WAF/B;AAAA,QAGIC,mBAAmB,GAAGJ,YAAY,CAACI,mBAHvC;AAAA,QAIIC,YAAY,GAAGL,YAAY,CAACK,YAJhC;AAAA,QAKIC,mBAAmB,GAAGN,YAAY,CAACM,mBALvC;AAAA,QAMIC,mBAAmB,GAAGP,YAAY,CAACO,mBANvC;AAOA,WAAOV,IAAI,CAAC,KAAD,EAAQ;AACjBW,MAAAA,KAAK,EAAE;AADU,KAAR,EAERX,IAAI,CAAC,KAAD,EAAQ;AACbW,MAAAA,KAAK,EAAE;AADM,KAAR,EAEJN,WAAW,IAAIL,IAAI,CAAC,KAAD,EAAQ;AAC5BW,MAAAA,KAAK,EAAE;AADqB,KAAR,EAEnBH,YAFmB,CAFf,EAIWR,IAAI,CAAC,KAAD,EAAQ;AAC5BW,MAAAA,KAAK,EAAE;AADqB,KAAR,CAJf,EAMHL,WAAW,IAAIN,IAAI,CAAC,KAAD,EAAQ;AAC7BW,MAAAA,KAAK,EAAE;AADsB,KAAR,EAEpBJ,mBAAmB,GAAGP,IAAI,CAAC,OAAD,EAAU;AACrCY,MAAAA,IAAI,EAAE,QAD+B;AAErCC,MAAAA,IAAI,EAAE,KAF+B;AAGrCC,MAAAA,GAAG,EAAE,GAHgC;AAIrCC,MAAAA,GAAG,EAAE,KAJgC;AAKrCJ,MAAAA,KAAK,EAAE,wBAL8B;AAMrC,0BAAoB;AANiB,KAAV,CAAP,GAOjBX,IAAI,CAAC,MAAD,EAAS;AAChBW,MAAAA,KAAK,EAAE;AADS,KAAT,CATc,CANhB,CAFI,EAmBLX,IAAI,CAAC,KAAD,EAAQ;AAChBW,MAAAA,KAAK,EAAE;AADS,KAAR,EAEPN,WAAW,IAAIL,IAAI,CAAC,KAAD,EAAQ;AAC5BW,MAAAA,KAAK,EAAE;AADqB,KAAR,EAEnBF,mBAFmB,CAFZ,EAIeT,IAAI,CAAC,KAAD,EAAQ;AACnCW,MAAAA,KAAK,EAAE;AAD4B,KAAR,CAJnB,EAMNL,WAAW,IAAIN,IAAI,CAAC,KAAD,EAAQ;AAC7BW,MAAAA,KAAK,EAAE;AADsB,KAAR,EAEpBJ,mBAAmB,GAAGP,IAAI,CAAC,OAAD,EAAU;AACrCY,MAAAA,IAAI,EAAE,QAD+B;AAErCC,MAAAA,IAAI,EAAE,KAF+B;AAGrCC,MAAAA,GAAG,EAAE,GAHgC;AAIrCC,MAAAA,GAAG,EAAE,KAJgC;AAKrCJ,MAAAA,KAAK,EAAE,+BAL8B;AAMrC,0BAAoB;AANiB,KAAV,CAAP,GAOjBX,IAAI,CAAC,MAAD,EAAS;AAChBW,MAAAA,KAAK,EAAE;AADS,KAAT,CATc,CANb,CAnBC,EAoCLX,IAAI,CAAC,KAAD,EAAQ;AAChBW,MAAAA,KAAK,EAAE;AADS,KAAR,EAEPN,WAAW,IAAIL,IAAI,CAAC,KAAD,EAAQ;AAC5BW,MAAAA,KAAK,EAAE;AADqB,KAAR,EAEnBD,mBAFmB,CAFZ,EAIeV,IAAI,CAAC,KAAD,EAAQ;AACnCW,MAAAA,KAAK,EAAE;AAD4B,KAAR,CAJnB,EAMNL,WAAW,IAAIN,IAAI,CAAC,KAAD,EAAQ;AAC7BW,MAAAA,KAAK,EAAE;AADsB,KAAR,EAEpBJ,mBAAmB,GAAGP,IAAI,CAAC,OAAD,EAAU;AACrCY,MAAAA,IAAI,EAAE,QAD+B;AAErCC,MAAAA,IAAI,EAAE,KAF+B;AAGrCC,MAAAA,GAAG,EAAE,GAHgC;AAIrCC,MAAAA,GAAG,EAAE,KAJgC;AAKrCJ,MAAAA,KAAK,EAAE,+BAL8B;AAMrC,0BAAoB;AANiB,KAAV,CAAP,GAOjBX,IAAI,CAAC,MAAD,EAAS;AAChBW,MAAAA,KAAK,EAAE;AADS,KAAT,CATc,CANb,CApCC,CAAX;AAsDD,GA/DY;AAgEbK,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAcd,IAAd,EAAoB;AACxBA,IAAAA,IAAI,CAACe,cAAL,GAAsBf,IAAI,CAACgB,GAAL,CAASC,KAAT,CAAeC,MAAf,CAAsB;AAC1CC,MAAAA,EAAE,EAAEnB,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,0BAAd,CADsC;AAE1CT,MAAAA,GAAG,EAAE,CAFqC;AAG1CC,MAAAA,GAAG,EAAE,GAHqC;AAI1CF,MAAAA,IAAI,EAAE,GAJoC;AAK1CW,MAAAA,KAAK,EAAE,CALmC;AAM1CC,MAAAA,EAAE,EAAE;AACFC,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBP,KAAhB,EAAuBK,KAAvB,EAA8B;AACpCtB,UAAAA,IAAI,CAACyB,QAAL,CAAc;AACZC,YAAAA,GAAG,EAAEJ;AADO,WAAd;AAGD;AALC;AANsC,KAAtB,CAAtB;AAcAtB,IAAAA,IAAI,CAAC2B,qBAAL,GAA6B3B,IAAI,CAACgB,GAAL,CAASC,KAAT,CAAeC,MAAf,CAAsB;AACjDC,MAAAA,EAAE,EAAEnB,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,iCAAd,CAD6C;AAEjDT,MAAAA,GAAG,EAAE,CAF4C;AAGjDC,MAAAA,GAAG,EAAE,CAH4C;AAIjDF,MAAAA,IAAI,EAAE,KAJ2C;AAKjDW,MAAAA,KAAK,EAAE,CAL0C;AAMjDC,MAAAA,EAAE,EAAE;AACFC,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBP,KAAhB,EAAuBK,KAAvB,EAA8B;AACpC,cAAIM,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWR,KAAK,GAAG,IAAnB,IAA2B,IAAnC;AACAtB,UAAAA,IAAI,CAACyB,QAAL,CAAc;AACZM,YAAAA,GAAG,EAAE,CAAC/B,IAAI,CAACsB,KAAL,CAAWS,GAAX,CAAe,CAAf,CAAD,EAAoBH,CAApB,EAAuB5B,IAAI,CAACsB,KAAL,CAAWS,GAAX,CAAe,CAAf,CAAvB;AADO,WAAd;AAGD;AANC;AAN6C,KAAtB,CAA7B;AAeA/B,IAAAA,IAAI,CAACgC,qBAAL,GAA6BhC,IAAI,CAACgB,GAAL,CAASC,KAAT,CAAeC,MAAf,CAAsB;AACjDC,MAAAA,EAAE,EAAEnB,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,iCAAd,CAD6C;AAEjDT,MAAAA,GAAG,EAAE,CAF4C;AAGjDC,MAAAA,GAAG,EAAE,CAH4C;AAIjDF,MAAAA,IAAI,EAAE,KAJ2C;AAKjDW,MAAAA,KAAK,EAAE,CAL0C;AAMjDC,MAAAA,EAAE,EAAE;AACFC,QAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBP,KAAhB,EAAuBK,KAAvB,EAA8B;AACpC,cAAIW,CAAC,GAAGJ,IAAI,CAACC,KAAL,CAAWR,KAAK,GAAG,IAAnB,IAA2B,IAAnC;AACAtB,UAAAA,IAAI,CAACyB,QAAL,CAAc;AACZM,YAAAA,GAAG,EAAE,CAAC/B,IAAI,CAACsB,KAAL,CAAWS,GAAX,CAAe,CAAf,CAAD,EAAoB/B,IAAI,CAACsB,KAAL,CAAWS,GAAX,CAAe,CAAf,CAApB,EAAuCE,CAAvC;AADO,WAAd;AAGD;AANC;AAN6C,KAAtB,CAA7B;;AAgBA,aAASC,iBAAT,CAA2BC,CAA3B,EAA8B;AAC5B,UAAIJ,GAAG,GAAG,GAAGK,MAAH,CAAUpC,IAAI,CAACsB,KAAL,CAAWS,GAArB,CAAV;AACA,UAAIM,KAAK,GAAGC,QAAQ,CAAC1C,CAAC,CAACuC,CAAC,CAACI,MAAH,CAAD,CAAYC,IAAZ,CAAiB,kBAAjB,CAAD,EAAuC,EAAvC,CAApB;AACA,UAAIlB,KAAK,GAAGmB,UAAU,CAACN,CAAC,CAACI,MAAF,CAASjB,KAAV,CAAtB;;AAEA,UAAIoB,MAAM,CAACC,KAAP,CAAarB,KAAb,CAAJ,EAAyB;AACvBa,QAAAA,CAAC,CAACI,MAAF,CAASjB,KAAT,GAAiBS,GAAG,CAACM,KAAD,CAApB;AACA;AACD;;AAED,UAAIA,KAAK,KAAK,CAAd,EAAiB;AACff,QAAAA,KAAK,GAAGO,IAAI,CAAChB,GAAL,CAAS,CAAT,EAAYgB,IAAI,CAACjB,GAAL,CAAS,GAAT,EAAcU,KAAd,CAAZ,CAAR;AACD,OAFD,MAEO;AACLA,QAAAA,KAAK,GAAGO,IAAI,CAAChB,GAAL,CAAS,CAAT,EAAYgB,IAAI,CAACjB,GAAL,CAAS,GAAT,EAAcU,KAAd,CAAZ,IAAoC,GAA5C;AACD;;AAEDS,MAAAA,GAAG,CAACM,KAAD,CAAH,GAAaf,KAAb;AACAtB,MAAAA,IAAI,CAACyB,QAAL,CAAc;AACZM,QAAAA,GAAG,EAAEA;AADO,OAAd;AAGD;;AAED/B,IAAAA,IAAI,CAACoB,GAAL,CAASG,EAAT,CAAY,QAAZ,EAAsB,wCAAtB,EAAgEW,iBAAhE;;AAEAlC,IAAAA,IAAI,CAAC4C,uBAAL,GAA+B,SAASA,uBAAT,GAAmC;AAChE5C,MAAAA,IAAI,CAACoB,GAAL,CAASyB,GAAT,CAAa,QAAb,EAAuB,wCAAvB,EAAiEX,iBAAjE;AACD,KAFD;AAGD,GAzIY;AA0IbY,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB9C,IAAhB,EAAsB;AAC5B,QAAIgB,GAAG,GAAGhB,IAAI,CAACgB,GAAf;AAAA,QACIM,KAAK,GAAGtB,IAAI,CAACsB,KADjB;AAEA,QAAIyB,aAAa,GAAG/C,IAAI,CAACE,MAAzB;AAAA,QACIE,WAAW,GAAG2C,aAAa,CAAC3C,WADhC;AAAA,QAEIC,mBAAmB,GAAG0C,aAAa,CAAC1C,mBAFxC;AAGA,QAAI0B,GAAG,GAAGT,KAAK,CAACS,GAAhB;AAAA,QACIL,GAAG,GAAGJ,KAAK,CAACI,GADhB;AAEA1B,IAAAA,IAAI,CAACe,cAAL,CAAoBO,KAApB,GAA4BI,GAA5B;AACA1B,IAAAA,IAAI,CAAC2B,qBAAL,CAA2BL,KAA3B,GAAmCS,GAAG,CAAC,CAAD,CAAtC;AACA/B,IAAAA,IAAI,CAACgC,qBAAL,CAA2BV,KAA3B,GAAmCS,GAAG,CAAC,CAAD,CAAtC;AACA/B,IAAAA,IAAI,CAACe,cAAL,CAAoBiC,MAApB;AACAhD,IAAAA,IAAI,CAAC2B,qBAAL,CAA2BqB,MAA3B;AACAhD,IAAAA,IAAI,CAACgC,qBAAL,CAA2BgB,MAA3B;AACA,QAAIC,UAAU,GAAGpD,aAAa,CAACkC,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiB,CAAjB,CAA9B;AACA,QAAImB,OAAO,GAAGrD,aAAa,CAACkC,GAAG,CAAC,CAAD,CAAJ,EAAS,CAAT,EAAY,CAAZ,CAA3B;AACA,QAAIoB,QAAQ,GAAGtD,aAAa,CAACkC,GAAG,CAAC,CAAD,CAAJ,EAAS,CAAT,EAAY,CAAZ,CAA5B;AACA,QAAIqB,UAAU,GAAGrB,GAAG,CAAC,CAAD,CAApB;AACA/B,IAAAA,IAAI,CAACe,cAAL,CAAoBK,GAApB,CAAwB,CAAxB,EAA2BiC,KAA3B,CAAiCC,WAAjC,CAA6C,uBAA7C,EAAsE,SAAS5B,GAAT,GAAe,cAArF;AACA1B,IAAAA,IAAI,CAAC2B,qBAAL,CAA2BP,GAA3B,CAA+B,CAA/B,EAAkCiC,KAAlC,CAAwCC,WAAxC,CAAoD,uBAApD,EAA6E,SAASL,UAAU,CAAC,CAAD,CAAnB,GAAyB,IAAzB,GAAgCA,UAAU,CAAC,CAAD,CAAV,GAAgB,GAAhD,GAAsD,KAAtD,GAA8DA,UAAU,CAAC,CAAD,CAAV,GAAgB,GAA9E,GAAoF,IAAjK;AACAjD,IAAAA,IAAI,CAACgC,qBAAL,CAA2BZ,GAA3B,CAA+B,CAA/B,EAAkCiC,KAAlC,CAAwCC,WAAxC,CAAoD,uBAApD,EAA6E,SAASF,UAAU,GAAG,GAAtB,GAA4B,IAA5B,GAAmCA,UAAU,GAAG,GAAhD,GAAsD,IAAtD,GAA6DA,UAAU,GAAG,GAA1E,GAAgF,GAA7J;AACApD,IAAAA,IAAI,CAAC2B,qBAAL,CAA2BP,GAA3B,CAA+BC,IAA/B,CAAoC,YAApC,EAAkDkC,GAAlD,CAAsD,kBAAtD,EAA0E,sBAAsBvC,GAAG,CAACwC,GAAJ,GAAU,SAAV,GAAsB,UAA5C,IAA0D,QAA1D,GAAqEN,OAAO,CAAC,CAAD,CAA5E,GAAkF,IAAlF,GAAyFA,OAAO,CAAC,CAAD,CAAP,GAAa,GAAtG,GAA4G,KAA5G,GAAoHA,OAAO,CAAC,CAAD,CAAP,GAAa,GAAjI,GAAuI,UAAvI,GAAoJC,QAAQ,CAAC,CAAD,CAA5J,GAAkK,IAAlK,GAAyKA,QAAQ,CAAC,CAAD,CAAR,GAAc,GAAvL,GAA6L,KAA7L,GAAqMA,QAAQ,CAAC,CAAD,CAAR,GAAc,GAAnN,GAAyN,KAAnS;;AAEA,QAAI/C,WAAW,IAAIC,mBAAnB,EAAwC;AACtCL,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,8BAAd,EAA8CoC,GAA9C,CAAkD,KAAK/B,GAAvD;AACA1B,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,qCAAd,EAAqDoC,GAArD,CAAyD,KAAK1B,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgB,EAA9E;AACA/B,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,qCAAd,EAAqDoC,GAArD,CAAyD,KAAK1B,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgB,EAA9E;AACD,KAJD,MAIO,IAAI3B,WAAJ,EAAiB;AACtBJ,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,6BAAd,EAA6CqC,IAA7C,CAAkD,KAAKhC,GAAvD;AACA1B,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,oCAAd,EAAoDqC,IAApD,CAAyD,KAAK3B,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgB,EAA9E;AACA/B,MAAAA,IAAI,CAACoB,GAAL,CAASC,IAAT,CAAc,oCAAd,EAAoDqC,IAApD,CAAyD,KAAK3B,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT,GAAgB,EAA9E;AACD;AACF,GA1KY;AA2Kb4B,EAAAA,OAAO,EAAE,SAASA,OAAT,CAAiB3D,IAAjB,EAAuB;AAC9B,QAAIA,IAAI,CAACe,cAAL,IAAuBf,IAAI,CAACe,cAAL,CAAoB4C,OAA/C,EAAwD;AACtD3D,MAAAA,IAAI,CAACe,cAAL,CAAoB4C,OAApB;AACD;;AAED,QAAI3D,IAAI,CAAC2B,qBAAL,IAA8B3B,IAAI,CAAC2B,qBAAL,CAA2BgC,OAA7D,EAAsE;AACpE3D,MAAAA,IAAI,CAAC2B,qBAAL,CAA2BgC,OAA3B;AACD;;AAED,QAAI3D,IAAI,CAACgC,qBAAL,IAA8BhC,IAAI,CAACgC,qBAAL,CAA2B2B,OAA7D,EAAsE;AACpE3D,MAAAA,IAAI,CAACgC,qBAAL,CAA2B2B,OAA3B;AACD;;AAED,WAAO3D,IAAI,CAACe,cAAZ;AACA,WAAOf,IAAI,CAAC2B,qBAAZ;AACA,WAAO3B,IAAI,CAACgC,qBAAZ;AACA,QAAIhC,IAAI,CAAC4C,uBAAT,EAAkC5C,IAAI,CAAC4C,uBAAL;AAClC,WAAO5C,IAAI,CAAC4C,uBAAZ;AACD;AA7LY,CAAf","sourcesContent":["import $ from '../../../shared/dom7';\nimport { colorHsbToHsl } from '../../../shared/utils';\n/** @jsx $jsx */\n\nimport $jsx from '../../../shared/$jsx';\nexport default {\n  render: function render(self) {\n    var _self$params = self.params,\n        sliderLabel = _self$params.sliderLabel,\n        sliderValue = _self$params.sliderValue,\n        sliderValueEditable = _self$params.sliderValueEditable,\n        hueLabelText = _self$params.hueLabelText,\n        saturationLabelText = _self$params.saturationLabelText,\n        brightnessLabelText = _self$params.brightnessLabelText;\n    return $jsx(\"div\", {\n      class: \"color-picker-module color-picker-module-hsb-sliders\"\n    }, $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, hueLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-hue\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"360\",\n      class: \"color-picker-value-hue\",\n      \"data-color-index\": \"0\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-hue\"\n    }))), $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, saturationLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-saturation\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"100\",\n      class: \"color-picker-value-saturation\",\n      \"data-color-index\": \"1\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-saturation\"\n    }))), $jsx(\"div\", {\n      class: \"color-picker-slider-wrap\"\n    }, sliderLabel && $jsx(\"div\", {\n      class: \"color-picker-slider-label\"\n    }, brightnessLabelText), $jsx(\"div\", {\n      class: \"range-slider color-picker-slider color-picker-slider-brightness\"\n    }), sliderValue && $jsx(\"div\", {\n      class: \"color-picker-slider-value\"\n    }, sliderValueEditable ? $jsx(\"input\", {\n      type: \"number\",\n      step: \"0.1\",\n      min: \"0\",\n      max: \"100\",\n      class: \"color-picker-value-brightness\",\n      \"data-color-index\": \"2\"\n    }) : $jsx(\"span\", {\n      class: \"color-picker-value-brightness\"\n    }))));\n  },\n  init: function init(self) {\n    self.hueRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-hue'),\n      min: 0,\n      max: 360,\n      step: 0.1,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          self.setValue({\n            hue: value\n          });\n        }\n      }\n    });\n    self.saturationRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-saturation'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          var s = Math.floor(value * 1000) / 1000;\n          self.setValue({\n            hsb: [self.value.hsb[0], s, self.value.hsb[2]]\n          });\n        }\n      }\n    });\n    self.brightnessRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-brightness'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change: function change(range, value) {\n          var b = Math.floor(value * 1000) / 1000;\n          self.setValue({\n            hsb: [self.value.hsb[0], self.value.hsb[1], b]\n          });\n        }\n      }\n    });\n\n    function handleInputChange(e) {\n      var hsb = [].concat(self.value.hsb);\n      var index = parseInt($(e.target).attr('data-color-index'), 10);\n      var value = parseFloat(e.target.value);\n\n      if (Number.isNaN(value)) {\n        e.target.value = hsb[index];\n        return;\n      }\n\n      if (index === 0) {\n        value = Math.max(0, Math.min(360, value));\n      } else {\n        value = Math.max(0, Math.min(100, value)) / 100;\n      }\n\n      hsb[index] = value;\n      self.setValue({\n        hsb: hsb\n      });\n    }\n\n    self.$el.on('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n\n    self.destroyHsbSlidersEvents = function destroyHsbSlidersEvents() {\n      self.$el.off('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n    };\n  },\n  update: function update(self) {\n    var app = self.app,\n        value = self.value;\n    var _self$params2 = self.params,\n        sliderValue = _self$params2.sliderValue,\n        sliderValueEditable = _self$params2.sliderValueEditable;\n    var hsb = value.hsb,\n        hue = value.hue;\n    self.hueRangeSlider.value = hue;\n    self.saturationRangeSlider.value = hsb[1];\n    self.brightnessRangeSlider.value = hsb[2];\n    self.hueRangeSlider.layout();\n    self.saturationRangeSlider.layout();\n    self.brightnessRangeSlider.layout();\n    var hslCurrent = colorHsbToHsl(hsb[0], hsb[1], 1);\n    var hslLeft = colorHsbToHsl(hsb[0], 0, 1);\n    var hslRight = colorHsbToHsl(hsb[0], 1, 1);\n    var brightness = hsb[2];\n    self.hueRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"hsl(\" + hue + \", 100%, 50%)\");\n    self.saturationRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"hsl(\" + hslCurrent[0] + \", \" + hslCurrent[1] * 100 + \"%, \" + hslCurrent[2] * 100 + \"%)\");\n    self.brightnessRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', \"rgb(\" + brightness * 255 + \", \" + brightness * 255 + \", \" + brightness * 255 + \")\");\n    self.saturationRangeSlider.$el.find('.range-bar').css('background-image', \"linear-gradient(\" + (app.rtl ? 'to left' : 'to right') + \", hsl(\" + hslLeft[0] + \", \" + hslLeft[1] * 100 + \"%, \" + hslLeft[2] * 100 + \"%), hsl(\" + hslRight[0] + \", \" + hslRight[1] * 100 + \"%, \" + hslRight[2] * 100 + \"%))\");\n\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-hue').val(\"\" + hue);\n      self.$el.find('input.color-picker-value-saturation').val(\"\" + hsb[1] * 1000 / 10);\n      self.$el.find('input.color-picker-value-brightness').val(\"\" + hsb[2] * 1000 / 10);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-hue').text(\"\" + hue);\n      self.$el.find('span.color-picker-value-saturation').text(\"\" + hsb[1] * 1000 / 10);\n      self.$el.find('span.color-picker-value-brightness').text(\"\" + hsb[2] * 1000 / 10);\n    }\n  },\n  destroy: function destroy(self) {\n    if (self.hueRangeSlider && self.hueRangeSlider.destroy) {\n      self.hueRangeSlider.destroy();\n    }\n\n    if (self.saturationRangeSlider && self.saturationRangeSlider.destroy) {\n      self.saturationRangeSlider.destroy();\n    }\n\n    if (self.brightnessRangeSlider && self.brightnessRangeSlider.destroy) {\n      self.brightnessRangeSlider.destroy();\n    }\n\n    delete self.hueRangeSlider;\n    delete self.saturationRangeSlider;\n    delete self.brightnessRangeSlider;\n    if (self.destroyHsbSlidersEvents) self.destroyHsbSlidersEvents();\n    delete self.destroyHsbSlidersEvents;\n  }\n};"]},"metadata":{},"sourceType":"module"}