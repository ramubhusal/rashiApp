{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Router from '../../modules/router/router';\nimport Framework7Class from '../../shared/class';\nimport resizableView from './resizable-view';\n\nvar View = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(View, _Framework7Class);\n\n  function View(app, el, viewParams) {\n    var _this;\n\n    if (viewParams === void 0) {\n      viewParams = {};\n    }\n\n    _this = _Framework7Class.call(this, viewParams, [app]) || this;\n\n    var view = _assertThisInitialized(_this);\n\n    var ssr = view.params.routerId;\n    var defaults = {\n      routes: [],\n      routesAdd: []\n    };\n\n    if (!ssr) {\n      var $el = $(el);\n\n      if (!$el.length) {\n        var message = \"Framework7: can't create a View instance because \";\n        message += typeof el === 'string' ? \"the selector \\\"\" + el + \"\\\" didn't match any element\" : 'el must be an HTMLElement or Dom7 object';\n        throw new Error(message);\n      }\n    } // Default View params\n\n\n    view.params = extend({\n      el: el\n    }, defaults, app.params.view, viewParams); // Routes\n\n    if (view.params.routes.length > 0) {\n      view.routes = view.params.routes;\n    } else {\n      view.routes = [].concat(app.routes, view.params.routesAdd);\n    } // View Props\n\n\n    extend(false, view, {\n      app: app,\n      name: view.params.name,\n      main: view.params.main,\n      history: [],\n      scrollHistory: {}\n    }); // Install Modules\n\n    view.useModules(); // Add to app\n\n    app.views.push(view);\n\n    if (view.main) {\n      app.views.main = view;\n    }\n\n    if (view.name) {\n      app.views[view.name] = view;\n    } // Index\n\n\n    view.index = app.views.indexOf(view); // View ID\n\n    var viewId;\n\n    if (view.name) {\n      viewId = \"view_\" + view.name;\n    } else if (view.main) {\n      viewId = 'view_main';\n    } else {\n      viewId = \"view_\" + view.index;\n    }\n\n    view.id = viewId;\n\n    if (!view.params.init) {\n      return view || _assertThisInitialized(_this);\n    } // Init View\n\n\n    if (app.initialized) {\n      view.init();\n    } else {\n      app.on('init', function () {\n        view.init();\n      });\n    }\n\n    return view || _assertThisInitialized(_this);\n  }\n\n  var _proto = View.prototype;\n\n  _proto.destroy = function destroy() {\n    var view = this;\n    var app = view.app;\n    view.$el.trigger('view:beforedestroy');\n    view.emit('local::beforeDestroy viewBeforeDestroy', view);\n    app.off('resize', view.checkMasterDetailBreakpoint);\n\n    if (view.main) {\n      app.views.main = null;\n      delete app.views.main;\n    } else if (view.name) {\n      app.views[view.name] = null;\n      delete app.views[view.name];\n    }\n\n    view.$el[0].f7View = null;\n    delete view.$el[0].f7View;\n    app.views.splice(app.views.indexOf(view), 1); // Destroy Router\n\n    if (view.params.router && view.router) {\n      view.router.destroy();\n    }\n\n    view.emit('local::destroy viewDestroy', view); // Delete props & methods\n\n    Object.keys(view).forEach(function (viewProp) {\n      view[viewProp] = null;\n      delete view[viewProp];\n    });\n    view = null;\n  };\n\n  _proto.checkMasterDetailBreakpoint = function checkMasterDetailBreakpoint(force) {\n    var view = this;\n    var app = view.app;\n    var wasMasterDetail = view.$el.hasClass('view-master-detail');\n    var isMasterDetail = app.width >= view.params.masterDetailBreakpoint && view.$el.children('.page-master').length;\n\n    if (typeof force === 'undefined' && isMasterDetail || force === true) {\n      view.$el.addClass('view-master-detail');\n\n      if (!wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    } else {\n      view.$el.removeClass('view-master-detail');\n\n      if (wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    }\n  };\n\n  _proto.initMasterDetail = function initMasterDetail() {\n    var view = this;\n    var app = view.app;\n    view.checkMasterDetailBreakpoint = view.checkMasterDetailBreakpoint.bind(view);\n    view.checkMasterDetailBreakpoint();\n\n    if (view.params.masterDetailResizable) {\n      resizableView(view);\n    }\n\n    app.on('resize', view.checkMasterDetailBreakpoint);\n  };\n\n  _proto.mount = function mount(viewEl) {\n    var view = this;\n    var app = view.app;\n    var el = view.params.el || viewEl;\n    var $el = $(el); // Selector\n\n    var selector;\n    if (typeof el === 'string') selector = el;else {\n      // Supposed to be HTMLElement or Dom7\n      selector = ($el.attr('id') ? \"#\" + $el.attr('id') : '') + ($el.attr('class') ? \".\" + $el.attr('class').replace(/ /g, '.').replace('.active', '') : '');\n    } // DynamicNavbar\n\n    var $navbarsEl;\n\n    if (app.theme === 'ios' && view.params.iosDynamicNavbar) {\n      $navbarsEl = $el.children('.navbars').eq(0);\n\n      if ($navbarsEl.length === 0) {\n        $navbarsEl = $('<div class=\"navbars\"></div>');\n      }\n    }\n\n    extend(view, {\n      $el: $el,\n      el: $el[0],\n      main: view.main || $el.hasClass('view-main'),\n      $navbarsEl: $navbarsEl,\n      navbarsEl: $navbarsEl ? $navbarsEl[0] : undefined,\n      selector: selector\n    });\n\n    if (view.main) {\n      app.views.main = view;\n    } // Save in DOM\n\n\n    if ($el && $el[0]) {\n      $el[0].f7View = view;\n    }\n\n    view.emit('local::mount viewMount', view);\n  };\n\n  _proto.init = function init(viewEl) {\n    var view = this;\n    view.mount(viewEl);\n\n    if (view.params.router) {\n      if (view.params.masterDetailBreakpoint > 0) {\n        view.initMasterDetail();\n      }\n\n      view.router.init();\n      view.$el.trigger('view:init');\n      view.emit('local::init viewInit', view);\n    }\n  };\n\n  return View;\n}(Framework7Class); // Use Router\n\n\nView.use(Router);\nexport default View;","map":{"version":3,"sources":["E:/Programming/React/rashi-app/node_modules/framework7/esm/components/view/view-class.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","$","extend","Router","Framework7Class","resizableView","View","_Framework7Class","app","el","viewParams","_this","call","view","ssr","params","routerId","defaults","routes","routesAdd","$el","length","message","Error","concat","name","main","history","scrollHistory","useModules","views","push","index","indexOf","viewId","id","init","initialized","on","_proto","destroy","trigger","emit","off","checkMasterDetailBreakpoint","f7View","splice","router","keys","forEach","viewProp","force","wasMasterDetail","hasClass","isMasterDetail","width","masterDetailBreakpoint","children","addClass","removeClass","initMasterDetail","bind","masterDetailResizable","mount","viewEl","selector","attr","replace","$navbarsEl","theme","iosDynamicNavbar","eq","navbarsEl","undefined","use"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Router from '../../modules/router/router';\nimport Framework7Class from '../../shared/class';\nimport resizableView from './resizable-view';\n\nvar View = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(View, _Framework7Class);\n\n  function View(app, el, viewParams) {\n    var _this;\n\n    if (viewParams === void 0) {\n      viewParams = {};\n    }\n\n    _this = _Framework7Class.call(this, viewParams, [app]) || this;\n\n    var view = _assertThisInitialized(_this);\n\n    var ssr = view.params.routerId;\n    var defaults = {\n      routes: [],\n      routesAdd: []\n    };\n\n    if (!ssr) {\n      var $el = $(el);\n\n      if (!$el.length) {\n        var message = \"Framework7: can't create a View instance because \";\n        message += typeof el === 'string' ? \"the selector \\\"\" + el + \"\\\" didn't match any element\" : 'el must be an HTMLElement or Dom7 object';\n        throw new Error(message);\n      }\n    } // Default View params\n\n\n    view.params = extend({\n      el: el\n    }, defaults, app.params.view, viewParams); // Routes\n\n    if (view.params.routes.length > 0) {\n      view.routes = view.params.routes;\n    } else {\n      view.routes = [].concat(app.routes, view.params.routesAdd);\n    } // View Props\n\n\n    extend(false, view, {\n      app: app,\n      name: view.params.name,\n      main: view.params.main,\n      history: [],\n      scrollHistory: {}\n    }); // Install Modules\n\n    view.useModules(); // Add to app\n\n    app.views.push(view);\n\n    if (view.main) {\n      app.views.main = view;\n    }\n\n    if (view.name) {\n      app.views[view.name] = view;\n    } // Index\n\n\n    view.index = app.views.indexOf(view); // View ID\n\n    var viewId;\n\n    if (view.name) {\n      viewId = \"view_\" + view.name;\n    } else if (view.main) {\n      viewId = 'view_main';\n    } else {\n      viewId = \"view_\" + view.index;\n    }\n\n    view.id = viewId;\n\n    if (!view.params.init) {\n      return view || _assertThisInitialized(_this);\n    } // Init View\n\n\n    if (app.initialized) {\n      view.init();\n    } else {\n      app.on('init', function () {\n        view.init();\n      });\n    }\n\n    return view || _assertThisInitialized(_this);\n  }\n\n  var _proto = View.prototype;\n\n  _proto.destroy = function destroy() {\n    var view = this;\n    var app = view.app;\n    view.$el.trigger('view:beforedestroy');\n    view.emit('local::beforeDestroy viewBeforeDestroy', view);\n    app.off('resize', view.checkMasterDetailBreakpoint);\n\n    if (view.main) {\n      app.views.main = null;\n      delete app.views.main;\n    } else if (view.name) {\n      app.views[view.name] = null;\n      delete app.views[view.name];\n    }\n\n    view.$el[0].f7View = null;\n    delete view.$el[0].f7View;\n    app.views.splice(app.views.indexOf(view), 1); // Destroy Router\n\n    if (view.params.router && view.router) {\n      view.router.destroy();\n    }\n\n    view.emit('local::destroy viewDestroy', view); // Delete props & methods\n\n    Object.keys(view).forEach(function (viewProp) {\n      view[viewProp] = null;\n      delete view[viewProp];\n    });\n    view = null;\n  };\n\n  _proto.checkMasterDetailBreakpoint = function checkMasterDetailBreakpoint(force) {\n    var view = this;\n    var app = view.app;\n    var wasMasterDetail = view.$el.hasClass('view-master-detail');\n    var isMasterDetail = app.width >= view.params.masterDetailBreakpoint && view.$el.children('.page-master').length;\n\n    if (typeof force === 'undefined' && isMasterDetail || force === true) {\n      view.$el.addClass('view-master-detail');\n\n      if (!wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    } else {\n      view.$el.removeClass('view-master-detail');\n\n      if (wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    }\n  };\n\n  _proto.initMasterDetail = function initMasterDetail() {\n    var view = this;\n    var app = view.app;\n    view.checkMasterDetailBreakpoint = view.checkMasterDetailBreakpoint.bind(view);\n    view.checkMasterDetailBreakpoint();\n\n    if (view.params.masterDetailResizable) {\n      resizableView(view);\n    }\n\n    app.on('resize', view.checkMasterDetailBreakpoint);\n  };\n\n  _proto.mount = function mount(viewEl) {\n    var view = this;\n    var app = view.app;\n    var el = view.params.el || viewEl;\n    var $el = $(el); // Selector\n\n    var selector;\n    if (typeof el === 'string') selector = el;else {\n      // Supposed to be HTMLElement or Dom7\n      selector = ($el.attr('id') ? \"#\" + $el.attr('id') : '') + ($el.attr('class') ? \".\" + $el.attr('class').replace(/ /g, '.').replace('.active', '') : '');\n    } // DynamicNavbar\n\n    var $navbarsEl;\n\n    if (app.theme === 'ios' && view.params.iosDynamicNavbar) {\n      $navbarsEl = $el.children('.navbars').eq(0);\n\n      if ($navbarsEl.length === 0) {\n        $navbarsEl = $('<div class=\"navbars\"></div>');\n      }\n    }\n\n    extend(view, {\n      $el: $el,\n      el: $el[0],\n      main: view.main || $el.hasClass('view-main'),\n      $navbarsEl: $navbarsEl,\n      navbarsEl: $navbarsEl ? $navbarsEl[0] : undefined,\n      selector: selector\n    });\n\n    if (view.main) {\n      app.views.main = view;\n    } // Save in DOM\n\n\n    if ($el && $el[0]) {\n      $el[0].f7View = view;\n    }\n\n    view.emit('local::mount viewMount', view);\n  };\n\n  _proto.init = function init(viewEl) {\n    var view = this;\n    view.mount(viewEl);\n\n    if (view.params.router) {\n      if (view.params.masterDetailBreakpoint > 0) {\n        view.initMasterDetail();\n      }\n\n      view.router.init();\n      view.$el.trigger('view:init');\n      view.emit('local::init viewInit', view);\n    }\n  };\n\n  return View;\n}(Framework7Class); // Use Router\n\n\nView.use(Router);\nexport default View;"]},"metadata":{},"sourceType":"module"}