{"ast":null,"code":"function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport { extend, colorRgbToHex, colorRgbToHsl, colorHslToHsb, colorHslToRgb, colorHsbToHsl, colorHexToRgb, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport $ from '../../shared/dom7';\nimport { getDevice } from '../../shared/get-device';\nimport moduleAlphaSlider from './modules/alpha-slider';\nimport moduleCurrentColor from './modules/current-color';\nimport moduleHex from './modules/hex';\nimport moduleHsbSliders from './modules/hsb-sliders';\nimport moduleHueSlider from './modules/hue-slider';\nimport moduleBrightnessSlider from './modules/brightness-slider';\nimport modulePalette from './modules/palette';\nimport moduleInitialCurrentColors from './modules/initial-current-colors';\nimport moduleRgbBars from './modules/rgb-bars';\nimport moduleRgbSliders from './modules/rgb-sliders';\nimport moduleSbSpectrum from './modules/sb-spectrum';\nimport moduleHsSpectrum from './modules/hs-spectrum';\nimport moduleWheel from './modules/wheel';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar ColorPicker = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(ColorPicker, _Framework7Class);\n\n  function ColorPicker(app, params) {\n    var _this;\n\n    if (params === void 0) {\n      params = {};\n    }\n\n    _this = _Framework7Class.call(this, params, [app]) || this;\n\n    var self = _assertThisInitialized(_this);\n\n    self.params = extend({}, app.params.colorPicker, params);\n    var $containerEl;\n\n    if (self.params.containerEl) {\n      $containerEl = $(self.params.containerEl);\n      if ($containerEl.length === 0) return self || _assertThisInitialized(_this);\n    }\n\n    var $inputEl;\n\n    if (self.params.inputEl) {\n      $inputEl = $(self.params.inputEl);\n    }\n\n    var $targetEl;\n\n    if (self.params.targetEl) {\n      $targetEl = $(self.params.targetEl);\n    }\n\n    extend(self, {\n      app: app,\n      $containerEl: $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      $inputEl: $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      $targetEl: $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      initialized: false,\n      opened: false,\n      url: self.params.url,\n      modules: {\n        'alpha-slider': moduleAlphaSlider,\n        'current-color': moduleCurrentColor,\n        hex: moduleHex,\n        // eslint-disable-line\n        'hsb-sliders': moduleHsbSliders,\n        'hue-slider': moduleHueSlider,\n        'brightness-slider': moduleBrightnessSlider,\n        palette: modulePalette,\n        // eslint-disable-line\n        'initial-current-colors': moduleInitialCurrentColors,\n        'rgb-bars': moduleRgbBars,\n        'rgb-sliders': moduleRgbSliders,\n        'sb-spectrum': moduleSbSpectrum,\n        'hs-spectrum': moduleHsSpectrum,\n        wheel: moduleWheel // eslint-disable-line\n\n      }\n    });\n\n    function onInputClick() {\n      self.open();\n    }\n\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n\n    function onTargetClick() {\n      self.open();\n    }\n\n    function onHtmlClick(e) {\n      if (self.destroyed || !self.params) return;\n      if (self.params.openIn === 'page') return;\n      var $clickTargetEl = $(e.target);\n      if (!self.opened || self.closing) return;\n      if ($clickTargetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($clickTargetEl.closest('.color-picker-popup, .color-picker-popover').length) return;\n\n      if ($inputEl && $inputEl.length > 0) {\n        if ($clickTargetEl[0] !== $inputEl[0] && $clickTargetEl.closest('.sheet-modal').length === 0) {\n          self.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal').length === 0) {\n        self.close();\n      }\n    } // Events\n\n\n    extend(self, {\n      attachInputEvents: function attachInputEvents() {\n        self.$inputEl.on('click', onInputClick);\n\n        if (self.params.inputReadOnly) {\n          self.$inputEl.on('focus mousedown', onInputFocus);\n\n          if (self.$inputEl[0]) {\n            self.$inputEl[0].f7ValidateReadonly = true;\n          }\n        }\n      },\n      detachInputEvents: function detachInputEvents() {\n        self.$inputEl.off('click', onInputClick);\n\n        if (self.params.inputReadOnly) {\n          self.$inputEl.off('focus mousedown', onInputFocus);\n\n          if (self.$inputEl[0]) {\n            delete self.$inputEl[0].f7ValidateReadonly;\n          }\n        }\n      },\n      attachTargetEvents: function attachTargetEvents() {\n        self.$targetEl.on('click', onTargetClick);\n      },\n      detachTargetEvents: function detachTargetEvents() {\n        self.$targetEl.off('click', onTargetClick);\n      },\n      attachHtmlEvents: function attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n      },\n      detachHtmlEvents: function detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n      }\n    });\n    self.init();\n    return self || _assertThisInitialized(_this);\n  }\n\n  var _proto = ColorPicker.prototype;\n\n  _proto.attachEvents = function attachEvents() {\n    var self = this;\n    self.centerModules = self.centerModules.bind(self);\n\n    if (self.params.centerModules) {\n      self.app.on('resize', self.centerModules);\n    }\n  };\n\n  _proto.detachEvents = function detachEvents() {\n    var self = this;\n\n    if (self.params.centerModules) {\n      self.app.off('resize', self.centerModules);\n    }\n  };\n\n  _proto.centerModules = function centerModules() {\n    var self = this;\n    if (!self.opened || !self.$el || self.inline) return;\n    var $pageContentEl = self.$el.find('.page-content');\n    if (!$pageContentEl.length) return;\n    var _$pageContentEl$ = $pageContentEl[0],\n        scrollHeight = _$pageContentEl$.scrollHeight,\n        offsetHeight = _$pageContentEl$.offsetHeight;\n\n    if (scrollHeight <= offsetHeight) {\n      $pageContentEl.addClass('justify-content-center');\n    } else {\n      $pageContentEl.removeClass('justify-content-center');\n    }\n  };\n\n  _proto.initInput = function initInput() {\n    var self = this;\n    if (!self.$inputEl) return;\n    if (self.params.inputReadOnly) self.$inputEl.prop('readOnly', true);\n  };\n\n  _proto.getModalType = function getModalType() {\n    var self = this;\n    var app = self.app,\n        modal = self.modal,\n        params = self.params;\n    var openIn = params.openIn,\n        openInPhone = params.openInPhone;\n    var device = getDevice();\n    if (modal && modal.type) return modal.type;\n    if (openIn !== 'auto') return openIn;\n    if (self.inline) return null;\n\n    if (device.ios) {\n      return device.ipad ? 'popover' : openInPhone;\n    }\n\n    if (app.width >= 768 || device.desktop && app.theme === 'aurora') {\n      return 'popover';\n    }\n\n    return openInPhone;\n  };\n\n  _proto.formatValue = function formatValue() {\n    var self = this;\n    var value = self.value;\n\n    if (self.params.formatValue) {\n      return self.params.formatValue.call(self, value);\n    }\n\n    return value.hex;\n  } // eslint-disable-next-line\n  ;\n\n  _proto.normalizeHsValues = function normalizeHsValues(arr) {\n    return [Math.floor(arr[0] * 10) / 10, Math.floor(arr[1] * 1000) / 1000, Math.floor(arr[2] * 1000) / 1000];\n  };\n\n  _proto.setValue = function setValue(value, updateModules) {\n    if (value === void 0) {\n      value = {};\n    }\n\n    if (updateModules === void 0) {\n      updateModules = true;\n    }\n\n    var self = this;\n    if (typeof value === 'undefined') return;\n\n    var _ref = self.value || {},\n        hex = _ref.hex,\n        rgb = _ref.rgb,\n        hsl = _ref.hsl,\n        hsb = _ref.hsb,\n        _ref$alpha = _ref.alpha,\n        alpha = _ref$alpha === void 0 ? 1 : _ref$alpha,\n        hue = _ref.hue,\n        rgba = _ref.rgba,\n        hsla = _ref.hsla;\n\n    var needChangeEvent = self.value || !self.value && !self.params.value;\n    var valueChanged;\n    Object.keys(value).forEach(function (k) {\n      if (!self.value || typeof self.value[k] === 'undefined') {\n        valueChanged = true;\n        return;\n      }\n\n      var v = value[k];\n\n      if (Array.isArray(v)) {\n        v.forEach(function (subV, subIndex) {\n          if (subV !== self.value[k][subIndex]) {\n            valueChanged = true;\n          }\n        });\n      } else if (v !== self.value[k]) {\n        valueChanged = true;\n      }\n    });\n    if (!valueChanged) return;\n\n    if (value.rgb || value.rgba) {\n      var _ref2 = value.rgb || value.rgba,\n          r = _ref2[0],\n          g = _ref2[1],\n          b = _ref2[2],\n          _ref2$ = _ref2[3],\n          a = _ref2$ === void 0 ? alpha : _ref2$;\n\n      rgb = [r, g, b];\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = colorRgbToHsl.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = a;\n      rgba = [rgb[0], rgb[1], rgb[2], a];\n      hsla = [hsl[0], hsl[1], hsl[2], a];\n    }\n\n    if (value.hsl || value.hsla) {\n      var _ref3 = value.hsl || value.hsla,\n          h = _ref3[0],\n          s = _ref3[1],\n          l = _ref3[2],\n          _ref3$ = _ref3[3],\n          _a = _ref3$ === void 0 ? alpha : _ref3$;\n\n      hsl = [h, s, l];\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = _a;\n      rgba = [rgb[0], rgb[1], rgb[2], _a];\n      hsla = [hsl[0], hsl[1], hsl[2], _a];\n    }\n\n    if (value.hsb) {\n      var _value$hsb = value.hsb,\n          _h = _value$hsb[0],\n          _s = _value$hsb[1],\n          _b = _value$hsb[2],\n          _value$hsb$ = _value$hsb[3],\n          _a2 = _value$hsb$ === void 0 ? alpha : _value$hsb$;\n\n      hsb = [_h, _s, _b];\n      hsl = colorHsbToHsl.apply(void 0, hsb);\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = _a2;\n      rgba = [rgb[0], rgb[1], rgb[2], _a2];\n      hsla = [hsl[0], hsl[1], hsl[2], _a2];\n    }\n\n    if (value.hex) {\n      rgb = colorHexToRgb(value.hex);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = colorRgbToHsl.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n\n    if (typeof value.alpha !== 'undefined') {\n      alpha = value.alpha;\n\n      if (typeof rgb !== 'undefined') {\n        rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      }\n\n      if (typeof hsl !== 'undefined') {\n        hsla = [hsl[0], hsl[1], hsl[2], alpha];\n      }\n    }\n\n    if (typeof value.hue !== 'undefined') {\n      var _hsl = hsl,\n          _h2 = _hsl[0],\n          _s2 = _hsl[1],\n          _l = _hsl[2]; // eslint-disable-line\n\n      hsl = [value.hue, _s2, _l];\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n\n    self.value = {\n      hex: hex,\n      alpha: alpha,\n      hue: hue,\n      rgb: rgb,\n      hsl: hsl,\n      hsb: hsb,\n      rgba: rgba,\n      hsla: hsla\n    };\n    if (!self.initialValue) self.initialValue = extend({}, self.value);\n    self.updateValue(needChangeEvent);\n\n    if (self.opened && updateModules) {\n      self.updateModules();\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    var self = this;\n    return self.value;\n  };\n\n  _proto.updateValue = function updateValue(fireEvents) {\n    if (fireEvents === void 0) {\n      fireEvents = true;\n    }\n\n    var self = this;\n    var $inputEl = self.$inputEl,\n        value = self.value,\n        $targetEl = self.$targetEl;\n\n    if ($targetEl && self.params.targetElSetBackgroundColor) {\n      var rgba = value.rgba;\n      $targetEl.css('background-color', \"rgba(\" + rgba.join(', ') + \")\");\n    }\n\n    if (fireEvents) {\n      self.emit('local::change colorPickerChange', self, value);\n    }\n\n    if ($inputEl && $inputEl.length) {\n      var inputValue = self.formatValue(value);\n\n      if ($inputEl && $inputEl.length) {\n        $inputEl.val(inputValue);\n\n        if (fireEvents) {\n          $inputEl.trigger('change');\n        }\n      }\n    }\n  };\n\n  _proto.updateModules = function updateModules() {\n    var self = this;\n    var modules = self.modules;\n    self.params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].update) {\n        modules[m].update(self);\n      } else if (m && m.update) {\n        m.update(self);\n      }\n    });\n  };\n\n  _proto.update = function update() {\n    var self = this;\n    self.updateModules();\n  };\n\n  _proto.renderPicker = function renderPicker() {\n    var self = this;\n    var params = self.params,\n        modules = self.modules;\n    var html = '';\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].render) {\n        html += modules[m].render(self);\n      } else if (m && m.render) {\n        html += m.render(self);\n      }\n    });\n    return html;\n  };\n\n  _proto.renderNavbar = function renderNavbar() {\n    var self = this;\n\n    if (self.params.renderNavbar) {\n      return self.params.renderNavbar.call(self, self);\n    }\n\n    var _self$params = self.params,\n        openIn = _self$params.openIn,\n        navbarTitleText = _self$params.navbarTitleText,\n        navbarBackLinkText = _self$params.navbarBackLinkText,\n        navbarCloseText = _self$params.navbarCloseText;\n    return $jsx(\"div\", {\n      class: \"navbar\"\n    }, $jsx(\"div\", {\n      class: \"navbar-bg\"\n    }), $jsx(\"div\", {\n      class: \"navbar-inner sliding\"\n    }, openIn === 'page' && $jsx(\"div\", {\n      class: \"left\"\n    }, $jsx(\"a\", {\n      class: \"link back\"\n    }, $jsx(\"i\", {\n      class: \"icon icon-back\"\n    }), $jsx(\"span\", {\n      class: \"if-not-md\"\n    }, navbarBackLinkText))), $jsx(\"div\", {\n      class: \"title\"\n    }, navbarTitleText), openIn !== 'page' && $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link popup-close\",\n      \"data-popup\": \".color-picker-popup\"\n    }, navbarCloseText))));\n  };\n\n  _proto.renderToolbar = function renderToolbar() {\n    var self = this;\n\n    if (self.params.renderToolbar) {\n      return self.params.renderToolbar.call(self, self);\n    }\n\n    return $jsx(\"div\", {\n      class: \"toolbar toolbar-top no-shadow\"\n    }, $jsx(\"div\", {\n      class: \"toolbar-inner\"\n    }, $jsx(\"div\", {\n      class: \"left\"\n    }), $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link sheet-close popover-close\",\n      \"data-sheet\": \".color-picker-sheet-modal\",\n      \"data-popover\": \".color-picker-popover\"\n    }, self.params.toolbarCloseText))));\n  };\n\n  _proto.renderInline = function renderInline() {\n    var self = this;\n    var _self$params2 = self.params,\n        cssClass = _self$params2.cssClass,\n        groupedModules = _self$params2.groupedModules;\n    return $jsx(\"div\", {\n      class: \"color-picker color-picker-inline \" + (groupedModules ? 'color-picker-grouped-modules' : '') + \" \" + (cssClass || '')\n    }, self.renderPicker());\n  };\n\n  _proto.renderSheet = function renderSheet() {\n    var self = this;\n    var _self$params3 = self.params,\n        cssClass = _self$params3.cssClass,\n        toolbarSheet = _self$params3.toolbarSheet,\n        groupedModules = _self$params3.groupedModules;\n    return $jsx(\"div\", {\n      class: \"sheet-modal color-picker color-picker-sheet-modal \" + (groupedModules ? 'color-picker-grouped-modules' : '') + \" \" + (cssClass || '')\n    }, toolbarSheet && self.renderToolbar(), $jsx(\"div\", {\n      class: \"sheet-modal-inner\"\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker())));\n  };\n\n  _proto.renderPopover = function renderPopover() {\n    var self = this;\n    var _self$params4 = self.params,\n        cssClass = _self$params4.cssClass,\n        toolbarPopover = _self$params4.toolbarPopover,\n        groupedModules = _self$params4.groupedModules;\n    return $jsx(\"div\", {\n      class: \"popover color-picker-popover \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"popover-inner\"\n    }, $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, toolbarPopover && self.renderToolbar(), $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker()))));\n  };\n\n  _proto.renderPopup = function renderPopup() {\n    var self = this;\n    var _self$params5 = self.params,\n        cssClass = _self$params5.cssClass,\n        navbarPopup = _self$params5.navbarPopup,\n        groupedModules = _self$params5.groupedModules;\n    return $jsx(\"div\", {\n      class: \"popup color-picker-popup \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"page\"\n    }, navbarPopup && self.renderNavbar(), $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker()))));\n  };\n\n  _proto.renderPage = function renderPage() {\n    var self = this;\n    var _self$params6 = self.params,\n        cssClass = _self$params6.cssClass,\n        groupedModules = _self$params6.groupedModules;\n    return $jsx(\"div\", {\n      class: \"page color-picker-page \" + (cssClass || ''),\n      \"data-name\": \"color-picker-page\"\n    }, self.renderNavbar(), $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker())));\n  } // eslint-disable-next-line\n  ;\n\n  _proto.render = function render() {\n    var self = this;\n    var params = self.params;\n    if (params.render) return params.render.call(self);\n    if (self.inline) return self.renderInline();\n\n    if (params.openIn === 'page') {\n      return self.renderPage();\n    }\n\n    var modalType = self.getModalType();\n    if (modalType === 'popover') return self.renderPopover();\n    if (modalType === 'sheet') return self.renderSheet();\n    if (modalType === 'popup') return self.renderPopup();\n  };\n\n  _proto.onOpen = function onOpen() {\n    var self = this;\n    var initialized = self.initialized,\n        $el = self.$el,\n        app = self.app,\n        $inputEl = self.$inputEl,\n        inline = self.inline,\n        value = self.value,\n        params = self.params,\n        modules = self.modules;\n    self.closing = false;\n    self.opened = true;\n    self.opening = true; // Init main events\n\n    self.attachEvents();\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].init) {\n        modules[m].init(self);\n      } else if (m && m.init) {\n        m.init(self);\n      }\n    });\n    var updateValue = !value && params.value; // Set value\n\n    if (!initialized) {\n      if (value) self.setValue(value);else if (params.value) {\n        self.setValue(params.value, false);\n      } else if (!params.value) {\n        self.setValue({\n          hex: '#ff0000'\n        }, false);\n      }\n    } else if (value) {\n      self.initialValue = extend({}, value);\n      self.setValue(value, false);\n    } // Update input value\n\n\n    if (updateValue) self.updateValue();\n    self.updateModules(); // Center modules\n\n    if (params.centerModules) {\n      self.centerModules();\n    } // Extra focus\n\n\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    self.initialized = true; // Trigger events\n\n    if ($el) {\n      $el.trigger('colorpicker:open');\n    }\n\n    if ($inputEl) {\n      $inputEl.trigger('colorpicker:open');\n    }\n\n    self.emit('local::open colorPickerOpen', self);\n  };\n\n  _proto.onOpened = function onOpened() {\n    var self = this;\n    self.opening = false;\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:opened');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:opened');\n    }\n\n    self.emit('local::opened colorPickerOpened', self);\n  };\n\n  _proto.onClose = function onClose() {\n    var self = this;\n    var app = self.app,\n        params = self.params,\n        modules = self.modules;\n    self.opening = false;\n    self.closing = true; // Detach events\n\n    self.detachEvents();\n\n    if (self.$inputEl) {\n      if (app.theme === 'md') {\n        self.$inputEl.trigger('blur');\n      } else {\n        var validate = self.$inputEl.attr('validate');\n        var required = self.$inputEl.attr('required');\n\n        if (validate && required) {\n          app.input.validate(self.$inputEl);\n        }\n      }\n    }\n\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].destroy) {\n        modules[m].destroy(self);\n      } else if (m && m.destroy) {\n        m.destroy(self);\n      }\n    });\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:close');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:close');\n    }\n\n    self.emit('local::close colorPickerClose', self);\n  };\n\n  _proto.onClosed = function onClosed() {\n    var self = this;\n    self.opened = false;\n    self.closing = false;\n\n    if (!self.inline) {\n      nextTick(function () {\n        if (self.modal && self.modal.el && self.modal.destroy) {\n          if (!self.params.routableModals) {\n            self.modal.destroy();\n          }\n        }\n\n        delete self.modal;\n      });\n    }\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:closed');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:closed');\n    }\n\n    self.emit('local::closed colorPickerClosed', self);\n  };\n\n  _proto.open = function open() {\n    var self = this;\n    var app = self.app,\n        opened = self.opened,\n        inline = self.inline,\n        $inputEl = self.$inputEl,\n        $targetEl = self.$targetEl,\n        params = self.params;\n    if (opened) return;\n\n    if (inline) {\n      self.$el = $(self.render());\n      self.$el[0].f7ColorPicker = self;\n      self.$containerEl.append(self.$el);\n      self.onOpen();\n      self.onOpened();\n      return;\n    }\n\n    var colorPickerContent = self.render();\n\n    if (params.openIn === 'page') {\n      self.view.router.navigate({\n        url: self.url,\n        route: {\n          content: colorPickerContent,\n          path: self.url,\n          on: {\n            pageBeforeIn: function pageBeforeIn(e, page) {\n              self.$el = page.$el.find('.color-picker');\n              self.$el[0].f7ColorPicker = self;\n              self.onOpen();\n            },\n            pageAfterIn: function pageAfterIn() {\n              self.onOpened();\n            },\n            pageBeforeOut: function pageBeforeOut() {\n              self.onClose();\n            },\n            pageAfterOut: function pageAfterOut() {\n              self.onClosed();\n\n              if (self.$el && self.$el[0]) {\n                self.$el[0].f7ColorPicker = null;\n                delete self.$el[0].f7ColorPicker;\n              }\n            }\n          }\n        }\n      });\n    } else {\n      var modalType = self.getModalType();\n      var backdrop = params.backdrop;\n\n      if (backdrop === null || typeof backdrop === 'undefined') {\n        if (modalType === 'popover' && app.params.popover.backdrop !== false) backdrop = true;\n        if (modalType === 'popup') backdrop = true;\n      }\n\n      var modalParams = {\n        targetEl: $targetEl || $inputEl,\n        scrollToEl: params.scrollToInput ? $targetEl || $inputEl : undefined,\n        content: colorPickerContent,\n        backdrop: backdrop,\n        closeByBackdropClick: params.closeByBackdropClick,\n        on: {\n          open: function open() {\n            var modal = this;\n            self.modal = modal;\n            self.$el = modalType === 'popover' || modalType === 'popup' ? modal.$el.find('.color-picker') : modal.$el;\n            self.$el[0].f7ColorPicker = self;\n            self.onOpen();\n          },\n          opened: function opened() {\n            self.onOpened();\n          },\n          close: function close() {\n            self.onClose();\n          },\n          closed: function closed() {\n            self.onClosed();\n\n            if (self.$el && self.$el[0]) {\n              self.$el[0].f7ColorPicker = null;\n              delete self.$el[0].f7ColorPicker;\n            }\n          }\n        }\n      };\n\n      if (modalType === 'popup') {\n        modalParams.push = params.popupPush;\n        modalParams.swipeToClose = params.popupSwipeToClose;\n      }\n\n      if (modalType === 'sheet') {\n        modalParams.push = params.sheetPush;\n        modalParams.swipeToClose = params.sheetSwipeToClose;\n      }\n\n      if (params.routableModals && self.view) {\n        var _route;\n\n        self.view.router.navigate({\n          url: self.url,\n          route: (_route = {\n            path: self.url\n          }, _route[modalType] = modalParams, _route)\n        });\n      } else {\n        self.modal = app[modalType].create(modalParams);\n        self.modal.open();\n      }\n    }\n  };\n\n  _proto.close = function close() {\n    var self = this;\n    var opened = self.opened,\n        inline = self.inline;\n    if (!opened) return;\n\n    if (inline) {\n      self.onClose();\n      self.onClosed();\n      return;\n    }\n\n    if (self.params.routableModals && self.view || self.params.openIn === 'page') {\n      self.view.router.back();\n    } else {\n      self.modal.close();\n    }\n  };\n\n  _proto.init = function init() {\n    var self = this;\n    self.initInput();\n\n    if (self.inline) {\n      self.open();\n      self.emit('local::init colorPickerInit', self);\n      return;\n    }\n\n    if (!self.initialized && self.params.value) {\n      self.setValue(self.params.value);\n    } // Attach input Events\n\n\n    if (self.$inputEl) {\n      self.attachInputEvents();\n    }\n\n    if (self.$targetEl) {\n      self.attachTargetEvents();\n    }\n\n    if (self.params.closeByOutsideClick) {\n      self.attachHtmlEvents();\n    }\n\n    self.emit('local::init colorPickerInit', self);\n  };\n\n  _proto.destroy = function destroy() {\n    var self = this;\n    if (self.destroyed) return;\n    var $el = self.$el;\n    self.emit('local::beforeDestroy colorPickerBeforeDestroy', self);\n    if ($el) $el.trigger('colorpicker:beforedestroy');\n    self.close(); // Detach Events\n\n    self.detachEvents();\n\n    if (self.$inputEl) {\n      self.detachInputEvents();\n    }\n\n    if (self.$targetEl) {\n      self.detachTargetEvents();\n    }\n\n    if (self.params.closeByOutsideClick) {\n      self.detachHtmlEvents();\n    }\n\n    if ($el && $el.length) delete self.$el[0].f7ColorPicker;\n    deleteProps(self);\n    self.destroyed = true;\n  };\n\n  _createClass(ColorPicker, [{\n    key: \"view\",\n    get: function get() {\n      var $inputEl = this.$inputEl,\n          $targetEl = this.$targetEl,\n          app = this.app,\n          params = this.params;\n      var view;\n\n      if (params.view) {\n        view = params.view;\n      } else {\n        if ($inputEl) {\n          view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n        }\n\n        if (!view && $targetEl) {\n          view = $targetEl.parents('.view').length && $targetEl.parents('.view')[0].f7View;\n        }\n      }\n\n      if (!view) view = app.views.main;\n      return view;\n    }\n  }]);\n\n  return ColorPicker;\n}(Framework7Class);\n\nexport default ColorPicker;","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/color-picker/color-picker-class.js"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","extend","colorRgbToHex","colorRgbToHsl","colorHslToHsb","colorHslToRgb","colorHsbToHsl","colorHexToRgb","nextTick","deleteProps","Framework7Class","$","getDevice","moduleAlphaSlider","moduleCurrentColor","moduleHex","moduleHsbSliders","moduleHueSlider","moduleBrightnessSlider","modulePalette","moduleInitialCurrentColors","moduleRgbBars","moduleRgbSliders","moduleSbSpectrum","moduleHsSpectrum","moduleWheel","$jsx","ColorPicker","_Framework7Class","app","params","_this","call","colorPicker","$containerEl","containerEl","$inputEl","inputEl","$targetEl","targetEl","inline","initialized","opened","url","modules","hex","palette","wheel","onInputClick","open","onInputFocus","e","preventDefault","onTargetClick","onHtmlClick","destroyed","openIn","$clickTargetEl","closing","closest","close","attachInputEvents","on","inputReadOnly","f7ValidateReadonly","detachInputEvents","off","attachTargetEvents","detachTargetEvents","attachHtmlEvents","detachHtmlEvents","init","_proto","attachEvents","centerModules","bind","detachEvents","$el","$pageContentEl","find","_$pageContentEl$","scrollHeight","offsetHeight","addClass","removeClass","initInput","prop","getModalType","modal","openInPhone","device","type","ios","ipad","width","desktop","theme","formatValue","value","normalizeHsValues","arr","Math","floor","setValue","updateModules","_ref","rgb","hsl","hsb","_ref$alpha","alpha","hue","rgba","hsla","needChangeEvent","valueChanged","keys","forEach","k","v","Array","isArray","subV","subIndex","_ref2","r","g","b","_ref2$","a","apply","_ref3","h","s","l","_ref3$","_a","_value$hsb","_h","_s","_b","_value$hsb$","_a2","_hsl","_h2","_s2","_l","initialValue","updateValue","getValue","fireEvents","targetElSetBackgroundColor","css","join","emit","inputValue","val","trigger","m","update","renderPicker","html","render","renderNavbar","_self$params","navbarTitleText","navbarBackLinkText","navbarCloseText","class","renderToolbar","toolbarCloseText","renderInline","_self$params2","cssClass","groupedModules","renderSheet","_self$params3","toolbarSheet","renderPopover","_self$params4","toolbarPopover","renderPopup","_self$params5","navbarPopup","renderPage","_self$params6","modalType","onOpen","opening","onOpened","onClose","validate","attr","required","input","destroy","onClosed","el","routableModals","f7ColorPicker","append","colorPickerContent","view","router","navigate","route","content","path","pageBeforeIn","page","pageAfterIn","pageBeforeOut","pageAfterOut","backdrop","popover","modalParams","scrollToEl","scrollToInput","undefined","closeByBackdropClick","closed","push","popupPush","swipeToClose","popupSwipeToClose","sheetPush","sheetSwipeToClose","_route","back","closeByOutsideClick","get","parents","f7View","views","main"],"mappings":"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","sourcesContent":["function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport { extend, colorRgbToHex, colorRgbToHsl, colorHslToHsb, colorHslToRgb, colorHsbToHsl, colorHexToRgb, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport $ from '../../shared/dom7';\nimport { getDevice } from '../../shared/get-device';\nimport moduleAlphaSlider from './modules/alpha-slider';\nimport moduleCurrentColor from './modules/current-color';\nimport moduleHex from './modules/hex';\nimport moduleHsbSliders from './modules/hsb-sliders';\nimport moduleHueSlider from './modules/hue-slider';\nimport moduleBrightnessSlider from './modules/brightness-slider';\nimport modulePalette from './modules/palette';\nimport moduleInitialCurrentColors from './modules/initial-current-colors';\nimport moduleRgbBars from './modules/rgb-bars';\nimport moduleRgbSliders from './modules/rgb-sliders';\nimport moduleSbSpectrum from './modules/sb-spectrum';\nimport moduleHsSpectrum from './modules/hs-spectrum';\nimport moduleWheel from './modules/wheel';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar ColorPicker = /*#__PURE__*/function (_Framework7Class) {\n  _inheritsLoose(ColorPicker, _Framework7Class);\n\n  function ColorPicker(app, params) {\n    var _this;\n\n    if (params === void 0) {\n      params = {};\n    }\n\n    _this = _Framework7Class.call(this, params, [app]) || this;\n\n    var self = _assertThisInitialized(_this);\n\n    self.params = extend({}, app.params.colorPicker, params);\n    var $containerEl;\n\n    if (self.params.containerEl) {\n      $containerEl = $(self.params.containerEl);\n      if ($containerEl.length === 0) return self || _assertThisInitialized(_this);\n    }\n\n    var $inputEl;\n\n    if (self.params.inputEl) {\n      $inputEl = $(self.params.inputEl);\n    }\n\n    var $targetEl;\n\n    if (self.params.targetEl) {\n      $targetEl = $(self.params.targetEl);\n    }\n\n    extend(self, {\n      app: app,\n      $containerEl: $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      $inputEl: $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      $targetEl: $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      initialized: false,\n      opened: false,\n      url: self.params.url,\n      modules: {\n        'alpha-slider': moduleAlphaSlider,\n        'current-color': moduleCurrentColor,\n        hex: moduleHex,\n        // eslint-disable-line\n        'hsb-sliders': moduleHsbSliders,\n        'hue-slider': moduleHueSlider,\n        'brightness-slider': moduleBrightnessSlider,\n        palette: modulePalette,\n        // eslint-disable-line\n        'initial-current-colors': moduleInitialCurrentColors,\n        'rgb-bars': moduleRgbBars,\n        'rgb-sliders': moduleRgbSliders,\n        'sb-spectrum': moduleSbSpectrum,\n        'hs-spectrum': moduleHsSpectrum,\n        wheel: moduleWheel // eslint-disable-line\n\n      }\n    });\n\n    function onInputClick() {\n      self.open();\n    }\n\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n\n    function onTargetClick() {\n      self.open();\n    }\n\n    function onHtmlClick(e) {\n      if (self.destroyed || !self.params) return;\n      if (self.params.openIn === 'page') return;\n      var $clickTargetEl = $(e.target);\n      if (!self.opened || self.closing) return;\n      if ($clickTargetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($clickTargetEl.closest('.color-picker-popup, .color-picker-popover').length) return;\n\n      if ($inputEl && $inputEl.length > 0) {\n        if ($clickTargetEl[0] !== $inputEl[0] && $clickTargetEl.closest('.sheet-modal').length === 0) {\n          self.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal').length === 0) {\n        self.close();\n      }\n    } // Events\n\n\n    extend(self, {\n      attachInputEvents: function attachInputEvents() {\n        self.$inputEl.on('click', onInputClick);\n\n        if (self.params.inputReadOnly) {\n          self.$inputEl.on('focus mousedown', onInputFocus);\n\n          if (self.$inputEl[0]) {\n            self.$inputEl[0].f7ValidateReadonly = true;\n          }\n        }\n      },\n      detachInputEvents: function detachInputEvents() {\n        self.$inputEl.off('click', onInputClick);\n\n        if (self.params.inputReadOnly) {\n          self.$inputEl.off('focus mousedown', onInputFocus);\n\n          if (self.$inputEl[0]) {\n            delete self.$inputEl[0].f7ValidateReadonly;\n          }\n        }\n      },\n      attachTargetEvents: function attachTargetEvents() {\n        self.$targetEl.on('click', onTargetClick);\n      },\n      detachTargetEvents: function detachTargetEvents() {\n        self.$targetEl.off('click', onTargetClick);\n      },\n      attachHtmlEvents: function attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n      },\n      detachHtmlEvents: function detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n      }\n    });\n    self.init();\n    return self || _assertThisInitialized(_this);\n  }\n\n  var _proto = ColorPicker.prototype;\n\n  _proto.attachEvents = function attachEvents() {\n    var self = this;\n    self.centerModules = self.centerModules.bind(self);\n\n    if (self.params.centerModules) {\n      self.app.on('resize', self.centerModules);\n    }\n  };\n\n  _proto.detachEvents = function detachEvents() {\n    var self = this;\n\n    if (self.params.centerModules) {\n      self.app.off('resize', self.centerModules);\n    }\n  };\n\n  _proto.centerModules = function centerModules() {\n    var self = this;\n    if (!self.opened || !self.$el || self.inline) return;\n    var $pageContentEl = self.$el.find('.page-content');\n    if (!$pageContentEl.length) return;\n    var _$pageContentEl$ = $pageContentEl[0],\n        scrollHeight = _$pageContentEl$.scrollHeight,\n        offsetHeight = _$pageContentEl$.offsetHeight;\n\n    if (scrollHeight <= offsetHeight) {\n      $pageContentEl.addClass('justify-content-center');\n    } else {\n      $pageContentEl.removeClass('justify-content-center');\n    }\n  };\n\n  _proto.initInput = function initInput() {\n    var self = this;\n    if (!self.$inputEl) return;\n    if (self.params.inputReadOnly) self.$inputEl.prop('readOnly', true);\n  };\n\n  _proto.getModalType = function getModalType() {\n    var self = this;\n    var app = self.app,\n        modal = self.modal,\n        params = self.params;\n    var openIn = params.openIn,\n        openInPhone = params.openInPhone;\n    var device = getDevice();\n    if (modal && modal.type) return modal.type;\n    if (openIn !== 'auto') return openIn;\n    if (self.inline) return null;\n\n    if (device.ios) {\n      return device.ipad ? 'popover' : openInPhone;\n    }\n\n    if (app.width >= 768 || device.desktop && app.theme === 'aurora') {\n      return 'popover';\n    }\n\n    return openInPhone;\n  };\n\n  _proto.formatValue = function formatValue() {\n    var self = this;\n    var value = self.value;\n\n    if (self.params.formatValue) {\n      return self.params.formatValue.call(self, value);\n    }\n\n    return value.hex;\n  } // eslint-disable-next-line\n  ;\n\n  _proto.normalizeHsValues = function normalizeHsValues(arr) {\n    return [Math.floor(arr[0] * 10) / 10, Math.floor(arr[1] * 1000) / 1000, Math.floor(arr[2] * 1000) / 1000];\n  };\n\n  _proto.setValue = function setValue(value, updateModules) {\n    if (value === void 0) {\n      value = {};\n    }\n\n    if (updateModules === void 0) {\n      updateModules = true;\n    }\n\n    var self = this;\n    if (typeof value === 'undefined') return;\n\n    var _ref = self.value || {},\n        hex = _ref.hex,\n        rgb = _ref.rgb,\n        hsl = _ref.hsl,\n        hsb = _ref.hsb,\n        _ref$alpha = _ref.alpha,\n        alpha = _ref$alpha === void 0 ? 1 : _ref$alpha,\n        hue = _ref.hue,\n        rgba = _ref.rgba,\n        hsla = _ref.hsla;\n\n    var needChangeEvent = self.value || !self.value && !self.params.value;\n    var valueChanged;\n    Object.keys(value).forEach(function (k) {\n      if (!self.value || typeof self.value[k] === 'undefined') {\n        valueChanged = true;\n        return;\n      }\n\n      var v = value[k];\n\n      if (Array.isArray(v)) {\n        v.forEach(function (subV, subIndex) {\n          if (subV !== self.value[k][subIndex]) {\n            valueChanged = true;\n          }\n        });\n      } else if (v !== self.value[k]) {\n        valueChanged = true;\n      }\n    });\n    if (!valueChanged) return;\n\n    if (value.rgb || value.rgba) {\n      var _ref2 = value.rgb || value.rgba,\n          r = _ref2[0],\n          g = _ref2[1],\n          b = _ref2[2],\n          _ref2$ = _ref2[3],\n          a = _ref2$ === void 0 ? alpha : _ref2$;\n\n      rgb = [r, g, b];\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = colorRgbToHsl.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = a;\n      rgba = [rgb[0], rgb[1], rgb[2], a];\n      hsla = [hsl[0], hsl[1], hsl[2], a];\n    }\n\n    if (value.hsl || value.hsla) {\n      var _ref3 = value.hsl || value.hsla,\n          h = _ref3[0],\n          s = _ref3[1],\n          l = _ref3[2],\n          _ref3$ = _ref3[3],\n          _a = _ref3$ === void 0 ? alpha : _ref3$;\n\n      hsl = [h, s, l];\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = _a;\n      rgba = [rgb[0], rgb[1], rgb[2], _a];\n      hsla = [hsl[0], hsl[1], hsl[2], _a];\n    }\n\n    if (value.hsb) {\n      var _value$hsb = value.hsb,\n          _h = _value$hsb[0],\n          _s = _value$hsb[1],\n          _b = _value$hsb[2],\n          _value$hsb$ = _value$hsb[3],\n          _a2 = _value$hsb$ === void 0 ? alpha : _value$hsb$;\n\n      hsb = [_h, _s, _b];\n      hsl = colorHsbToHsl.apply(void 0, hsb);\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = _a2;\n      rgba = [rgb[0], rgb[1], rgb[2], _a2];\n      hsla = [hsl[0], hsl[1], hsl[2], _a2];\n    }\n\n    if (value.hex) {\n      rgb = colorHexToRgb(value.hex);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = colorRgbToHsl.apply(void 0, rgb);\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n\n    if (typeof value.alpha !== 'undefined') {\n      alpha = value.alpha;\n\n      if (typeof rgb !== 'undefined') {\n        rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      }\n\n      if (typeof hsl !== 'undefined') {\n        hsla = [hsl[0], hsl[1], hsl[2], alpha];\n      }\n    }\n\n    if (typeof value.hue !== 'undefined') {\n      var _hsl = hsl,\n          _h2 = _hsl[0],\n          _s2 = _hsl[1],\n          _l = _hsl[2]; // eslint-disable-line\n\n      hsl = [value.hue, _s2, _l];\n      hsb = colorHslToHsb.apply(void 0, hsl);\n      rgb = colorHslToRgb.apply(void 0, hsl);\n      hex = colorRgbToHex.apply(void 0, rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n\n    self.value = {\n      hex: hex,\n      alpha: alpha,\n      hue: hue,\n      rgb: rgb,\n      hsl: hsl,\n      hsb: hsb,\n      rgba: rgba,\n      hsla: hsla\n    };\n    if (!self.initialValue) self.initialValue = extend({}, self.value);\n    self.updateValue(needChangeEvent);\n\n    if (self.opened && updateModules) {\n      self.updateModules();\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    var self = this;\n    return self.value;\n  };\n\n  _proto.updateValue = function updateValue(fireEvents) {\n    if (fireEvents === void 0) {\n      fireEvents = true;\n    }\n\n    var self = this;\n    var $inputEl = self.$inputEl,\n        value = self.value,\n        $targetEl = self.$targetEl;\n\n    if ($targetEl && self.params.targetElSetBackgroundColor) {\n      var rgba = value.rgba;\n      $targetEl.css('background-color', \"rgba(\" + rgba.join(', ') + \")\");\n    }\n\n    if (fireEvents) {\n      self.emit('local::change colorPickerChange', self, value);\n    }\n\n    if ($inputEl && $inputEl.length) {\n      var inputValue = self.formatValue(value);\n\n      if ($inputEl && $inputEl.length) {\n        $inputEl.val(inputValue);\n\n        if (fireEvents) {\n          $inputEl.trigger('change');\n        }\n      }\n    }\n  };\n\n  _proto.updateModules = function updateModules() {\n    var self = this;\n    var modules = self.modules;\n    self.params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].update) {\n        modules[m].update(self);\n      } else if (m && m.update) {\n        m.update(self);\n      }\n    });\n  };\n\n  _proto.update = function update() {\n    var self = this;\n    self.updateModules();\n  };\n\n  _proto.renderPicker = function renderPicker() {\n    var self = this;\n    var params = self.params,\n        modules = self.modules;\n    var html = '';\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].render) {\n        html += modules[m].render(self);\n      } else if (m && m.render) {\n        html += m.render(self);\n      }\n    });\n    return html;\n  };\n\n  _proto.renderNavbar = function renderNavbar() {\n    var self = this;\n\n    if (self.params.renderNavbar) {\n      return self.params.renderNavbar.call(self, self);\n    }\n\n    var _self$params = self.params,\n        openIn = _self$params.openIn,\n        navbarTitleText = _self$params.navbarTitleText,\n        navbarBackLinkText = _self$params.navbarBackLinkText,\n        navbarCloseText = _self$params.navbarCloseText;\n    return $jsx(\"div\", {\n      class: \"navbar\"\n    }, $jsx(\"div\", {\n      class: \"navbar-bg\"\n    }), $jsx(\"div\", {\n      class: \"navbar-inner sliding\"\n    }, openIn === 'page' && $jsx(\"div\", {\n      class: \"left\"\n    }, $jsx(\"a\", {\n      class: \"link back\"\n    }, $jsx(\"i\", {\n      class: \"icon icon-back\"\n    }), $jsx(\"span\", {\n      class: \"if-not-md\"\n    }, navbarBackLinkText))), $jsx(\"div\", {\n      class: \"title\"\n    }, navbarTitleText), openIn !== 'page' && $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link popup-close\",\n      \"data-popup\": \".color-picker-popup\"\n    }, navbarCloseText))));\n  };\n\n  _proto.renderToolbar = function renderToolbar() {\n    var self = this;\n\n    if (self.params.renderToolbar) {\n      return self.params.renderToolbar.call(self, self);\n    }\n\n    return $jsx(\"div\", {\n      class: \"toolbar toolbar-top no-shadow\"\n    }, $jsx(\"div\", {\n      class: \"toolbar-inner\"\n    }, $jsx(\"div\", {\n      class: \"left\"\n    }), $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link sheet-close popover-close\",\n      \"data-sheet\": \".color-picker-sheet-modal\",\n      \"data-popover\": \".color-picker-popover\"\n    }, self.params.toolbarCloseText))));\n  };\n\n  _proto.renderInline = function renderInline() {\n    var self = this;\n    var _self$params2 = self.params,\n        cssClass = _self$params2.cssClass,\n        groupedModules = _self$params2.groupedModules;\n    return $jsx(\"div\", {\n      class: \"color-picker color-picker-inline \" + (groupedModules ? 'color-picker-grouped-modules' : '') + \" \" + (cssClass || '')\n    }, self.renderPicker());\n  };\n\n  _proto.renderSheet = function renderSheet() {\n    var self = this;\n    var _self$params3 = self.params,\n        cssClass = _self$params3.cssClass,\n        toolbarSheet = _self$params3.toolbarSheet,\n        groupedModules = _self$params3.groupedModules;\n    return $jsx(\"div\", {\n      class: \"sheet-modal color-picker color-picker-sheet-modal \" + (groupedModules ? 'color-picker-grouped-modules' : '') + \" \" + (cssClass || '')\n    }, toolbarSheet && self.renderToolbar(), $jsx(\"div\", {\n      class: \"sheet-modal-inner\"\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker())));\n  };\n\n  _proto.renderPopover = function renderPopover() {\n    var self = this;\n    var _self$params4 = self.params,\n        cssClass = _self$params4.cssClass,\n        toolbarPopover = _self$params4.toolbarPopover,\n        groupedModules = _self$params4.groupedModules;\n    return $jsx(\"div\", {\n      class: \"popover color-picker-popover \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"popover-inner\"\n    }, $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, toolbarPopover && self.renderToolbar(), $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker()))));\n  };\n\n  _proto.renderPopup = function renderPopup() {\n    var self = this;\n    var _self$params5 = self.params,\n        cssClass = _self$params5.cssClass,\n        navbarPopup = _self$params5.navbarPopup,\n        groupedModules = _self$params5.groupedModules;\n    return $jsx(\"div\", {\n      class: \"popup color-picker-popup \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"page\"\n    }, navbarPopup && self.renderNavbar(), $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker()))));\n  };\n\n  _proto.renderPage = function renderPage() {\n    var self = this;\n    var _self$params6 = self.params,\n        cssClass = _self$params6.cssClass,\n        groupedModules = _self$params6.groupedModules;\n    return $jsx(\"div\", {\n      class: \"page color-picker-page \" + (cssClass || ''),\n      \"data-name\": \"color-picker-page\"\n    }, self.renderNavbar(), $jsx(\"div\", {\n      class: \"color-picker \" + (groupedModules ? 'color-picker-grouped-modules' : '')\n    }, $jsx(\"div\", {\n      class: \"page-content\"\n    }, self.renderPicker())));\n  } // eslint-disable-next-line\n  ;\n\n  _proto.render = function render() {\n    var self = this;\n    var params = self.params;\n    if (params.render) return params.render.call(self);\n    if (self.inline) return self.renderInline();\n\n    if (params.openIn === 'page') {\n      return self.renderPage();\n    }\n\n    var modalType = self.getModalType();\n    if (modalType === 'popover') return self.renderPopover();\n    if (modalType === 'sheet') return self.renderSheet();\n    if (modalType === 'popup') return self.renderPopup();\n  };\n\n  _proto.onOpen = function onOpen() {\n    var self = this;\n    var initialized = self.initialized,\n        $el = self.$el,\n        app = self.app,\n        $inputEl = self.$inputEl,\n        inline = self.inline,\n        value = self.value,\n        params = self.params,\n        modules = self.modules;\n    self.closing = false;\n    self.opened = true;\n    self.opening = true; // Init main events\n\n    self.attachEvents();\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].init) {\n        modules[m].init(self);\n      } else if (m && m.init) {\n        m.init(self);\n      }\n    });\n    var updateValue = !value && params.value; // Set value\n\n    if (!initialized) {\n      if (value) self.setValue(value);else if (params.value) {\n        self.setValue(params.value, false);\n      } else if (!params.value) {\n        self.setValue({\n          hex: '#ff0000'\n        }, false);\n      }\n    } else if (value) {\n      self.initialValue = extend({}, value);\n      self.setValue(value, false);\n    } // Update input value\n\n\n    if (updateValue) self.updateValue();\n    self.updateModules(); // Center modules\n\n    if (params.centerModules) {\n      self.centerModules();\n    } // Extra focus\n\n\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    self.initialized = true; // Trigger events\n\n    if ($el) {\n      $el.trigger('colorpicker:open');\n    }\n\n    if ($inputEl) {\n      $inputEl.trigger('colorpicker:open');\n    }\n\n    self.emit('local::open colorPickerOpen', self);\n  };\n\n  _proto.onOpened = function onOpened() {\n    var self = this;\n    self.opening = false;\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:opened');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:opened');\n    }\n\n    self.emit('local::opened colorPickerOpened', self);\n  };\n\n  _proto.onClose = function onClose() {\n    var self = this;\n    var app = self.app,\n        params = self.params,\n        modules = self.modules;\n    self.opening = false;\n    self.closing = true; // Detach events\n\n    self.detachEvents();\n\n    if (self.$inputEl) {\n      if (app.theme === 'md') {\n        self.$inputEl.trigger('blur');\n      } else {\n        var validate = self.$inputEl.attr('validate');\n        var required = self.$inputEl.attr('required');\n\n        if (validate && required) {\n          app.input.validate(self.$inputEl);\n        }\n      }\n    }\n\n    params.modules.forEach(function (m) {\n      if (typeof m === 'string' && modules[m] && modules[m].destroy) {\n        modules[m].destroy(self);\n      } else if (m && m.destroy) {\n        m.destroy(self);\n      }\n    });\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:close');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:close');\n    }\n\n    self.emit('local::close colorPickerClose', self);\n  };\n\n  _proto.onClosed = function onClosed() {\n    var self = this;\n    self.opened = false;\n    self.closing = false;\n\n    if (!self.inline) {\n      nextTick(function () {\n        if (self.modal && self.modal.el && self.modal.destroy) {\n          if (!self.params.routableModals) {\n            self.modal.destroy();\n          }\n        }\n\n        delete self.modal;\n      });\n    }\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:closed');\n    }\n\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:closed');\n    }\n\n    self.emit('local::closed colorPickerClosed', self);\n  };\n\n  _proto.open = function open() {\n    var self = this;\n    var app = self.app,\n        opened = self.opened,\n        inline = self.inline,\n        $inputEl = self.$inputEl,\n        $targetEl = self.$targetEl,\n        params = self.params;\n    if (opened) return;\n\n    if (inline) {\n      self.$el = $(self.render());\n      self.$el[0].f7ColorPicker = self;\n      self.$containerEl.append(self.$el);\n      self.onOpen();\n      self.onOpened();\n      return;\n    }\n\n    var colorPickerContent = self.render();\n\n    if (params.openIn === 'page') {\n      self.view.router.navigate({\n        url: self.url,\n        route: {\n          content: colorPickerContent,\n          path: self.url,\n          on: {\n            pageBeforeIn: function pageBeforeIn(e, page) {\n              self.$el = page.$el.find('.color-picker');\n              self.$el[0].f7ColorPicker = self;\n              self.onOpen();\n            },\n            pageAfterIn: function pageAfterIn() {\n              self.onOpened();\n            },\n            pageBeforeOut: function pageBeforeOut() {\n              self.onClose();\n            },\n            pageAfterOut: function pageAfterOut() {\n              self.onClosed();\n\n              if (self.$el && self.$el[0]) {\n                self.$el[0].f7ColorPicker = null;\n                delete self.$el[0].f7ColorPicker;\n              }\n            }\n          }\n        }\n      });\n    } else {\n      var modalType = self.getModalType();\n      var backdrop = params.backdrop;\n\n      if (backdrop === null || typeof backdrop === 'undefined') {\n        if (modalType === 'popover' && app.params.popover.backdrop !== false) backdrop = true;\n        if (modalType === 'popup') backdrop = true;\n      }\n\n      var modalParams = {\n        targetEl: $targetEl || $inputEl,\n        scrollToEl: params.scrollToInput ? $targetEl || $inputEl : undefined,\n        content: colorPickerContent,\n        backdrop: backdrop,\n        closeByBackdropClick: params.closeByBackdropClick,\n        on: {\n          open: function open() {\n            var modal = this;\n            self.modal = modal;\n            self.$el = modalType === 'popover' || modalType === 'popup' ? modal.$el.find('.color-picker') : modal.$el;\n            self.$el[0].f7ColorPicker = self;\n            self.onOpen();\n          },\n          opened: function opened() {\n            self.onOpened();\n          },\n          close: function close() {\n            self.onClose();\n          },\n          closed: function closed() {\n            self.onClosed();\n\n            if (self.$el && self.$el[0]) {\n              self.$el[0].f7ColorPicker = null;\n              delete self.$el[0].f7ColorPicker;\n            }\n          }\n        }\n      };\n\n      if (modalType === 'popup') {\n        modalParams.push = params.popupPush;\n        modalParams.swipeToClose = params.popupSwipeToClose;\n      }\n\n      if (modalType === 'sheet') {\n        modalParams.push = params.sheetPush;\n        modalParams.swipeToClose = params.sheetSwipeToClose;\n      }\n\n      if (params.routableModals && self.view) {\n        var _route;\n\n        self.view.router.navigate({\n          url: self.url,\n          route: (_route = {\n            path: self.url\n          }, _route[modalType] = modalParams, _route)\n        });\n      } else {\n        self.modal = app[modalType].create(modalParams);\n        self.modal.open();\n      }\n    }\n  };\n\n  _proto.close = function close() {\n    var self = this;\n    var opened = self.opened,\n        inline = self.inline;\n    if (!opened) return;\n\n    if (inline) {\n      self.onClose();\n      self.onClosed();\n      return;\n    }\n\n    if (self.params.routableModals && self.view || self.params.openIn === 'page') {\n      self.view.router.back();\n    } else {\n      self.modal.close();\n    }\n  };\n\n  _proto.init = function init() {\n    var self = this;\n    self.initInput();\n\n    if (self.inline) {\n      self.open();\n      self.emit('local::init colorPickerInit', self);\n      return;\n    }\n\n    if (!self.initialized && self.params.value) {\n      self.setValue(self.params.value);\n    } // Attach input Events\n\n\n    if (self.$inputEl) {\n      self.attachInputEvents();\n    }\n\n    if (self.$targetEl) {\n      self.attachTargetEvents();\n    }\n\n    if (self.params.closeByOutsideClick) {\n      self.attachHtmlEvents();\n    }\n\n    self.emit('local::init colorPickerInit', self);\n  };\n\n  _proto.destroy = function destroy() {\n    var self = this;\n    if (self.destroyed) return;\n    var $el = self.$el;\n    self.emit('local::beforeDestroy colorPickerBeforeDestroy', self);\n    if ($el) $el.trigger('colorpicker:beforedestroy');\n    self.close(); // Detach Events\n\n    self.detachEvents();\n\n    if (self.$inputEl) {\n      self.detachInputEvents();\n    }\n\n    if (self.$targetEl) {\n      self.detachTargetEvents();\n    }\n\n    if (self.params.closeByOutsideClick) {\n      self.detachHtmlEvents();\n    }\n\n    if ($el && $el.length) delete self.$el[0].f7ColorPicker;\n    deleteProps(self);\n    self.destroyed = true;\n  };\n\n  _createClass(ColorPicker, [{\n    key: \"view\",\n    get: function get() {\n      var $inputEl = this.$inputEl,\n          $targetEl = this.$targetEl,\n          app = this.app,\n          params = this.params;\n      var view;\n\n      if (params.view) {\n        view = params.view;\n      } else {\n        if ($inputEl) {\n          view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n        }\n\n        if (!view && $targetEl) {\n          view = $targetEl.parents('.view').length && $targetEl.parents('.view')[0].f7View;\n        }\n      }\n\n      if (!view) view = app.views.main;\n      return view;\n    }\n  }]);\n\n  return ColorPicker;\n}(Framework7Class);\n\nexport default ColorPicker;"]},"metadata":{},"sourceType":"module"}