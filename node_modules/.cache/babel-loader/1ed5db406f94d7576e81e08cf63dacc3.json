{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nimport $ from '../../shared/dom7';\nimport { extend, now, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar Notification = /*#__PURE__*/function (_Modal) {\n  _inheritsLoose(Notification, _Modal);\n\n  function Notification(app, params) {\n    var _this;\n\n    var extendedParams = extend({\n      on: {}\n    }, app.params.notification, params); // Extends with open/close Modal methods;\n\n    _this = _Modal.call(this, app, extendedParams) || this;\n\n    var notification = _assertThisInitialized(_this);\n\n    notification.app = app;\n    notification.params = extendedParams;\n    var _notification$params = notification.params,\n        icon = _notification$params.icon,\n        title = _notification$params.title,\n        titleRightText = _notification$params.titleRightText,\n        subtitle = _notification$params.subtitle,\n        text = _notification$params.text,\n        closeButton = _notification$params.closeButton,\n        closeTimeout = _notification$params.closeTimeout,\n        cssClass = _notification$params.cssClass,\n        closeOnClick = _notification$params.closeOnClick;\n    var $el;\n\n    if (!notification.params.el) {\n      // Find Element\n      var notificationHtml = notification.render({\n        icon: icon,\n        title: title,\n        titleRightText: titleRightText,\n        subtitle: subtitle,\n        text: text,\n        closeButton: closeButton,\n        cssClass: cssClass\n      });\n      $el = $(notificationHtml);\n    } else {\n      $el = $(notification.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal || _assertThisInitialized(_this);\n    }\n\n    if ($el.length === 0) {\n      return notification.destroy() || _assertThisInitialized(_this);\n    }\n\n    extend(notification, {\n      $el: $el,\n      el: $el[0],\n      type: 'notification'\n    });\n    $el[0].f7Modal = notification;\n\n    if (closeButton) {\n      $el.find('.notification-close-button').on('click', function () {\n        notification.close();\n      });\n    }\n\n    $el.on('click', function (e) {\n      if (closeButton && $(e.target).closest('.notification-close-button').length) {\n        return;\n      }\n\n      notification.emit('local::click notificationClick', notification);\n      if (closeOnClick) notification.close();\n    });\n    notification.on('beforeDestroy', function () {\n      $el.off('click');\n    });\n    /* Touch Events */\n\n    var isTouched;\n    var isMoved;\n    var isScrolling;\n    var touchesDiff;\n    var touchStartTime;\n    var notificationHeight;\n    var touchesStart = {};\n\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      isMoved = false;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) < Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      e.preventDefault();\n\n      if (!isMoved) {\n        notification.$el.removeClass('notification-transitioning');\n        notification.$el.transition(0);\n        notificationHeight = notification.$el[0].offsetHeight / 2;\n      }\n\n      isMoved = true;\n      touchesDiff = pageY - touchesStart.y;\n      var newTranslate = touchesDiff;\n\n      if (touchesDiff > 0) {\n        newTranslate = Math.pow(touchesDiff, 0.8);\n      }\n\n      notification.$el.transform(\"translate3d(0, \" + newTranslate + \"px, 0)\");\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n\n      if (touchesDiff === 0) {\n        return;\n      }\n\n      var timeDiff = now() - touchStartTime;\n      notification.$el.transition('');\n      notification.$el.addClass('notification-transitioning');\n      notification.$el.transform('');\n\n      if (touchesDiff < -10 && timeDiff < 300 || -touchesDiff >= notificationHeight / 1) {\n        notification.close();\n      }\n    }\n\n    function attachTouchEvents() {\n      notification.$el.on(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n\n    function detachTouchEvents() {\n      notification.$el.off(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n    }\n\n    var timeoutId;\n\n    function closeOnTimeout() {\n      timeoutId = nextTick(function () {\n        if (isTouched && isMoved) {\n          closeOnTimeout();\n          return;\n        }\n\n        notification.close();\n      }, closeTimeout);\n    }\n\n    notification.on('open', function () {\n      if (notification.params.swipeToClose) {\n        attachTouchEvents();\n      }\n\n      $('.notification.modal-in').each(function (openedEl) {\n        var notificationInstance = app.notification.get(openedEl);\n\n        if (openedEl !== notification.el && notificationInstance) {\n          notificationInstance.close();\n        }\n      });\n\n      if (closeTimeout) {\n        closeOnTimeout();\n      }\n    });\n    notification.on('close beforeDestroy', function () {\n      if (notification.params.swipeToClose) {\n        detachTouchEvents();\n      }\n\n      clearTimeout(timeoutId);\n    });\n    return notification || _assertThisInitialized(_this);\n  }\n\n  var _proto = Notification.prototype;\n\n  _proto.render = function render() {\n    var notification = this;\n    if (notification.params.render) return notification.params.render.call(notification, notification);\n    var _notification$params2 = notification.params,\n        icon = _notification$params2.icon,\n        title = _notification$params2.title,\n        titleRightText = _notification$params2.titleRightText,\n        subtitle = _notification$params2.subtitle,\n        text = _notification$params2.text,\n        closeButton = _notification$params2.closeButton,\n        cssClass = _notification$params2.cssClass;\n    return $jsx(\"div\", {\n      class: \"notification \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"notification-header\"\n    }, icon && $jsx(\"div\", {\n      class: \"notification-icon\"\n    }, icon), title && $jsx(\"div\", {\n      class: \"notification-title\"\n    }, title), titleRightText && $jsx(\"div\", {\n      class: \"notification-title-right-text\"\n    }, titleRightText), closeButton && $jsx(\"span\", {\n      class: \"notification-close-button\"\n    })), $jsx(\"div\", {\n      class: \"notification-content\"\n    }, subtitle && $jsx(\"div\", {\n      class: \"notification-subtitle\"\n    }, subtitle), text && $jsx(\"div\", {\n      class: \"notification-text\"\n    }, text)));\n  };\n\n  return Notification;\n}(Modal);\n\nexport default Notification;","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/notification/notification-class.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","$","extend","now","nextTick","Modal","$jsx","Notification","_Modal","app","params","_this","extendedParams","on","notification","call","_notification$params","icon","title","titleRightText","subtitle","text","closeButton","closeTimeout","cssClass","closeOnClick","$el","el","notificationHtml","render","length","f7Modal","destroy","type","find","close","e","target","closest","emit","off","isTouched","isMoved","isScrolling","touchesDiff","touchStartTime","notificationHeight","touchesStart","handleTouchStart","undefined","x","targetTouches","pageX","y","pageY","handleTouchMove","Math","abs","preventDefault","removeClass","transition","offsetHeight","newTranslate","pow","transform","handleTouchEnd","timeDiff","addClass","attachTouchEvents","touchEvents","start","passive","detachTouchEvents","timeoutId","closeOnTimeout","swipeToClose","each","openedEl","notificationInstance","get","clearTimeout","_proto","_notification$params2","class"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport $ from '../../shared/dom7';\nimport { extend, now, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar Notification = /*#__PURE__*/function (_Modal) {\n  _inheritsLoose(Notification, _Modal);\n\n  function Notification(app, params) {\n    var _this;\n\n    var extendedParams = extend({\n      on: {}\n    }, app.params.notification, params); // Extends with open/close Modal methods;\n\n    _this = _Modal.call(this, app, extendedParams) || this;\n\n    var notification = _assertThisInitialized(_this);\n\n    notification.app = app;\n    notification.params = extendedParams;\n    var _notification$params = notification.params,\n        icon = _notification$params.icon,\n        title = _notification$params.title,\n        titleRightText = _notification$params.titleRightText,\n        subtitle = _notification$params.subtitle,\n        text = _notification$params.text,\n        closeButton = _notification$params.closeButton,\n        closeTimeout = _notification$params.closeTimeout,\n        cssClass = _notification$params.cssClass,\n        closeOnClick = _notification$params.closeOnClick;\n    var $el;\n\n    if (!notification.params.el) {\n      // Find Element\n      var notificationHtml = notification.render({\n        icon: icon,\n        title: title,\n        titleRightText: titleRightText,\n        subtitle: subtitle,\n        text: text,\n        closeButton: closeButton,\n        cssClass: cssClass\n      });\n      $el = $(notificationHtml);\n    } else {\n      $el = $(notification.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal || _assertThisInitialized(_this);\n    }\n\n    if ($el.length === 0) {\n      return notification.destroy() || _assertThisInitialized(_this);\n    }\n\n    extend(notification, {\n      $el: $el,\n      el: $el[0],\n      type: 'notification'\n    });\n    $el[0].f7Modal = notification;\n\n    if (closeButton) {\n      $el.find('.notification-close-button').on('click', function () {\n        notification.close();\n      });\n    }\n\n    $el.on('click', function (e) {\n      if (closeButton && $(e.target).closest('.notification-close-button').length) {\n        return;\n      }\n\n      notification.emit('local::click notificationClick', notification);\n      if (closeOnClick) notification.close();\n    });\n    notification.on('beforeDestroy', function () {\n      $el.off('click');\n    });\n    /* Touch Events */\n\n    var isTouched;\n    var isMoved;\n    var isScrolling;\n    var touchesDiff;\n    var touchStartTime;\n    var notificationHeight;\n    var touchesStart = {};\n\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      isMoved = false;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) < Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      e.preventDefault();\n\n      if (!isMoved) {\n        notification.$el.removeClass('notification-transitioning');\n        notification.$el.transition(0);\n        notificationHeight = notification.$el[0].offsetHeight / 2;\n      }\n\n      isMoved = true;\n      touchesDiff = pageY - touchesStart.y;\n      var newTranslate = touchesDiff;\n\n      if (touchesDiff > 0) {\n        newTranslate = Math.pow(touchesDiff, 0.8);\n      }\n\n      notification.$el.transform(\"translate3d(0, \" + newTranslate + \"px, 0)\");\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n\n      if (touchesDiff === 0) {\n        return;\n      }\n\n      var timeDiff = now() - touchStartTime;\n      notification.$el.transition('');\n      notification.$el.addClass('notification-transitioning');\n      notification.$el.transform('');\n\n      if (touchesDiff < -10 && timeDiff < 300 || -touchesDiff >= notificationHeight / 1) {\n        notification.close();\n      }\n    }\n\n    function attachTouchEvents() {\n      notification.$el.on(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n\n    function detachTouchEvents() {\n      notification.$el.off(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n    }\n\n    var timeoutId;\n\n    function closeOnTimeout() {\n      timeoutId = nextTick(function () {\n        if (isTouched && isMoved) {\n          closeOnTimeout();\n          return;\n        }\n\n        notification.close();\n      }, closeTimeout);\n    }\n\n    notification.on('open', function () {\n      if (notification.params.swipeToClose) {\n        attachTouchEvents();\n      }\n\n      $('.notification.modal-in').each(function (openedEl) {\n        var notificationInstance = app.notification.get(openedEl);\n\n        if (openedEl !== notification.el && notificationInstance) {\n          notificationInstance.close();\n        }\n      });\n\n      if (closeTimeout) {\n        closeOnTimeout();\n      }\n    });\n    notification.on('close beforeDestroy', function () {\n      if (notification.params.swipeToClose) {\n        detachTouchEvents();\n      }\n\n      clearTimeout(timeoutId);\n    });\n    return notification || _assertThisInitialized(_this);\n  }\n\n  var _proto = Notification.prototype;\n\n  _proto.render = function render() {\n    var notification = this;\n    if (notification.params.render) return notification.params.render.call(notification, notification);\n    var _notification$params2 = notification.params,\n        icon = _notification$params2.icon,\n        title = _notification$params2.title,\n        titleRightText = _notification$params2.titleRightText,\n        subtitle = _notification$params2.subtitle,\n        text = _notification$params2.text,\n        closeButton = _notification$params2.closeButton,\n        cssClass = _notification$params2.cssClass;\n    return $jsx(\"div\", {\n      class: \"notification \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"notification-header\"\n    }, icon && $jsx(\"div\", {\n      class: \"notification-icon\"\n    }, icon), title && $jsx(\"div\", {\n      class: \"notification-title\"\n    }, title), titleRightText && $jsx(\"div\", {\n      class: \"notification-title-right-text\"\n    }, titleRightText), closeButton && $jsx(\"span\", {\n      class: \"notification-close-button\"\n    })), $jsx(\"div\", {\n      class: \"notification-content\"\n    }, subtitle && $jsx(\"div\", {\n      class: \"notification-subtitle\"\n    }, subtitle), text && $jsx(\"div\", {\n      class: \"notification-text\"\n    }, text)));\n  };\n\n  return Notification;\n}(Modal);\n\nexport default Notification;"]},"metadata":{},"sourceType":"module"}