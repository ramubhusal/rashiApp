{"ast":null,"code":"import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, serializeObject } from '../../shared/utils'; // Form Data\n\nvar FormData = {\n  store: function store(form, data) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    } // Store form data in app.formsData\n\n\n    app.form.data[\"form-\" + formId] = data; // Store form data in local storage also\n\n    window.localStorage[\"f7form-\" + formId] = JSON.stringify(data);\n  },\n  get: function get(form) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    }\n\n    if (window.localStorage[\"f7form-\" + formId]) {\n      return JSON.parse(window.localStorage[\"f7form-\" + formId]);\n    }\n\n    if (app.form.data[\"form-\" + formId]) {\n      return app.form.data[\"form-\" + formId];\n    }\n\n    return undefined;\n  },\n  remove: function remove(form) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    } // Delete form data from app.formsData\n\n\n    if (app.form.data[\"form-\" + formId]) {\n      app.form.data[\"form-\" + formId] = '';\n      delete app.form.data[\"form-\" + formId];\n    } // Delete form data from local storage also\n\n\n    if (window.localStorage[\"f7form-\" + formId]) {\n      window.localStorage[\"f7form-\" + formId] = '';\n      window.localStorage.removeItem(\"f7form-\" + formId);\n    }\n  }\n}; // Form Storage\n\nvar FormStorage = {\n  init: function init(formEl) {\n    var app = this;\n    var $formEl = $(formEl);\n    var formId = $formEl.attr('id');\n    if (!formId) return;\n    var initialData = app.form.getFormData(formId);\n\n    if (initialData) {\n      app.form.fillFromData($formEl, initialData);\n    }\n\n    function store() {\n      var data = app.form.convertToData($formEl);\n      if (!data) return;\n      app.form.storeFormData(formId, data);\n      $formEl.trigger('form:storedata', data);\n      app.emit('formStoreData', $formEl[0], data);\n    }\n\n    $formEl.on('change submit', store);\n  },\n  destroy: function destroy(formEl) {\n    var $formEl = $(formEl);\n    $formEl.off('change submit');\n  }\n}; // Form To/From Data\n\nfunction formToData(formEl) {\n  var app = this;\n  var $formEl = $(formEl).eq(0);\n  if ($formEl.length === 0) return undefined; // Form data\n\n  var data = {}; // Skip input types\n\n  var skipTypes = ['submit', 'image', 'button', 'file'];\n  var skipNames = [];\n  $formEl.find('input, select, textarea').each(function (inputEl) {\n    var $inputEl = $(inputEl);\n\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n\n    var name = $inputEl.attr('name');\n    var type = $inputEl.attr('type');\n    var tag = inputEl.nodeName.toLowerCase();\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      data[name] = [];\n      $formEl.find(\"select[name=\\\"\" + name + \"\\\"] option\").each(function (el) {\n        if (el.selected) data[name].push(el.value);\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          data[name] = [];\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            if (el.checked) data[name].push(el.value);\n          });\n          break;\n\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            if (el.checked) data[name] = el.value;\n          });\n          break;\n\n        default:\n          data[name] = $inputEl.val();\n          break;\n      }\n    }\n  });\n  $formEl.trigger('form:todata', data);\n  app.emit('formToData', $formEl[0], data);\n  return data;\n}\n\nfunction formFromData(formEl, formData) {\n  var app = this;\n  var $formEl = $(formEl).eq(0);\n  if (!$formEl.length) return;\n  var data = formData;\n  var formId = $formEl.attr('id');\n\n  if (!data && formId) {\n    data = app.form.getFormData(formId);\n  }\n\n  if (!data) return; // Skip input types\n\n  var skipTypes = ['submit', 'image', 'button', 'file'];\n  var skipNames = [];\n  $formEl.find('input, select, textarea').each(function (inputEl) {\n    var $inputEl = $(inputEl);\n\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n\n    var name = $inputEl.attr('name');\n    var type = $inputEl.attr('type');\n    var tag = inputEl.nodeName.toLowerCase();\n    if (typeof data[name] === 'undefined' || data[name] === null) return;\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      $formEl.find(\"select[name=\\\"\" + name + \"\\\"] option\").each(function (el) {\n        var selectEl = el;\n        if (data[name].indexOf(el.value) >= 0) selectEl.selected = true;else selectEl.selected = false;\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            var checkboxEl = el;\n            if (data[name].indexOf(el.value) >= 0) checkboxEl.checked = true;else checkboxEl.checked = false;\n          });\n          break;\n\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            var radioEl = el;\n            if (data[name] === el.value) radioEl.checked = true;else radioEl.checked = false;\n          });\n          break;\n\n        default:\n          $inputEl.val(data[name]);\n          break;\n      }\n    }\n\n    if (tag === 'select' || tag === 'input' || tag === 'textarea') {\n      $inputEl.trigger('change', 'fromdata');\n    }\n  });\n  $formEl.trigger('form:fromdata', data);\n  app.emit('formFromData', $formEl[0], data);\n}\n\nfunction initAjaxForm() {\n  var app = this;\n  var window = getWindow();\n  var document = getDocument();\n\n  function onSubmitChange(e, fromData) {\n    var $formEl = $(this);\n    if (e.type === 'change' && !$formEl.hasClass('form-ajax-submit-onchange')) return;\n    if (e.type === 'submit') e.preventDefault();\n    if (e.type === 'change' && fromData === 'fromdata') return;\n    var method = ($formEl.attr('method') || 'GET').toUpperCase();\n    var contentType = $formEl.prop('enctype') || $formEl.attr('enctype');\n    var url = $formEl.attr('action');\n    if (!url) return;\n    var data;\n\n    if (method === 'POST') {\n      if (contentType === 'application/x-www-form-urlencoded') {\n        data = app.form.convertToData($formEl[0]);\n      } else {\n        data = new window.FormData($formEl[0]);\n      }\n    } else {\n      data = serializeObject(app.form.convertToData($formEl[0]));\n    }\n\n    app.request({\n      method: method,\n      url: url,\n      contentType: contentType,\n      data: data,\n      beforeSend: function beforeSend(xhr) {\n        $formEl.trigger('formajax:beforesend', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxBeforeSend', $formEl[0], data, xhr);\n      },\n      error: function error(xhr) {\n        $formEl.trigger('formajax:error', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxError', $formEl[0], data, xhr);\n      },\n      complete: function complete(xhr) {\n        $formEl.trigger('formajax:complete', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxComplete', $formEl[0], data, xhr);\n      },\n      success: function success(response, status, xhr) {\n        $formEl.trigger('formajax:success', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxSuccess', $formEl[0], data, xhr);\n      }\n    });\n  }\n\n  $(document).on('submit change', 'form.form-ajax-submit, form.form-ajax-submit-onchange', onSubmitChange);\n}\n\nexport default {\n  name: 'form',\n  create: function create() {\n    var app = this;\n    extend(app, {\n      form: {\n        data: {},\n        storeFormData: FormData.store.bind(app),\n        getFormData: FormData.get.bind(app),\n        removeFormData: FormData.remove.bind(app),\n        convertToData: formToData.bind(app),\n        fillFromData: formFromData.bind(app),\n        storage: {\n          init: FormStorage.init.bind(app),\n          destroy: FormStorage.destroy.bind(app)\n        }\n      }\n    });\n  },\n  on: {\n    init: function init() {\n      var app = this;\n      initAjaxForm.call(app);\n    },\n    tabBeforeRemove: function tabBeforeRemove(tabEl) {\n      var app = this;\n      $(tabEl).find('.form-store-data').each(function (formEl) {\n        app.form.storage.destroy(formEl);\n      });\n    },\n    tabMounted: function tabMounted(tabEl) {\n      var app = this;\n      $(tabEl).find('.form-store-data').each(function (formEl) {\n        app.form.storage.init(formEl);\n      });\n    },\n    pageBeforeRemove: function pageBeforeRemove(page) {\n      var app = this;\n      page.$el.find('.form-store-data').each(function (formEl) {\n        app.form.storage.destroy(formEl);\n      });\n    },\n    pageInit: function pageInit(page) {\n      var app = this;\n      page.$el.find('.form-store-data').each(function (formEl) {\n        app.form.storage.init(formEl);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/form/form.js"],"names":["getWindow","getDocument","$","extend","serializeObject","FormData","store","form","data","app","window","formId","$formEl","length","is","attr","localStorage","JSON","stringify","get","parse","undefined","remove","removeItem","FormStorage","init","formEl","initialData","getFormData","fillFromData","convertToData","storeFormData","trigger","emit","on","destroy","off","formToData","eq","skipTypes","skipNames","find","each","inputEl","$inputEl","hasClass","name","type","tag","nodeName","toLowerCase","indexOf","prop","push","el","selected","value","checked","val","formFromData","formData","selectEl","checkboxEl","radioEl","initAjaxForm","document","onSubmitChange","e","fromData","preventDefault","method","toUpperCase","contentType","url","request","beforeSend","xhr","error","complete","success","response","status","create","bind","removeFormData","storage","call","tabBeforeRemove","tabEl","tabMounted","pageBeforeRemove","page","$el","pageInit"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,YAAvC;AACA,OAAOC,CAAP,MAAc,mBAAd;AACA,SAASC,MAAT,EAAiBC,eAAjB,QAAwC,oBAAxC,C,CAA8D;;AAE9D,IAAIC,QAAQ,GAAG;AACbC,EAAAA,KAAK,EAAE,SAASA,KAAT,CAAeC,IAAf,EAAqBC,IAArB,EAA2B;AAChC,QAAIC,GAAG,GAAG,IAAV;AACA,QAAIC,MAAM,GAAGV,SAAS,EAAtB;AACA,QAAIW,MAAM,GAAGJ,IAAb;AACA,QAAIK,OAAO,GAAGV,CAAC,CAACK,IAAD,CAAf;;AAEA,QAAIK,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACE,EAAR,CAAW,MAAX,CAAlB,IAAwCF,OAAO,CAACG,IAAR,CAAa,IAAb,CAA5C,EAAgE;AAC9DJ,MAAAA,MAAM,GAAGC,OAAO,CAACG,IAAR,CAAa,IAAb,CAAT;AACD,KAR+B,CAQ9B;;;AAGFN,IAAAA,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,IAAkCH,IAAlC,CAXgC,CAWQ;;AAExCE,IAAAA,MAAM,CAACM,YAAP,CAAoB,YAAYL,MAAhC,IAA0CM,IAAI,CAACC,SAAL,CAAeV,IAAf,CAA1C;AACD,GAfY;AAgBbW,EAAAA,GAAG,EAAE,SAASA,GAAT,CAAaZ,IAAb,EAAmB;AACtB,QAAIE,GAAG,GAAG,IAAV;AACA,QAAIC,MAAM,GAAGV,SAAS,EAAtB;AACA,QAAIW,MAAM,GAAGJ,IAAb;AACA,QAAIK,OAAO,GAAGV,CAAC,CAACK,IAAD,CAAf;;AAEA,QAAIK,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACE,EAAR,CAAW,MAAX,CAAlB,IAAwCF,OAAO,CAACG,IAAR,CAAa,IAAb,CAA5C,EAAgE;AAC9DJ,MAAAA,MAAM,GAAGC,OAAO,CAACG,IAAR,CAAa,IAAb,CAAT;AACD;;AAED,QAAIL,MAAM,CAACM,YAAP,CAAoB,YAAYL,MAAhC,CAAJ,EAA6C;AAC3C,aAAOM,IAAI,CAACG,KAAL,CAAWV,MAAM,CAACM,YAAP,CAAoB,YAAYL,MAAhC,CAAX,CAAP;AACD;;AAED,QAAIF,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,CAAJ,EAAqC;AACnC,aAAOF,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,CAAP;AACD;;AAED,WAAOU,SAAP;AACD,GAnCY;AAoCbC,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBf,IAAhB,EAAsB;AAC5B,QAAIE,GAAG,GAAG,IAAV;AACA,QAAIC,MAAM,GAAGV,SAAS,EAAtB;AACA,QAAIW,MAAM,GAAGJ,IAAb;AACA,QAAIK,OAAO,GAAGV,CAAC,CAACK,IAAD,CAAf;;AAEA,QAAIK,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACE,EAAR,CAAW,MAAX,CAAlB,IAAwCF,OAAO,CAACG,IAAR,CAAa,IAAb,CAA5C,EAAgE;AAC9DJ,MAAAA,MAAM,GAAGC,OAAO,CAACG,IAAR,CAAa,IAAb,CAAT;AACD,KAR2B,CAQ1B;;;AAGF,QAAIN,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,CAAJ,EAAqC;AACnCF,MAAAA,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,IAAkC,EAAlC;AACA,aAAOF,GAAG,CAACF,IAAJ,CAASC,IAAT,CAAc,UAAUG,MAAxB,CAAP;AACD,KAd2B,CAc1B;;;AAGF,QAAID,MAAM,CAACM,YAAP,CAAoB,YAAYL,MAAhC,CAAJ,EAA6C;AAC3CD,MAAAA,MAAM,CAACM,YAAP,CAAoB,YAAYL,MAAhC,IAA0C,EAA1C;AACAD,MAAAA,MAAM,CAACM,YAAP,CAAoBO,UAApB,CAA+B,YAAYZ,MAA3C;AACD;AACF;AAzDY,CAAf,C,CA0DG;;AAEH,IAAIa,WAAW,GAAG;AAChBC,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAcC,MAAd,EAAsB;AAC1B,QAAIjB,GAAG,GAAG,IAAV;AACA,QAAIG,OAAO,GAAGV,CAAC,CAACwB,MAAD,CAAf;AACA,QAAIf,MAAM,GAAGC,OAAO,CAACG,IAAR,CAAa,IAAb,CAAb;AACA,QAAI,CAACJ,MAAL,EAAa;AACb,QAAIgB,WAAW,GAAGlB,GAAG,CAACF,IAAJ,CAASqB,WAAT,CAAqBjB,MAArB,CAAlB;;AAEA,QAAIgB,WAAJ,EAAiB;AACflB,MAAAA,GAAG,CAACF,IAAJ,CAASsB,YAAT,CAAsBjB,OAAtB,EAA+Be,WAA/B;AACD;;AAED,aAASrB,KAAT,GAAiB;AACf,UAAIE,IAAI,GAAGC,GAAG,CAACF,IAAJ,CAASuB,aAAT,CAAuBlB,OAAvB,CAAX;AACA,UAAI,CAACJ,IAAL,EAAW;AACXC,MAAAA,GAAG,CAACF,IAAJ,CAASwB,aAAT,CAAuBpB,MAAvB,EAA+BH,IAA/B;AACAI,MAAAA,OAAO,CAACoB,OAAR,CAAgB,gBAAhB,EAAkCxB,IAAlC;AACAC,MAAAA,GAAG,CAACwB,IAAJ,CAAS,eAAT,EAA0BrB,OAAO,CAAC,CAAD,CAAjC,EAAsCJ,IAAtC;AACD;;AAEDI,IAAAA,OAAO,CAACsB,EAAR,CAAW,eAAX,EAA4B5B,KAA5B;AACD,GArBe;AAsBhB6B,EAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBT,MAAjB,EAAyB;AAChC,QAAId,OAAO,GAAGV,CAAC,CAACwB,MAAD,CAAf;AACAd,IAAAA,OAAO,CAACwB,GAAR,CAAY,eAAZ;AACD;AAzBe,CAAlB,C,CA0BG;;AAEH,SAASC,UAAT,CAAoBX,MAApB,EAA4B;AAC1B,MAAIjB,GAAG,GAAG,IAAV;AACA,MAAIG,OAAO,GAAGV,CAAC,CAACwB,MAAD,CAAD,CAAUY,EAAV,CAAa,CAAb,CAAd;AACA,MAAI1B,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B,OAAOQ,SAAP,CAHA,CAGkB;;AAE5C,MAAIb,IAAI,GAAG,EAAX,CAL0B,CAKX;;AAEf,MAAI+B,SAAS,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,MAA9B,CAAhB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA5B,EAAAA,OAAO,CAAC6B,IAAR,CAAa,yBAAb,EAAwCC,IAAxC,CAA6C,UAAUC,OAAV,EAAmB;AAC9D,QAAIC,QAAQ,GAAG1C,CAAC,CAACyC,OAAD,CAAhB;;AAEA,QAAIC,QAAQ,CAACC,QAAT,CAAkB,mBAAlB,KAA0CD,QAAQ,CAACC,QAAT,CAAkB,eAAlB,CAA9C,EAAkF;AAChF;AACD;;AAED,QAAIC,IAAI,GAAGF,QAAQ,CAAC7B,IAAT,CAAc,MAAd,CAAX;AACA,QAAIgC,IAAI,GAAGH,QAAQ,CAAC7B,IAAT,CAAc,MAAd,CAAX;AACA,QAAIiC,GAAG,GAAGL,OAAO,CAACM,QAAR,CAAiBC,WAAjB,EAAV;AACA,QAAIX,SAAS,CAACY,OAAV,CAAkBJ,IAAlB,KAA2B,CAA/B,EAAkC;AAClC,QAAIP,SAAS,CAACW,OAAV,CAAkBL,IAAlB,KAA2B,CAA3B,IAAgC,CAACA,IAArC,EAA2C;;AAE3C,QAAIE,GAAG,KAAK,QAAR,IAAoBJ,QAAQ,CAACQ,IAAT,CAAc,UAAd,CAAxB,EAAmD;AACjDZ,MAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAtC,MAAAA,IAAI,CAACsC,IAAD,CAAJ,GAAa,EAAb;AACAlC,MAAAA,OAAO,CAAC6B,IAAR,CAAa,mBAAmBK,IAAnB,GAA0B,YAAvC,EAAqDJ,IAArD,CAA0D,UAAUY,EAAV,EAAc;AACtE,YAAIA,EAAE,CAACC,QAAP,EAAiB/C,IAAI,CAACsC,IAAD,CAAJ,CAAWO,IAAX,CAAgBC,EAAE,CAACE,KAAnB;AAClB,OAFD;AAGD,KAND,MAMO;AACL,cAAQT,IAAR;AACE,aAAK,UAAL;AACEP,UAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAtC,UAAAA,IAAI,CAACsC,IAAD,CAAJ,GAAa,EAAb;AACAlC,UAAAA,OAAO,CAAC6B,IAAR,CAAa,kBAAkBK,IAAlB,GAAyB,KAAtC,EAA6CJ,IAA7C,CAAkD,UAAUY,EAAV,EAAc;AAC9D,gBAAIA,EAAE,CAACG,OAAP,EAAgBjD,IAAI,CAACsC,IAAD,CAAJ,CAAWO,IAAX,CAAgBC,EAAE,CAACE,KAAnB;AACjB,WAFD;AAGA;;AAEF,aAAK,OAAL;AACEhB,UAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAlC,UAAAA,OAAO,CAAC6B,IAAR,CAAa,kBAAkBK,IAAlB,GAAyB,KAAtC,EAA6CJ,IAA7C,CAAkD,UAAUY,EAAV,EAAc;AAC9D,gBAAIA,EAAE,CAACG,OAAP,EAAgBjD,IAAI,CAACsC,IAAD,CAAJ,GAAaQ,EAAE,CAACE,KAAhB;AACjB,WAFD;AAGA;;AAEF;AACEhD,UAAAA,IAAI,CAACsC,IAAD,CAAJ,GAAaF,QAAQ,CAACc,GAAT,EAAb;AACA;AAlBJ;AAoBD;AACF,GAzCD;AA0CA9C,EAAAA,OAAO,CAACoB,OAAR,CAAgB,aAAhB,EAA+BxB,IAA/B;AACAC,EAAAA,GAAG,CAACwB,IAAJ,CAAS,YAAT,EAAuBrB,OAAO,CAAC,CAAD,CAA9B,EAAmCJ,IAAnC;AACA,SAAOA,IAAP;AACD;;AAED,SAASmD,YAAT,CAAsBjC,MAAtB,EAA8BkC,QAA9B,EAAwC;AACtC,MAAInD,GAAG,GAAG,IAAV;AACA,MAAIG,OAAO,GAAGV,CAAC,CAACwB,MAAD,CAAD,CAAUY,EAAV,CAAa,CAAb,CAAd;AACA,MAAI,CAAC1B,OAAO,CAACC,MAAb,EAAqB;AACrB,MAAIL,IAAI,GAAGoD,QAAX;AACA,MAAIjD,MAAM,GAAGC,OAAO,CAACG,IAAR,CAAa,IAAb,CAAb;;AAEA,MAAI,CAACP,IAAD,IAASG,MAAb,EAAqB;AACnBH,IAAAA,IAAI,GAAGC,GAAG,CAACF,IAAJ,CAASqB,WAAT,CAAqBjB,MAArB,CAAP;AACD;;AAED,MAAI,CAACH,IAAL,EAAW,OAX2B,CAWnB;;AAEnB,MAAI+B,SAAS,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,MAA9B,CAAhB;AACA,MAAIC,SAAS,GAAG,EAAhB;AACA5B,EAAAA,OAAO,CAAC6B,IAAR,CAAa,yBAAb,EAAwCC,IAAxC,CAA6C,UAAUC,OAAV,EAAmB;AAC9D,QAAIC,QAAQ,GAAG1C,CAAC,CAACyC,OAAD,CAAhB;;AAEA,QAAIC,QAAQ,CAACC,QAAT,CAAkB,mBAAlB,KAA0CD,QAAQ,CAACC,QAAT,CAAkB,eAAlB,CAA9C,EAAkF;AAChF;AACD;;AAED,QAAIC,IAAI,GAAGF,QAAQ,CAAC7B,IAAT,CAAc,MAAd,CAAX;AACA,QAAIgC,IAAI,GAAGH,QAAQ,CAAC7B,IAAT,CAAc,MAAd,CAAX;AACA,QAAIiC,GAAG,GAAGL,OAAO,CAACM,QAAR,CAAiBC,WAAjB,EAAV;AACA,QAAI,OAAO1C,IAAI,CAACsC,IAAD,CAAX,KAAsB,WAAtB,IAAqCtC,IAAI,CAACsC,IAAD,CAAJ,KAAe,IAAxD,EAA8D;AAC9D,QAAIP,SAAS,CAACY,OAAV,CAAkBJ,IAAlB,KAA2B,CAA/B,EAAkC;AAClC,QAAIP,SAAS,CAACW,OAAV,CAAkBL,IAAlB,KAA2B,CAA3B,IAAgC,CAACA,IAArC,EAA2C;;AAE3C,QAAIE,GAAG,KAAK,QAAR,IAAoBJ,QAAQ,CAACQ,IAAT,CAAc,UAAd,CAAxB,EAAmD;AACjDZ,MAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAlC,MAAAA,OAAO,CAAC6B,IAAR,CAAa,mBAAmBK,IAAnB,GAA0B,YAAvC,EAAqDJ,IAArD,CAA0D,UAAUY,EAAV,EAAc;AACtE,YAAIO,QAAQ,GAAGP,EAAf;AACA,YAAI9C,IAAI,CAACsC,IAAD,CAAJ,CAAWK,OAAX,CAAmBG,EAAE,CAACE,KAAtB,KAAgC,CAApC,EAAuCK,QAAQ,CAACN,QAAT,GAAoB,IAApB,CAAvC,KAAqEM,QAAQ,CAACN,QAAT,GAAoB,KAApB;AACtE,OAHD;AAID,KAND,MAMO;AACL,cAAQR,IAAR;AACE,aAAK,UAAL;AACEP,UAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAlC,UAAAA,OAAO,CAAC6B,IAAR,CAAa,kBAAkBK,IAAlB,GAAyB,KAAtC,EAA6CJ,IAA7C,CAAkD,UAAUY,EAAV,EAAc;AAC9D,gBAAIQ,UAAU,GAAGR,EAAjB;AACA,gBAAI9C,IAAI,CAACsC,IAAD,CAAJ,CAAWK,OAAX,CAAmBG,EAAE,CAACE,KAAtB,KAAgC,CAApC,EAAuCM,UAAU,CAACL,OAAX,GAAqB,IAArB,CAAvC,KAAsEK,UAAU,CAACL,OAAX,GAAqB,KAArB;AACvE,WAHD;AAIA;;AAEF,aAAK,OAAL;AACEjB,UAAAA,SAAS,CAACa,IAAV,CAAeP,IAAf;AACAlC,UAAAA,OAAO,CAAC6B,IAAR,CAAa,kBAAkBK,IAAlB,GAAyB,KAAtC,EAA6CJ,IAA7C,CAAkD,UAAUY,EAAV,EAAc;AAC9D,gBAAIS,OAAO,GAAGT,EAAd;AACA,gBAAI9C,IAAI,CAACsC,IAAD,CAAJ,KAAeQ,EAAE,CAACE,KAAtB,EAA6BO,OAAO,CAACN,OAAR,GAAkB,IAAlB,CAA7B,KAAyDM,OAAO,CAACN,OAAR,GAAkB,KAAlB;AAC1D,WAHD;AAIA;;AAEF;AACEb,UAAAA,QAAQ,CAACc,GAAT,CAAalD,IAAI,CAACsC,IAAD,CAAjB;AACA;AAnBJ;AAqBD;;AAED,QAAIE,GAAG,KAAK,QAAR,IAAoBA,GAAG,KAAK,OAA5B,IAAuCA,GAAG,KAAK,UAAnD,EAA+D;AAC7DJ,MAAAA,QAAQ,CAACZ,OAAT,CAAiB,QAAjB,EAA2B,UAA3B;AACD;AACF,GA/CD;AAgDApB,EAAAA,OAAO,CAACoB,OAAR,CAAgB,eAAhB,EAAiCxB,IAAjC;AACAC,EAAAA,GAAG,CAACwB,IAAJ,CAAS,cAAT,EAAyBrB,OAAO,CAAC,CAAD,CAAhC,EAAqCJ,IAArC;AACD;;AAED,SAASwD,YAAT,GAAwB;AACtB,MAAIvD,GAAG,GAAG,IAAV;AACA,MAAIC,MAAM,GAAGV,SAAS,EAAtB;AACA,MAAIiE,QAAQ,GAAGhE,WAAW,EAA1B;;AAEA,WAASiE,cAAT,CAAwBC,CAAxB,EAA2BC,QAA3B,EAAqC;AACnC,QAAIxD,OAAO,GAAGV,CAAC,CAAC,IAAD,CAAf;AACA,QAAIiE,CAAC,CAACpB,IAAF,KAAW,QAAX,IAAuB,CAACnC,OAAO,CAACiC,QAAR,CAAiB,2BAAjB,CAA5B,EAA2E;AAC3E,QAAIsB,CAAC,CAACpB,IAAF,KAAW,QAAf,EAAyBoB,CAAC,CAACE,cAAF;AACzB,QAAIF,CAAC,CAACpB,IAAF,KAAW,QAAX,IAAuBqB,QAAQ,KAAK,UAAxC,EAAoD;AACpD,QAAIE,MAAM,GAAG,CAAC1D,OAAO,CAACG,IAAR,CAAa,QAAb,KAA0B,KAA3B,EAAkCwD,WAAlC,EAAb;AACA,QAAIC,WAAW,GAAG5D,OAAO,CAACwC,IAAR,CAAa,SAAb,KAA2BxC,OAAO,CAACG,IAAR,CAAa,SAAb,CAA7C;AACA,QAAI0D,GAAG,GAAG7D,OAAO,CAACG,IAAR,CAAa,QAAb,CAAV;AACA,QAAI,CAAC0D,GAAL,EAAU;AACV,QAAIjE,IAAJ;;AAEA,QAAI8D,MAAM,KAAK,MAAf,EAAuB;AACrB,UAAIE,WAAW,KAAK,mCAApB,EAAyD;AACvDhE,QAAAA,IAAI,GAAGC,GAAG,CAACF,IAAJ,CAASuB,aAAT,CAAuBlB,OAAO,CAAC,CAAD,CAA9B,CAAP;AACD,OAFD,MAEO;AACLJ,QAAAA,IAAI,GAAG,IAAIE,MAAM,CAACL,QAAX,CAAoBO,OAAO,CAAC,CAAD,CAA3B,CAAP;AACD;AACF,KAND,MAMO;AACLJ,MAAAA,IAAI,GAAGJ,eAAe,CAACK,GAAG,CAACF,IAAJ,CAASuB,aAAT,CAAuBlB,OAAO,CAAC,CAAD,CAA9B,CAAD,CAAtB;AACD;;AAEDH,IAAAA,GAAG,CAACiE,OAAJ,CAAY;AACVJ,MAAAA,MAAM,EAAEA,MADE;AAEVG,MAAAA,GAAG,EAAEA,GAFK;AAGVD,MAAAA,WAAW,EAAEA,WAHH;AAIVhE,MAAAA,IAAI,EAAEA,IAJI;AAKVmE,MAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBC,GAApB,EAAyB;AACnChE,QAAAA,OAAO,CAACoB,OAAR,CAAgB,qBAAhB,EAAuC;AACrCxB,UAAAA,IAAI,EAAEA,IAD+B;AAErCoE,UAAAA,GAAG,EAAEA;AAFgC,SAAvC;AAIAnE,QAAAA,GAAG,CAACwB,IAAJ,CAAS,oBAAT,EAA+BrB,OAAO,CAAC,CAAD,CAAtC,EAA2CJ,IAA3C,EAAiDoE,GAAjD;AACD,OAXS;AAYVC,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAeD,GAAf,EAAoB;AACzBhE,QAAAA,OAAO,CAACoB,OAAR,CAAgB,gBAAhB,EAAkC;AAChCxB,UAAAA,IAAI,EAAEA,IAD0B;AAEhCoE,UAAAA,GAAG,EAAEA;AAF2B,SAAlC;AAIAnE,QAAAA,GAAG,CAACwB,IAAJ,CAAS,eAAT,EAA0BrB,OAAO,CAAC,CAAD,CAAjC,EAAsCJ,IAAtC,EAA4CoE,GAA5C;AACD,OAlBS;AAmBVE,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBF,GAAlB,EAAuB;AAC/BhE,QAAAA,OAAO,CAACoB,OAAR,CAAgB,mBAAhB,EAAqC;AACnCxB,UAAAA,IAAI,EAAEA,IAD6B;AAEnCoE,UAAAA,GAAG,EAAEA;AAF8B,SAArC;AAIAnE,QAAAA,GAAG,CAACwB,IAAJ,CAAS,kBAAT,EAA6BrB,OAAO,CAAC,CAAD,CAApC,EAAyCJ,IAAzC,EAA+CoE,GAA/C;AACD,OAzBS;AA0BVG,MAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,QAAjB,EAA2BC,MAA3B,EAAmCL,GAAnC,EAAwC;AAC/ChE,QAAAA,OAAO,CAACoB,OAAR,CAAgB,kBAAhB,EAAoC;AAClCxB,UAAAA,IAAI,EAAEA,IAD4B;AAElCoE,UAAAA,GAAG,EAAEA;AAF6B,SAApC;AAIAnE,QAAAA,GAAG,CAACwB,IAAJ,CAAS,iBAAT,EAA4BrB,OAAO,CAAC,CAAD,CAAnC,EAAwCJ,IAAxC,EAA8CoE,GAA9C;AACD;AAhCS,KAAZ;AAkCD;;AAED1E,EAAAA,CAAC,CAAC+D,QAAD,CAAD,CAAY/B,EAAZ,CAAe,eAAf,EAAgC,uDAAhC,EAAyFgC,cAAzF;AACD;;AAED,eAAe;AACbpB,EAAAA,IAAI,EAAE,MADO;AAEboC,EAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,QAAIzE,GAAG,GAAG,IAAV;AACAN,IAAAA,MAAM,CAACM,GAAD,EAAM;AACVF,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAE,EADF;AAEJuB,QAAAA,aAAa,EAAE1B,QAAQ,CAACC,KAAT,CAAe6E,IAAf,CAAoB1E,GAApB,CAFX;AAGJmB,QAAAA,WAAW,EAAEvB,QAAQ,CAACc,GAAT,CAAagE,IAAb,CAAkB1E,GAAlB,CAHT;AAIJ2E,QAAAA,cAAc,EAAE/E,QAAQ,CAACiB,MAAT,CAAgB6D,IAAhB,CAAqB1E,GAArB,CAJZ;AAKJqB,QAAAA,aAAa,EAAEO,UAAU,CAAC8C,IAAX,CAAgB1E,GAAhB,CALX;AAMJoB,QAAAA,YAAY,EAAE8B,YAAY,CAACwB,IAAb,CAAkB1E,GAAlB,CANV;AAOJ4E,QAAAA,OAAO,EAAE;AACP5D,UAAAA,IAAI,EAAED,WAAW,CAACC,IAAZ,CAAiB0D,IAAjB,CAAsB1E,GAAtB,CADC;AAEP0B,UAAAA,OAAO,EAAEX,WAAW,CAACW,OAAZ,CAAoBgD,IAApB,CAAyB1E,GAAzB;AAFF;AAPL;AADI,KAAN,CAAN;AAcD,GAlBY;AAmBbyB,EAAAA,EAAE,EAAE;AACFT,IAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,UAAIhB,GAAG,GAAG,IAAV;AACAuD,MAAAA,YAAY,CAACsB,IAAb,CAAkB7E,GAAlB;AACD,KAJC;AAKF8E,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;AAC/C,UAAI/E,GAAG,GAAG,IAAV;AACAP,MAAAA,CAAC,CAACsF,KAAD,CAAD,CAAS/C,IAAT,CAAc,kBAAd,EAAkCC,IAAlC,CAAuC,UAAUhB,MAAV,EAAkB;AACvDjB,QAAAA,GAAG,CAACF,IAAJ,CAAS8E,OAAT,CAAiBlD,OAAjB,CAAyBT,MAAzB;AACD,OAFD;AAGD,KAVC;AAWF+D,IAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBD,KAApB,EAA2B;AACrC,UAAI/E,GAAG,GAAG,IAAV;AACAP,MAAAA,CAAC,CAACsF,KAAD,CAAD,CAAS/C,IAAT,CAAc,kBAAd,EAAkCC,IAAlC,CAAuC,UAAUhB,MAAV,EAAkB;AACvDjB,QAAAA,GAAG,CAACF,IAAJ,CAAS8E,OAAT,CAAiB5D,IAAjB,CAAsBC,MAAtB;AACD,OAFD;AAGD,KAhBC;AAiBFgE,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,IAA1B,EAAgC;AAChD,UAAIlF,GAAG,GAAG,IAAV;AACAkF,MAAAA,IAAI,CAACC,GAAL,CAASnD,IAAT,CAAc,kBAAd,EAAkCC,IAAlC,CAAuC,UAAUhB,MAAV,EAAkB;AACvDjB,QAAAA,GAAG,CAACF,IAAJ,CAAS8E,OAAT,CAAiBlD,OAAjB,CAAyBT,MAAzB;AACD,OAFD;AAGD,KAtBC;AAuBFmE,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBF,IAAlB,EAAwB;AAChC,UAAIlF,GAAG,GAAG,IAAV;AACAkF,MAAAA,IAAI,CAACC,GAAL,CAASnD,IAAT,CAAc,kBAAd,EAAkCC,IAAlC,CAAuC,UAAUhB,MAAV,EAAkB;AACvDjB,QAAAA,GAAG,CAACF,IAAJ,CAAS8E,OAAT,CAAiB5D,IAAjB,CAAsBC,MAAtB;AACD,OAFD;AAGD;AA5BC;AAnBS,CAAf","sourcesContent":["import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, serializeObject } from '../../shared/utils'; // Form Data\n\nvar FormData = {\n  store: function store(form, data) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    } // Store form data in app.formsData\n\n\n    app.form.data[\"form-\" + formId] = data; // Store form data in local storage also\n\n    window.localStorage[\"f7form-\" + formId] = JSON.stringify(data);\n  },\n  get: function get(form) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    }\n\n    if (window.localStorage[\"f7form-\" + formId]) {\n      return JSON.parse(window.localStorage[\"f7form-\" + formId]);\n    }\n\n    if (app.form.data[\"form-\" + formId]) {\n      return app.form.data[\"form-\" + formId];\n    }\n\n    return undefined;\n  },\n  remove: function remove(form) {\n    var app = this;\n    var window = getWindow();\n    var formId = form;\n    var $formEl = $(form);\n\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    } // Delete form data from app.formsData\n\n\n    if (app.form.data[\"form-\" + formId]) {\n      app.form.data[\"form-\" + formId] = '';\n      delete app.form.data[\"form-\" + formId];\n    } // Delete form data from local storage also\n\n\n    if (window.localStorage[\"f7form-\" + formId]) {\n      window.localStorage[\"f7form-\" + formId] = '';\n      window.localStorage.removeItem(\"f7form-\" + formId);\n    }\n  }\n}; // Form Storage\n\nvar FormStorage = {\n  init: function init(formEl) {\n    var app = this;\n    var $formEl = $(formEl);\n    var formId = $formEl.attr('id');\n    if (!formId) return;\n    var initialData = app.form.getFormData(formId);\n\n    if (initialData) {\n      app.form.fillFromData($formEl, initialData);\n    }\n\n    function store() {\n      var data = app.form.convertToData($formEl);\n      if (!data) return;\n      app.form.storeFormData(formId, data);\n      $formEl.trigger('form:storedata', data);\n      app.emit('formStoreData', $formEl[0], data);\n    }\n\n    $formEl.on('change submit', store);\n  },\n  destroy: function destroy(formEl) {\n    var $formEl = $(formEl);\n    $formEl.off('change submit');\n  }\n}; // Form To/From Data\n\nfunction formToData(formEl) {\n  var app = this;\n  var $formEl = $(formEl).eq(0);\n  if ($formEl.length === 0) return undefined; // Form data\n\n  var data = {}; // Skip input types\n\n  var skipTypes = ['submit', 'image', 'button', 'file'];\n  var skipNames = [];\n  $formEl.find('input, select, textarea').each(function (inputEl) {\n    var $inputEl = $(inputEl);\n\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n\n    var name = $inputEl.attr('name');\n    var type = $inputEl.attr('type');\n    var tag = inputEl.nodeName.toLowerCase();\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      data[name] = [];\n      $formEl.find(\"select[name=\\\"\" + name + \"\\\"] option\").each(function (el) {\n        if (el.selected) data[name].push(el.value);\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          data[name] = [];\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            if (el.checked) data[name].push(el.value);\n          });\n          break;\n\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            if (el.checked) data[name] = el.value;\n          });\n          break;\n\n        default:\n          data[name] = $inputEl.val();\n          break;\n      }\n    }\n  });\n  $formEl.trigger('form:todata', data);\n  app.emit('formToData', $formEl[0], data);\n  return data;\n}\n\nfunction formFromData(formEl, formData) {\n  var app = this;\n  var $formEl = $(formEl).eq(0);\n  if (!$formEl.length) return;\n  var data = formData;\n  var formId = $formEl.attr('id');\n\n  if (!data && formId) {\n    data = app.form.getFormData(formId);\n  }\n\n  if (!data) return; // Skip input types\n\n  var skipTypes = ['submit', 'image', 'button', 'file'];\n  var skipNames = [];\n  $formEl.find('input, select, textarea').each(function (inputEl) {\n    var $inputEl = $(inputEl);\n\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n\n    var name = $inputEl.attr('name');\n    var type = $inputEl.attr('type');\n    var tag = inputEl.nodeName.toLowerCase();\n    if (typeof data[name] === 'undefined' || data[name] === null) return;\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      $formEl.find(\"select[name=\\\"\" + name + \"\\\"] option\").each(function (el) {\n        var selectEl = el;\n        if (data[name].indexOf(el.value) >= 0) selectEl.selected = true;else selectEl.selected = false;\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            var checkboxEl = el;\n            if (data[name].indexOf(el.value) >= 0) checkboxEl.checked = true;else checkboxEl.checked = false;\n          });\n          break;\n\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(\"input[name=\\\"\" + name + \"\\\"]\").each(function (el) {\n            var radioEl = el;\n            if (data[name] === el.value) radioEl.checked = true;else radioEl.checked = false;\n          });\n          break;\n\n        default:\n          $inputEl.val(data[name]);\n          break;\n      }\n    }\n\n    if (tag === 'select' || tag === 'input' || tag === 'textarea') {\n      $inputEl.trigger('change', 'fromdata');\n    }\n  });\n  $formEl.trigger('form:fromdata', data);\n  app.emit('formFromData', $formEl[0], data);\n}\n\nfunction initAjaxForm() {\n  var app = this;\n  var window = getWindow();\n  var document = getDocument();\n\n  function onSubmitChange(e, fromData) {\n    var $formEl = $(this);\n    if (e.type === 'change' && !$formEl.hasClass('form-ajax-submit-onchange')) return;\n    if (e.type === 'submit') e.preventDefault();\n    if (e.type === 'change' && fromData === 'fromdata') return;\n    var method = ($formEl.attr('method') || 'GET').toUpperCase();\n    var contentType = $formEl.prop('enctype') || $formEl.attr('enctype');\n    var url = $formEl.attr('action');\n    if (!url) return;\n    var data;\n\n    if (method === 'POST') {\n      if (contentType === 'application/x-www-form-urlencoded') {\n        data = app.form.convertToData($formEl[0]);\n      } else {\n        data = new window.FormData($formEl[0]);\n      }\n    } else {\n      data = serializeObject(app.form.convertToData($formEl[0]));\n    }\n\n    app.request({\n      method: method,\n      url: url,\n      contentType: contentType,\n      data: data,\n      beforeSend: function beforeSend(xhr) {\n        $formEl.trigger('formajax:beforesend', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxBeforeSend', $formEl[0], data, xhr);\n      },\n      error: function error(xhr) {\n        $formEl.trigger('formajax:error', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxError', $formEl[0], data, xhr);\n      },\n      complete: function complete(xhr) {\n        $formEl.trigger('formajax:complete', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxComplete', $formEl[0], data, xhr);\n      },\n      success: function success(response, status, xhr) {\n        $formEl.trigger('formajax:success', {\n          data: data,\n          xhr: xhr\n        });\n        app.emit('formAjaxSuccess', $formEl[0], data, xhr);\n      }\n    });\n  }\n\n  $(document).on('submit change', 'form.form-ajax-submit, form.form-ajax-submit-onchange', onSubmitChange);\n}\n\nexport default {\n  name: 'form',\n  create: function create() {\n    var app = this;\n    extend(app, {\n      form: {\n        data: {},\n        storeFormData: FormData.store.bind(app),\n        getFormData: FormData.get.bind(app),\n        removeFormData: FormData.remove.bind(app),\n        convertToData: formToData.bind(app),\n        fillFromData: formFromData.bind(app),\n        storage: {\n          init: FormStorage.init.bind(app),\n          destroy: FormStorage.destroy.bind(app)\n        }\n      }\n    });\n  },\n  on: {\n    init: function init() {\n      var app = this;\n      initAjaxForm.call(app);\n    },\n    tabBeforeRemove: function tabBeforeRemove(tabEl) {\n      var app = this;\n      $(tabEl).find('.form-store-data').each(function (formEl) {\n        app.form.storage.destroy(formEl);\n      });\n    },\n    tabMounted: function tabMounted(tabEl) {\n      var app = this;\n      $(tabEl).find('.form-store-data').each(function (formEl) {\n        app.form.storage.init(formEl);\n      });\n    },\n    pageBeforeRemove: function pageBeforeRemove(page) {\n      var app = this;\n      page.$el.find('.form-store-data').each(function (formEl) {\n        app.form.storage.destroy(formEl);\n      });\n    },\n    pageInit: function pageInit(page) {\n      var app = this;\n      page.$el.find('.form-store-data').each(function (formEl) {\n        app.form.storage.init(formEl);\n      });\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}