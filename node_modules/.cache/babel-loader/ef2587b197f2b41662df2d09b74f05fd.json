{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { nextFrame, bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nvar Swipeout = {\n  init: function init() {\n    var app = this;\n    var document = getDocument();\n    var touchesStart = {};\n    var isTouched;\n    var isMoved;\n    var isScrolling;\n    var touchStartTime;\n    var touchesDiff;\n    var $swipeoutEl;\n    var $swipeoutContent;\n    var $actionsRight;\n    var $actionsLeft;\n    var actionsLeftWidth;\n    var actionsRightWidth;\n    var translate;\n    var opened;\n    var openedActionsSide;\n    var $leftButtons;\n    var $rightButtons;\n    var direction;\n    var $overswipeLeftButton;\n    var $overswipeRightButton;\n    var overswipeLeft;\n    var overswipeRight;\n\n    function handleTouchStart(e) {\n      if (!app.swipeout.allow) return;\n      isMoved = false;\n      isTouched = true;\n      isScrolling = undefined;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchStartTime = new Date().getTime();\n      $swipeoutEl = $(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      if (!isMoved) {\n        if ($('.list.sortable-opened').length > 0) return;\n        $swipeoutContent = $swipeoutEl.find('.swipeout-content');\n        $actionsRight = $swipeoutEl.find('.swipeout-actions-right');\n        $actionsLeft = $swipeoutEl.find('.swipeout-actions-left');\n        actionsLeftWidth = null;\n        actionsRightWidth = null;\n        $leftButtons = null;\n        $rightButtons = null;\n        $overswipeRightButton = null;\n        $overswipeLeftButton = null;\n\n        if ($actionsLeft.length > 0) {\n          actionsLeftWidth = $actionsLeft.outerWidth();\n          $leftButtons = $actionsLeft.children('a');\n          $overswipeLeftButton = $actionsLeft.find('.swipeout-overswipe');\n        }\n\n        if ($actionsRight.length > 0) {\n          actionsRightWidth = $actionsRight.outerWidth();\n          $rightButtons = $actionsRight.children('a');\n          $overswipeRightButton = $actionsRight.find('.swipeout-overswipe');\n        }\n\n        opened = $swipeoutEl.hasClass('swipeout-opened');\n\n        if (opened) {\n          openedActionsSide = $swipeoutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n        }\n\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (!app.params.swipeout.noFollow) {\n          $swipeoutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n          $swipeoutEl.removeClass('swipeout-opened');\n        }\n      }\n\n      isMoved = true;\n      e.preventDefault();\n      touchesDiff = pageX - touchesStart.x;\n      translate = touchesDiff;\n\n      if (opened) {\n        if (openedActionsSide === 'right') translate -= actionsRightWidth;else translate += actionsLeftWidth;\n      }\n\n      if (translate > 0 && $actionsLeft.length === 0 || translate < 0 && $actionsRight.length === 0) {\n        if (!opened) {\n          isTouched = false;\n          isMoved = false;\n          $swipeoutContent.transform('');\n\n          if ($rightButtons && $rightButtons.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($leftButtons && $leftButtons.length > 0) {\n            $leftButtons.transform('');\n          }\n\n          return;\n        }\n\n        translate = 0;\n      }\n\n      if (translate < 0) direction = 'to-left';else if (translate > 0) direction = 'to-right';else if (!direction) direction = 'to-left';\n      var buttonOffset;\n      var progress;\n      e.f7PreventSwipePanel = true;\n\n      if (app.params.swipeout.noFollow) {\n        if (opened) {\n          if (openedActionsSide === 'right' && touchesDiff > 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n\n          if (openedActionsSide === 'left' && touchesDiff < 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n        } else {\n          if (touchesDiff < 0 && $actionsRight.length > 0) {\n            app.swipeout.open($swipeoutEl, 'right');\n          }\n\n          if (touchesDiff > 0 && $actionsLeft.length > 0) {\n            app.swipeout.open($swipeoutEl, 'left');\n          }\n        }\n\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      overswipeLeft = false;\n      overswipeRight = false;\n\n      if ($actionsRight.length > 0) {\n        // Show right actions\n        var buttonTranslate = translate;\n        progress = buttonTranslate / actionsRightWidth;\n\n        if (buttonTranslate < -actionsRightWidth) {\n          var ratio = buttonTranslate / -actionsRightWidth;\n          buttonTranslate = -actionsRightWidth - Math.pow(-buttonTranslate - actionsRightWidth, 0.8);\n          translate = buttonTranslate;\n\n          if ($overswipeRightButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeRight = true;\n          }\n        }\n\n        if (direction !== 'to-left') {\n          progress = 0;\n          buttonTranslate = 0;\n        }\n\n        $rightButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeRightButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-left') {\n            $buttonEl.css({\n              left: (overswipeRight ? -buttonOffset : 0) + \"px\"\n            });\n\n            if (overswipeRight) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          $buttonEl.transform(\"translate3d(\" + (buttonTranslate - buttonOffset * (1 + Math.max(progress, -1))) + \"px,0,0)\");\n        });\n      }\n\n      if ($actionsLeft.length > 0) {\n        // Show left actions\n        var _buttonTranslate = translate;\n        progress = _buttonTranslate / actionsLeftWidth;\n\n        if (_buttonTranslate > actionsLeftWidth) {\n          var _ratio = _buttonTranslate / actionsRightWidth;\n\n          _buttonTranslate = actionsLeftWidth + Math.pow(_buttonTranslate - actionsLeftWidth, 0.8);\n          translate = _buttonTranslate;\n\n          if ($overswipeLeftButton.length > 0 && _ratio > app.params.swipeout.overswipeRatio) {\n            overswipeLeft = true;\n          }\n        }\n\n        if (direction !== 'to-right') {\n          _buttonTranslate = 0;\n          progress = 0;\n        }\n\n        $leftButtons.each(function (buttonEl, index) {\n          var $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeLeftButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-right') {\n            $buttonEl.css({\n              left: (overswipeLeft ? buttonOffset : 0) + \"px\"\n            });\n\n            if (overswipeLeft) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          if ($leftButtons.length > 1) {\n            $buttonEl.css('z-index', $leftButtons.length - index);\n          }\n\n          $buttonEl.transform(\"translate3d(\" + (_buttonTranslate + buttonOffset * (1 - Math.min(progress, 1))) + \"px,0,0)\");\n        });\n      }\n\n      $swipeoutEl.trigger('swipeout', progress);\n      app.emit('swipeout', $swipeoutEl[0], progress);\n      $swipeoutContent.transform(\"translate3d(\" + translate + \"px,0,0)\");\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n      var timeDiff = new Date().getTime() - touchStartTime;\n      var $actions = direction === 'to-left' ? $actionsRight : $actionsLeft;\n      var actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n      var action;\n      var $buttons;\n      var i;\n\n      if (timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') || timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2) {\n        action = 'open';\n      } else {\n        action = 'close';\n      }\n\n      if (timeDiff < 300) {\n        if (Math.abs(translate) === 0) action = 'close';\n        if (Math.abs(translate) === actionsWidth) action = 'open';\n      }\n\n      if (action === 'open') {\n        Swipeout.el = $swipeoutEl[0];\n        $swipeoutEl.trigger('swipeout:open');\n        app.emit('swipeoutOpen', $swipeoutEl[0]);\n        $swipeoutEl.addClass('swipeout-opened swipeout-transitioning');\n        var newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n        $swipeoutContent.transform(\"translate3d(\" + newTranslate + \"px,0,0)\");\n        $actions.addClass('swipeout-actions-opened');\n        $buttons = direction === 'to-left' ? $rightButtons : $leftButtons;\n\n        if ($buttons) {\n          for (i = 0; i < $buttons.length; i += 1) {\n            $($buttons[i]).transform(\"translate3d(\" + newTranslate + \"px,0,0)\");\n          }\n        }\n\n        if (overswipeRight) {\n          $actionsRight.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n\n        if (overswipeLeft) {\n          $actionsLeft.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n      } else {\n        $swipeoutEl.trigger('swipeout:close');\n        app.emit('swipeoutClose', $swipeoutEl[0]);\n        Swipeout.el = undefined;\n        $swipeoutEl.addClass('swipeout-transitioning').removeClass('swipeout-opened');\n        $swipeoutContent.transform('');\n        $actions.removeClass('swipeout-actions-opened');\n      }\n\n      var buttonOffset;\n\n      if ($leftButtons && $leftButtons.length > 0 && $leftButtons !== $buttons) {\n        $leftButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          $buttonEl.transform(\"translate3d(\" + buttonOffset + \"px,0,0)\");\n        });\n      }\n\n      if ($rightButtons && $rightButtons.length > 0 && $rightButtons !== $buttons) {\n        $rightButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          $buttonEl.transform(\"translate3d(\" + -buttonOffset + \"px,0,0)\");\n        });\n      }\n\n      $swipeoutContent.transitionEnd(function () {\n        if (opened && action === 'open' || !opened && action === 'close') return;\n        $swipeoutEl.trigger(action === 'open' ? 'swipeout:opened' : 'swipeout:closed');\n        app.emit(action === 'open' ? 'swipeoutOpened' : 'swipeoutClosed', $swipeoutEl[0]);\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (opened && action === 'close') {\n          if ($actionsRight.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($actionsLeft.length > 0) {\n            $leftButtons.transform('');\n          }\n        }\n      });\n    }\n\n    var passiveListener = getSupport().passiveListener ? {\n      passive: true\n    } : false;\n    app.on('touchstart', function (e) {\n      if (Swipeout.el) {\n        var $targetEl = $(e.target);\n\n        if (!($(Swipeout.el).is($targetEl[0]) || $targetEl.parents('.swipeout').is(Swipeout.el) || $targetEl.hasClass('modal-in') || ($targetEl.attr('class') || '').indexOf('-backdrop') > 0 || $targetEl.hasClass('actions-modal') || $targetEl.parents('.actions-modal.modal-in, .dialog.modal-in').length > 0)) {\n          app.swipeout.close(Swipeout.el);\n        }\n      }\n    });\n    $(document).on(app.touchEvents.start, 'li.swipeout', handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  },\n  allow: true,\n  el: undefined,\n  open: function open() {\n    var app = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var el = args[0],\n        side = args[1],\n        callback = args[2];\n\n    if (typeof args[1] === 'function') {\n      el = args[0];\n      callback = args[1];\n      side = args[2];\n    }\n\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout') || $el.hasClass('swipeout-opened')) return;\n\n    if (!side) {\n      if ($el.find('.swipeout-actions-right').length > 0) side = 'right';else side = 'left';\n    }\n\n    var $swipeoutActions = $el.find(\".swipeout-actions-\" + side);\n    var $swipeoutContent = $el.find('.swipeout-content');\n    if ($swipeoutActions.length === 0) return;\n    $el.trigger('swipeout:open').addClass('swipeout-opened').removeClass('swipeout-transitioning');\n    app.emit('swipeoutOpen', $el[0]);\n    $swipeoutActions.addClass('swipeout-actions-opened');\n    var $buttons = $swipeoutActions.children('a');\n    var swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    var translate = side === 'right' ? -swipeoutActionsWidth : swipeoutActionsWidth;\n\n    if ($buttons.length > 1) {\n      $buttons.each(function (buttonEl, buttonIndex) {\n        var $buttonEl = $(buttonEl);\n\n        if (side === 'right') {\n          $buttonEl.transform(\"translate3d(\" + -buttonEl.offsetLeft + \"px,0,0)\");\n        } else {\n          $buttonEl.css('z-index', $buttons.length - buttonIndex).transform(\"translate3d(\" + (swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft) + \"px,0,0)\");\n        }\n      });\n    }\n\n    $el.addClass('swipeout-transitioning');\n    $swipeoutContent.transitionEnd(function () {\n      $el.trigger('swipeout:opened');\n      app.emit('swipeoutOpened', $el[0]);\n      if (callback) callback.call($el[0]);\n    });\n    nextFrame(function () {\n      $buttons.transform(\"translate3d(\" + translate + \"px,0,0)\");\n      $swipeoutContent.transform(\"translate3d(\" + translate + \"px,0,0)\");\n    });\n    Swipeout.el = $el[0];\n  },\n  close: function close(el, callback) {\n    var app = this;\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout-opened')) return;\n    var side = $el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n    var $swipeoutActions = $el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n    var $buttons = $swipeoutActions.children('a');\n    var swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    app.swipeout.allow = false;\n    $el.trigger('swipeout:close');\n    app.emit('swipeoutClose', $el[0]);\n    $el.removeClass('swipeout-opened').addClass('swipeout-transitioning');\n    var closeTimeout;\n\n    function onSwipeoutClose() {\n      app.swipeout.allow = true;\n      if ($el.hasClass('swipeout-opened')) return;\n      $el.removeClass('swipeout-transitioning');\n      $buttons.transform('');\n      $el.trigger('swipeout:closed');\n      app.emit('swipeoutClosed', $el[0]);\n      if (callback) callback.call($el[0]);\n      if (closeTimeout) clearTimeout(closeTimeout);\n    }\n\n    $el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n    closeTimeout = setTimeout(onSwipeoutClose, 500);\n    $buttons.each(function (buttonEl) {\n      var $buttonEl = $(buttonEl);\n\n      if (side === 'right') {\n        $buttonEl.transform(\"translate3d(\" + -buttonEl.offsetLeft + \"px,0,0)\");\n      } else {\n        $buttonEl.transform(\"translate3d(\" + (swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft) + \"px,0,0)\");\n      }\n\n      $buttonEl.css({\n        left: '0px'\n      }).removeClass('swipeout-overswipe-active');\n    });\n    if (Swipeout.el && Swipeout.el === $el[0]) Swipeout.el = undefined;\n  },\n  delete: function _delete(el, callback) {\n    var app = this;\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    Swipeout.el = undefined;\n    $el.trigger('swipeout:delete');\n    app.emit('swipeoutDelete', $el[0]);\n    $el.css({\n      height: $el.outerHeight() + \"px\"\n    });\n    $el.transitionEnd(function () {\n      $el.trigger('swipeout:deleted');\n      app.emit('swipeoutDeleted', $el[0]);\n      if (callback) callback.call($el[0]);\n\n      if ($el.parents('.virtual-list').length > 0) {\n        var virtualList = $el.parents('.virtual-list')[0].f7VirtualList;\n        var virtualIndex = $el[0].f7VirtualListIndex;\n        if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n      } else if (app.params.swipeout.removeElements) {\n        if (app.params.swipeout.removeElementsWithTimeout) {\n          setTimeout(function () {\n            $el.remove();\n          }, app.params.swipeout.removeElementsTimeout);\n        } else {\n          $el.remove();\n        }\n      } else {\n        $el.removeClass('swipeout-deleting swipeout-transitioning');\n      }\n    }); // eslint-disable-next-line\n    // $el[0]._clientLeft = $el[0].clientLeft;\n\n    nextFrame(function () {\n      $el.addClass('swipeout-deleting swipeout-transitioning').css({\n        height: '0px'\n      }).find('.swipeout-content').transform('translate3d(-100%,0,0)');\n    });\n  }\n};\nexport default {\n  name: 'swipeout',\n  params: {\n    swipeout: {\n      actionsNoFold: false,\n      noFollow: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      overswipeRatio: 1.2\n    }\n  },\n  create: function create() {\n    var app = this;\n    bindMethods(app, {\n      swipeout: Swipeout\n    });\n  },\n  clicks: {\n    '.swipeout-open': function openSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      var app = this;\n      app.swipeout.open(data.swipeout, data.side);\n    },\n    '.swipeout-close': function closeSwipeout($clickedEl) {\n      var app = this;\n      var $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      app.swipeout.close($swipeoutEl);\n    },\n    '.swipeout-delete': function deleteSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      var app = this;\n      var $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      var _data = data,\n          confirm = _data.confirm,\n          confirmTitle = _data.confirmTitle;\n\n      if (data.confirm) {\n        app.dialog.confirm(confirm, confirmTitle, function () {\n          app.swipeout.delete($swipeoutEl);\n        });\n      } else {\n        app.swipeout.delete($swipeoutEl);\n      }\n    }\n  },\n  on: {\n    init: function init() {\n      var app = this;\n      if (!app.params.swipeout) return;\n      app.swipeout.init();\n    }\n  }\n};","map":{"version":3,"sources":["E:/Programming/React/rashi-app/node_modules/framework7/esm/components/swipeout/swipeout.js"],"names":["getDocument","$","nextFrame","bindMethods","getSupport","Swipeout","init","app","document","touchesStart","isTouched","isMoved","isScrolling","touchStartTime","touchesDiff","$swipeoutEl","$swipeoutContent","$actionsRight","$actionsLeft","actionsLeftWidth","actionsRightWidth","translate","opened","openedActionsSide","$leftButtons","$rightButtons","direction","$overswipeLeftButton","$overswipeRightButton","overswipeLeft","overswipeRight","handleTouchStart","e","swipeout","allow","undefined","x","type","targetTouches","pageX","y","pageY","Date","getTime","handleTouchMove","Math","abs","length","find","outerWidth","children","hasClass","removeClass","params","noFollow","preventDefault","transform","buttonOffset","progress","f7PreventSwipePanel","close","open","buttonTranslate","ratio","pow","overswipeRatio","each","buttonEl","$buttonEl","f7SwipeoutButtonOffset","offsetLeft","css","left","trigger","emit","addClass","max","_buttonTranslate","_ratio","index","offsetWidth","min","handleTouchEnd","timeDiff","$actions","actionsWidth","action","$buttons","i","el","newTranslate","transitionEnd","passiveListener","passive","on","$targetEl","target","is","parents","attr","indexOf","touchEvents","start","_len","arguments","args","Array","_key","side","callback","$el","eq","$swipeoutActions","swipeoutActionsWidth","buttonIndex","call","closeTimeout","onSwipeoutClose","clearTimeout","setTimeout","delete","_delete","height","outerHeight","virtualList","f7VirtualList","virtualIndex","f7VirtualListIndex","deleteItem","removeElements","removeElementsWithTimeout","remove","removeElementsTimeout","name","actionsNoFold","create","clicks","openSwipeout","$clickedEl","data","closeSwipeout","closest","deleteSwipeout","_data","confirm","confirmTitle","dialog"],"mappings":"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","sourcesContent":["import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { nextFrame, bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nvar Swipeout = {\n  init: function init() {\n    var app = this;\n    var document = getDocument();\n    var touchesStart = {};\n    var isTouched;\n    var isMoved;\n    var isScrolling;\n    var touchStartTime;\n    var touchesDiff;\n    var $swipeoutEl;\n    var $swipeoutContent;\n    var $actionsRight;\n    var $actionsLeft;\n    var actionsLeftWidth;\n    var actionsRightWidth;\n    var translate;\n    var opened;\n    var openedActionsSide;\n    var $leftButtons;\n    var $rightButtons;\n    var direction;\n    var $overswipeLeftButton;\n    var $overswipeRightButton;\n    var overswipeLeft;\n    var overswipeRight;\n\n    function handleTouchStart(e) {\n      if (!app.swipeout.allow) return;\n      isMoved = false;\n      isTouched = true;\n      isScrolling = undefined;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchStartTime = new Date().getTime();\n      $swipeoutEl = $(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      if (!isMoved) {\n        if ($('.list.sortable-opened').length > 0) return;\n        $swipeoutContent = $swipeoutEl.find('.swipeout-content');\n        $actionsRight = $swipeoutEl.find('.swipeout-actions-right');\n        $actionsLeft = $swipeoutEl.find('.swipeout-actions-left');\n        actionsLeftWidth = null;\n        actionsRightWidth = null;\n        $leftButtons = null;\n        $rightButtons = null;\n        $overswipeRightButton = null;\n        $overswipeLeftButton = null;\n\n        if ($actionsLeft.length > 0) {\n          actionsLeftWidth = $actionsLeft.outerWidth();\n          $leftButtons = $actionsLeft.children('a');\n          $overswipeLeftButton = $actionsLeft.find('.swipeout-overswipe');\n        }\n\n        if ($actionsRight.length > 0) {\n          actionsRightWidth = $actionsRight.outerWidth();\n          $rightButtons = $actionsRight.children('a');\n          $overswipeRightButton = $actionsRight.find('.swipeout-overswipe');\n        }\n\n        opened = $swipeoutEl.hasClass('swipeout-opened');\n\n        if (opened) {\n          openedActionsSide = $swipeoutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n        }\n\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (!app.params.swipeout.noFollow) {\n          $swipeoutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n          $swipeoutEl.removeClass('swipeout-opened');\n        }\n      }\n\n      isMoved = true;\n      e.preventDefault();\n      touchesDiff = pageX - touchesStart.x;\n      translate = touchesDiff;\n\n      if (opened) {\n        if (openedActionsSide === 'right') translate -= actionsRightWidth;else translate += actionsLeftWidth;\n      }\n\n      if (translate > 0 && $actionsLeft.length === 0 || translate < 0 && $actionsRight.length === 0) {\n        if (!opened) {\n          isTouched = false;\n          isMoved = false;\n          $swipeoutContent.transform('');\n\n          if ($rightButtons && $rightButtons.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($leftButtons && $leftButtons.length > 0) {\n            $leftButtons.transform('');\n          }\n\n          return;\n        }\n\n        translate = 0;\n      }\n\n      if (translate < 0) direction = 'to-left';else if (translate > 0) direction = 'to-right';else if (!direction) direction = 'to-left';\n      var buttonOffset;\n      var progress;\n      e.f7PreventSwipePanel = true;\n\n      if (app.params.swipeout.noFollow) {\n        if (opened) {\n          if (openedActionsSide === 'right' && touchesDiff > 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n\n          if (openedActionsSide === 'left' && touchesDiff < 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n        } else {\n          if (touchesDiff < 0 && $actionsRight.length > 0) {\n            app.swipeout.open($swipeoutEl, 'right');\n          }\n\n          if (touchesDiff > 0 && $actionsLeft.length > 0) {\n            app.swipeout.open($swipeoutEl, 'left');\n          }\n        }\n\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      overswipeLeft = false;\n      overswipeRight = false;\n\n      if ($actionsRight.length > 0) {\n        // Show right actions\n        var buttonTranslate = translate;\n        progress = buttonTranslate / actionsRightWidth;\n\n        if (buttonTranslate < -actionsRightWidth) {\n          var ratio = buttonTranslate / -actionsRightWidth;\n          buttonTranslate = -actionsRightWidth - Math.pow(-buttonTranslate - actionsRightWidth, 0.8);\n          translate = buttonTranslate;\n\n          if ($overswipeRightButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeRight = true;\n          }\n        }\n\n        if (direction !== 'to-left') {\n          progress = 0;\n          buttonTranslate = 0;\n        }\n\n        $rightButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeRightButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-left') {\n            $buttonEl.css({\n              left: (overswipeRight ? -buttonOffset : 0) + \"px\"\n            });\n\n            if (overswipeRight) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          $buttonEl.transform(\"translate3d(\" + (buttonTranslate - buttonOffset * (1 + Math.max(progress, -1))) + \"px,0,0)\");\n        });\n      }\n\n      if ($actionsLeft.length > 0) {\n        // Show left actions\n        var _buttonTranslate = translate;\n        progress = _buttonTranslate / actionsLeftWidth;\n\n        if (_buttonTranslate > actionsLeftWidth) {\n          var _ratio = _buttonTranslate / actionsRightWidth;\n\n          _buttonTranslate = actionsLeftWidth + Math.pow(_buttonTranslate - actionsLeftWidth, 0.8);\n          translate = _buttonTranslate;\n\n          if ($overswipeLeftButton.length > 0 && _ratio > app.params.swipeout.overswipeRatio) {\n            overswipeLeft = true;\n          }\n        }\n\n        if (direction !== 'to-right') {\n          _buttonTranslate = 0;\n          progress = 0;\n        }\n\n        $leftButtons.each(function (buttonEl, index) {\n          var $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeLeftButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-right') {\n            $buttonEl.css({\n              left: (overswipeLeft ? buttonOffset : 0) + \"px\"\n            });\n\n            if (overswipeLeft) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          if ($leftButtons.length > 1) {\n            $buttonEl.css('z-index', $leftButtons.length - index);\n          }\n\n          $buttonEl.transform(\"translate3d(\" + (_buttonTranslate + buttonOffset * (1 - Math.min(progress, 1))) + \"px,0,0)\");\n        });\n      }\n\n      $swipeoutEl.trigger('swipeout', progress);\n      app.emit('swipeout', $swipeoutEl[0], progress);\n      $swipeoutContent.transform(\"translate3d(\" + translate + \"px,0,0)\");\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n      var timeDiff = new Date().getTime() - touchStartTime;\n      var $actions = direction === 'to-left' ? $actionsRight : $actionsLeft;\n      var actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n      var action;\n      var $buttons;\n      var i;\n\n      if (timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') || timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2) {\n        action = 'open';\n      } else {\n        action = 'close';\n      }\n\n      if (timeDiff < 300) {\n        if (Math.abs(translate) === 0) action = 'close';\n        if (Math.abs(translate) === actionsWidth) action = 'open';\n      }\n\n      if (action === 'open') {\n        Swipeout.el = $swipeoutEl[0];\n        $swipeoutEl.trigger('swipeout:open');\n        app.emit('swipeoutOpen', $swipeoutEl[0]);\n        $swipeoutEl.addClass('swipeout-opened swipeout-transitioning');\n        var newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n        $swipeoutContent.transform(\"translate3d(\" + newTranslate + \"px,0,0)\");\n        $actions.addClass('swipeout-actions-opened');\n        $buttons = direction === 'to-left' ? $rightButtons : $leftButtons;\n\n        if ($buttons) {\n          for (i = 0; i < $buttons.length; i += 1) {\n            $($buttons[i]).transform(\"translate3d(\" + newTranslate + \"px,0,0)\");\n          }\n        }\n\n        if (overswipeRight) {\n          $actionsRight.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n\n        if (overswipeLeft) {\n          $actionsLeft.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n      } else {\n        $swipeoutEl.trigger('swipeout:close');\n        app.emit('swipeoutClose', $swipeoutEl[0]);\n        Swipeout.el = undefined;\n        $swipeoutEl.addClass('swipeout-transitioning').removeClass('swipeout-opened');\n        $swipeoutContent.transform('');\n        $actions.removeClass('swipeout-actions-opened');\n      }\n\n      var buttonOffset;\n\n      if ($leftButtons && $leftButtons.length > 0 && $leftButtons !== $buttons) {\n        $leftButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          $buttonEl.transform(\"translate3d(\" + buttonOffset + \"px,0,0)\");\n        });\n      }\n\n      if ($rightButtons && $rightButtons.length > 0 && $rightButtons !== $buttons) {\n        $rightButtons.each(function (buttonEl) {\n          var $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          $buttonEl.transform(\"translate3d(\" + -buttonOffset + \"px,0,0)\");\n        });\n      }\n\n      $swipeoutContent.transitionEnd(function () {\n        if (opened && action === 'open' || !opened && action === 'close') return;\n        $swipeoutEl.trigger(action === 'open' ? 'swipeout:opened' : 'swipeout:closed');\n        app.emit(action === 'open' ? 'swipeoutOpened' : 'swipeoutClosed', $swipeoutEl[0]);\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (opened && action === 'close') {\n          if ($actionsRight.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($actionsLeft.length > 0) {\n            $leftButtons.transform('');\n          }\n        }\n      });\n    }\n\n    var passiveListener = getSupport().passiveListener ? {\n      passive: true\n    } : false;\n    app.on('touchstart', function (e) {\n      if (Swipeout.el) {\n        var $targetEl = $(e.target);\n\n        if (!($(Swipeout.el).is($targetEl[0]) || $targetEl.parents('.swipeout').is(Swipeout.el) || $targetEl.hasClass('modal-in') || ($targetEl.attr('class') || '').indexOf('-backdrop') > 0 || $targetEl.hasClass('actions-modal') || $targetEl.parents('.actions-modal.modal-in, .dialog.modal-in').length > 0)) {\n          app.swipeout.close(Swipeout.el);\n        }\n      }\n    });\n    $(document).on(app.touchEvents.start, 'li.swipeout', handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  },\n  allow: true,\n  el: undefined,\n  open: function open() {\n    var app = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var el = args[0],\n        side = args[1],\n        callback = args[2];\n\n    if (typeof args[1] === 'function') {\n      el = args[0];\n      callback = args[1];\n      side = args[2];\n    }\n\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout') || $el.hasClass('swipeout-opened')) return;\n\n    if (!side) {\n      if ($el.find('.swipeout-actions-right').length > 0) side = 'right';else side = 'left';\n    }\n\n    var $swipeoutActions = $el.find(\".swipeout-actions-\" + side);\n    var $swipeoutContent = $el.find('.swipeout-content');\n    if ($swipeoutActions.length === 0) return;\n    $el.trigger('swipeout:open').addClass('swipeout-opened').removeClass('swipeout-transitioning');\n    app.emit('swipeoutOpen', $el[0]);\n    $swipeoutActions.addClass('swipeout-actions-opened');\n    var $buttons = $swipeoutActions.children('a');\n    var swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    var translate = side === 'right' ? -swipeoutActionsWidth : swipeoutActionsWidth;\n\n    if ($buttons.length > 1) {\n      $buttons.each(function (buttonEl, buttonIndex) {\n        var $buttonEl = $(buttonEl);\n\n        if (side === 'right') {\n          $buttonEl.transform(\"translate3d(\" + -buttonEl.offsetLeft + \"px,0,0)\");\n        } else {\n          $buttonEl.css('z-index', $buttons.length - buttonIndex).transform(\"translate3d(\" + (swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft) + \"px,0,0)\");\n        }\n      });\n    }\n\n    $el.addClass('swipeout-transitioning');\n    $swipeoutContent.transitionEnd(function () {\n      $el.trigger('swipeout:opened');\n      app.emit('swipeoutOpened', $el[0]);\n      if (callback) callback.call($el[0]);\n    });\n    nextFrame(function () {\n      $buttons.transform(\"translate3d(\" + translate + \"px,0,0)\");\n      $swipeoutContent.transform(\"translate3d(\" + translate + \"px,0,0)\");\n    });\n    Swipeout.el = $el[0];\n  },\n  close: function close(el, callback) {\n    var app = this;\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout-opened')) return;\n    var side = $el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n    var $swipeoutActions = $el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n    var $buttons = $swipeoutActions.children('a');\n    var swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    app.swipeout.allow = false;\n    $el.trigger('swipeout:close');\n    app.emit('swipeoutClose', $el[0]);\n    $el.removeClass('swipeout-opened').addClass('swipeout-transitioning');\n    var closeTimeout;\n\n    function onSwipeoutClose() {\n      app.swipeout.allow = true;\n      if ($el.hasClass('swipeout-opened')) return;\n      $el.removeClass('swipeout-transitioning');\n      $buttons.transform('');\n      $el.trigger('swipeout:closed');\n      app.emit('swipeoutClosed', $el[0]);\n      if (callback) callback.call($el[0]);\n      if (closeTimeout) clearTimeout(closeTimeout);\n    }\n\n    $el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n    closeTimeout = setTimeout(onSwipeoutClose, 500);\n    $buttons.each(function (buttonEl) {\n      var $buttonEl = $(buttonEl);\n\n      if (side === 'right') {\n        $buttonEl.transform(\"translate3d(\" + -buttonEl.offsetLeft + \"px,0,0)\");\n      } else {\n        $buttonEl.transform(\"translate3d(\" + (swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft) + \"px,0,0)\");\n      }\n\n      $buttonEl.css({\n        left: '0px'\n      }).removeClass('swipeout-overswipe-active');\n    });\n    if (Swipeout.el && Swipeout.el === $el[0]) Swipeout.el = undefined;\n  },\n  delete: function _delete(el, callback) {\n    var app = this;\n    var $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    Swipeout.el = undefined;\n    $el.trigger('swipeout:delete');\n    app.emit('swipeoutDelete', $el[0]);\n    $el.css({\n      height: $el.outerHeight() + \"px\"\n    });\n    $el.transitionEnd(function () {\n      $el.trigger('swipeout:deleted');\n      app.emit('swipeoutDeleted', $el[0]);\n      if (callback) callback.call($el[0]);\n\n      if ($el.parents('.virtual-list').length > 0) {\n        var virtualList = $el.parents('.virtual-list')[0].f7VirtualList;\n        var virtualIndex = $el[0].f7VirtualListIndex;\n        if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n      } else if (app.params.swipeout.removeElements) {\n        if (app.params.swipeout.removeElementsWithTimeout) {\n          setTimeout(function () {\n            $el.remove();\n          }, app.params.swipeout.removeElementsTimeout);\n        } else {\n          $el.remove();\n        }\n      } else {\n        $el.removeClass('swipeout-deleting swipeout-transitioning');\n      }\n    }); // eslint-disable-next-line\n    // $el[0]._clientLeft = $el[0].clientLeft;\n\n    nextFrame(function () {\n      $el.addClass('swipeout-deleting swipeout-transitioning').css({\n        height: '0px'\n      }).find('.swipeout-content').transform('translate3d(-100%,0,0)');\n    });\n  }\n};\nexport default {\n  name: 'swipeout',\n  params: {\n    swipeout: {\n      actionsNoFold: false,\n      noFollow: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      overswipeRatio: 1.2\n    }\n  },\n  create: function create() {\n    var app = this;\n    bindMethods(app, {\n      swipeout: Swipeout\n    });\n  },\n  clicks: {\n    '.swipeout-open': function openSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      var app = this;\n      app.swipeout.open(data.swipeout, data.side);\n    },\n    '.swipeout-close': function closeSwipeout($clickedEl) {\n      var app = this;\n      var $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      app.swipeout.close($swipeoutEl);\n    },\n    '.swipeout-delete': function deleteSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      var app = this;\n      var $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      var _data = data,\n          confirm = _data.confirm,\n          confirmTitle = _data.confirmTitle;\n\n      if (data.confirm) {\n        app.dialog.confirm(confirm, confirmTitle, function () {\n          app.swipeout.delete($swipeoutEl);\n        });\n      } else {\n        app.swipeout.delete($swipeoutEl);\n      }\n    }\n  },\n  on: {\n    init: function init() {\n      var app = this;\n      if (!app.params.swipeout) return;\n      app.swipeout.init();\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}