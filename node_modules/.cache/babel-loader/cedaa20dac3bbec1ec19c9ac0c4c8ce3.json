{"ast":null,"code":"import $ from '../../shared/dom7';\nimport { requestAnimationFrame, getTranslate } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nexport default function pickerColumn(colEl, updateItems) {\n  var picker = this;\n  var app = picker.app;\n  var $colEl = $(colEl);\n  var colIndex = $colEl.index();\n  var col = picker.cols[colIndex];\n  if (col.divider) return;\n  col.$el = $colEl;\n  col.el = $colEl[0];\n  col.$itemsEl = col.$el.find('.picker-items');\n  col.items = col.$itemsEl.find('.picker-item');\n  var itemHeight;\n  var itemsHeight;\n  var minTranslate;\n  var maxTranslate;\n  var animationFrameId;\n\n  function updateDuringScroll() {\n    animationFrameId = requestAnimationFrame(function () {\n      col.updateItems(undefined, undefined, 0);\n      updateDuringScroll();\n    });\n  }\n\n  col.replaceValues = function replaceColValues(values, displayValues) {\n    col.detachEvents();\n    col.values = values;\n    col.displayValues = displayValues;\n    col.$itemsEl.html(picker.renderColumn(col, true));\n    col.items = col.$itemsEl.find('.picker-item');\n    col.calcSize();\n    col.setValue(col.values[0], 0, true);\n    col.attachEvents();\n  };\n\n  col.calcSize = function calcColSize() {\n    if (picker.params.rotateEffect) {\n      col.$el.removeClass('picker-column-absolute');\n      if (!col.width) col.$el.css({\n        width: ''\n      });\n    }\n\n    var colWidth = 0;\n    var colHeight = col.$el[0].offsetHeight;\n    itemHeight = col.items[0].offsetHeight;\n    itemsHeight = itemHeight * col.items.length;\n    minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\n    maxTranslate = colHeight / 2 - itemHeight / 2;\n\n    if (col.width) {\n      colWidth = col.width;\n      if (parseInt(colWidth, 10) === colWidth) colWidth += 'px';\n      col.$el.css({\n        width: colWidth\n      });\n    }\n\n    if (picker.params.rotateEffect) {\n      if (!col.width) {\n        col.items.each(function (itemEl) {\n          var item = $(itemEl).children('span');\n          colWidth = Math.max(colWidth, item[0].offsetWidth);\n        });\n        col.$el.css({\n          width: colWidth + 2 + \"px\"\n        });\n      }\n\n      col.$el.addClass('picker-column-absolute');\n    }\n  };\n\n  col.setValue = function setColValue(newValue, transition, valueCallbacks) {\n    if (transition === void 0) {\n      transition = '';\n    }\n\n    var newActiveIndex = col.$itemsEl.find(\".picker-item[data-picker-value=\\\"\" + newValue + \"\\\"]\").index();\n\n    if (typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n      return;\n    }\n\n    var newTranslate = -newActiveIndex * itemHeight + maxTranslate; // Update wrapper\n\n    col.$itemsEl.transition(transition);\n    col.$itemsEl.transform(\"translate3d(0,\" + newTranslate + \"px,0)\"); // Watch items\n\n    if (picker.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex) {\n      cancelAnimationFrame(animationFrameId);\n      col.$itemsEl.transitionEnd(function () {\n        cancelAnimationFrame(animationFrameId);\n      });\n      updateDuringScroll();\n    } // Update items\n\n\n    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n  };\n\n  col.updateItems = function updateColItems(activeIndex, translate, transition, valueCallbacks) {\n    if (typeof translate === 'undefined') {\n      // eslint-disable-next-line\n      translate = getTranslate(col.$itemsEl[0], 'y');\n    }\n\n    if (typeof activeIndex === 'undefined') // eslint-disable-next-line\n      activeIndex = -Math.round((translate - maxTranslate) / itemHeight); // eslint-disable-next-line\n\n    if (activeIndex < 0) activeIndex = 0; // eslint-disable-next-line\n\n    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n    var previousActiveIndex = col.activeIndex;\n    col.activeIndex = activeIndex;\n    col.$itemsEl.find('.picker-item-selected').removeClass('picker-item-selected');\n    col.items.transition(transition);\n    var selectedItem = col.items.eq(activeIndex).addClass('picker-item-selected').transform(''); // Set 3D rotate effect\n\n    if (picker.params.rotateEffect) {\n      col.items.each(function (itemEl) {\n        var $itemEl = $(itemEl);\n        var itemOffsetTop = $itemEl.index() * itemHeight;\n        var translateOffset = maxTranslate - translate;\n        var itemOffset = itemOffsetTop - translateOffset;\n        var percentage = itemOffset / itemHeight;\n        var itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n        var angle = -18 * percentage;\n        if (angle > 180) angle = 180;\n        if (angle < -180) angle = -180;\n\n        if (Math.abs(percentage) > itemsFit) {\n          $itemEl.addClass('picker-item-far');\n        } else {\n          $itemEl.removeClass('picker-item-far');\n        }\n\n        $itemEl.transform(\"translate3d(0, \" + (-translate + maxTranslate) + \"px, \" + (picker.needsOriginFix ? -110 : 0) + \"px) rotateX(\" + angle + \"deg)\");\n      });\n    }\n\n    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n      // Update values\n      col.value = selectedItem.attr('data-picker-value');\n      col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value; // On change callback\n\n      if (previousActiveIndex !== activeIndex) {\n        if (col.onChange) {\n          col.onChange(picker, col.value, col.displayValue);\n        }\n\n        picker.updateValue();\n      }\n    }\n  };\n\n  var allowItemClick = true;\n  var isTouched;\n  var isMoved;\n  var touchStartY;\n  var touchCurrentY;\n  var touchStartTime;\n  var touchEndTime;\n  var startTranslate;\n  var returnTo;\n  var currentTranslate;\n  var prevTranslate;\n  var velocityTranslate;\n\n  function handleTouchStart(e) {\n    if (isMoved || isTouched) return;\n    e.preventDefault();\n    isTouched = true;\n    touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchCurrentY = touchStartY;\n    touchStartTime = new Date().getTime();\n    allowItemClick = true;\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    currentTranslate = startTranslate;\n  }\n\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.preventDefault();\n    allowItemClick = false;\n    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!isMoved) {\n      // First move\n      cancelAnimationFrame(animationFrameId);\n      isMoved = true;\n      startTranslate = getTranslate(col.$itemsEl[0], 'y');\n      currentTranslate = startTranslate;\n      col.$itemsEl.transition(0);\n    }\n\n    var diff = touchCurrentY - touchStartY;\n    currentTranslate = startTranslate + diff;\n    returnTo = undefined; // Normalize translate\n\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate - Math.pow(minTranslate - currentTranslate, 0.8);\n      returnTo = 'min';\n    }\n\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate + Math.pow(currentTranslate - maxTranslate, 0.8);\n      returnTo = 'max';\n    } // Transform wrapper\n\n\n    col.$itemsEl.transform(\"translate3d(0,\" + currentTranslate + \"px,0)\"); // Update items\n\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnTouchmove); // Calc velocity\n\n    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n    prevTranslate = currentTranslate;\n  }\n\n  function handleTouchEnd() {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n\n    isTouched = false;\n    isMoved = false;\n    col.$itemsEl.transition('');\n\n    if (returnTo) {\n      if (returnTo === 'min') {\n        col.$itemsEl.transform(\"translate3d(0,\" + minTranslate + \"px,0)\");\n      } else {\n        col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\");\n      }\n    }\n\n    touchEndTime = new Date().getTime();\n    var newTranslate;\n\n    if (touchEndTime - touchStartTime > 300) {\n      newTranslate = currentTranslate;\n    } else {\n      newTranslate = currentTranslate + velocityTranslate * picker.params.momentumRatio;\n    }\n\n    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate); // Active Index\n\n    var activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight)); // Normalize translate\n\n    if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate; // Transform wrapper\n\n    col.$itemsEl.transform(\"translate3d(0,\" + parseInt(newTranslate, 10) + \"px,0)\"); // Update items\n\n    col.updateItems(activeIndex, newTranslate, '', true); // Watch items\n\n    if (picker.params.updateValuesOnMomentum) {\n      updateDuringScroll();\n      col.$itemsEl.transitionEnd(function () {\n        cancelAnimationFrame(animationFrameId);\n      });\n    } // Allow click\n\n\n    setTimeout(function () {\n      allowItemClick = true;\n    }, 100);\n  }\n\n  var mousewheelTimeout;\n\n  function handleMouseWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) return;\n    clearTimeout(mousewheelTimeout);\n    e.preventDefault();\n    cancelAnimationFrame(animationFrameId);\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    col.$itemsEl.transition(0);\n    currentTranslate = startTranslate - deltaY;\n    returnTo = undefined; // Normalize translate\n\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate;\n      returnTo = 'min';\n    }\n\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate;\n      returnTo = 'max';\n    } // Transform wrapper\n\n\n    col.$itemsEl.transform(\"translate3d(0,\" + currentTranslate + \"px,0)\"); // Update items\n\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnMousewheel); // On end\n\n    mousewheelTimeout = setTimeout(function () {\n      col.$itemsEl.transition('');\n\n      if (returnTo) {\n        if (returnTo === 'min') {\n          col.$itemsEl.transform(\"translate3d(0,\" + minTranslate + \"px,0)\");\n        } else {\n          col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\");\n        }\n      }\n\n      touchEndTime = new Date().getTime();\n      var newTranslate = currentTranslate;\n      newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate); // Active Index\n\n      var activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight)); // Normalize translate\n\n      if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate; // Transform wrapper\n\n      col.$itemsEl.transform(\"translate3d(0,\" + parseInt(newTranslate, 10) + \"px,0)\"); // Update items\n\n      col.updateItems(activeIndex, newTranslate, '', true);\n    }, 200);\n  }\n\n  function handleClick() {\n    if (!allowItemClick) return;\n    cancelAnimationFrame(animationFrameId);\n    var value = $(this).attr('data-picker-value');\n    col.setValue(value);\n  }\n\n  var activeListener = getSupport().passiveListener ? {\n    passive: false,\n    capture: false\n  } : false;\n\n  col.attachEvents = function attachColEvents() {\n    col.$el.on(app.touchEvents.start, handleTouchStart, activeListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n\n    if (picker.params.mousewheel) {\n      col.$el.on('wheel', handleMouseWheel);\n    }\n\n    col.items.on('click', handleClick);\n  };\n\n  col.detachEvents = function detachColEvents() {\n    col.$el.off(app.touchEvents.start, handleTouchStart, activeListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n\n    if (picker.params.mousewheel) {\n      col.$el.off('wheel', handleMouseWheel);\n    }\n\n    col.items.off('click', handleClick);\n  };\n\n  col.init = function initCol() {\n    col.calcSize();\n    col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\").transition(0);\n    if (colIndex === 0) col.$el.addClass('picker-column-first');\n    if (colIndex === picker.cols.length - 1) col.$el.addClass('picker-column-last'); // Update items on init\n\n    if (updateItems) col.updateItems(0, maxTranslate, 0);\n    col.attachEvents();\n  };\n\n  col.destroy = function destroyCol() {\n    col.detachEvents();\n  };\n\n  col.init();\n}","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/picker/picker-column.js"],"names":["$","requestAnimationFrame","getTranslate","getSupport","pickerColumn","colEl","updateItems","picker","app","$colEl","colIndex","index","col","cols","divider","$el","el","$itemsEl","find","items","itemHeight","itemsHeight","minTranslate","maxTranslate","animationFrameId","updateDuringScroll","undefined","replaceValues","replaceColValues","values","displayValues","detachEvents","html","renderColumn","calcSize","setValue","attachEvents","calcColSize","params","rotateEffect","removeClass","width","css","colWidth","colHeight","offsetHeight","length","parseInt","each","itemEl","item","children","Math","max","offsetWidth","addClass","setColValue","newValue","transition","valueCallbacks","newActiveIndex","newTranslate","transform","updateValuesOnMomentum","activeIndex","cancelAnimationFrame","transitionEnd","updateColItems","translate","round","previousActiveIndex","selectedItem","eq","$itemEl","itemOffsetTop","translateOffset","itemOffset","percentage","itemsFit","ceil","height","angle","abs","needsOriginFix","value","attr","displayValue","onChange","updateValue","allowItemClick","isTouched","isMoved","touchStartY","touchCurrentY","touchStartTime","touchEndTime","startTranslate","returnTo","currentTranslate","prevTranslate","velocityTranslate","handleTouchStart","e","preventDefault","type","targetTouches","pageY","Date","getTime","handleTouchMove","diff","pow","updateValuesOnTouchmove","handleTouchEnd","momentumRatio","min","freeMode","setTimeout","mousewheelTimeout","handleMouseWheel","deltaX","deltaY","clearTimeout","updateValuesOnMousewheel","handleClick","activeListener","passiveListener","passive","capture","attachColEvents","on","touchEvents","start","mousewheel","detachColEvents","off","init","initCol","destroy","destroyCol"],"mappings":"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","sourcesContent":["import $ from '../../shared/dom7';\nimport { requestAnimationFrame, getTranslate } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nexport default function pickerColumn(colEl, updateItems) {\n  var picker = this;\n  var app = picker.app;\n  var $colEl = $(colEl);\n  var colIndex = $colEl.index();\n  var col = picker.cols[colIndex];\n  if (col.divider) return;\n  col.$el = $colEl;\n  col.el = $colEl[0];\n  col.$itemsEl = col.$el.find('.picker-items');\n  col.items = col.$itemsEl.find('.picker-item');\n  var itemHeight;\n  var itemsHeight;\n  var minTranslate;\n  var maxTranslate;\n  var animationFrameId;\n\n  function updateDuringScroll() {\n    animationFrameId = requestAnimationFrame(function () {\n      col.updateItems(undefined, undefined, 0);\n      updateDuringScroll();\n    });\n  }\n\n  col.replaceValues = function replaceColValues(values, displayValues) {\n    col.detachEvents();\n    col.values = values;\n    col.displayValues = displayValues;\n    col.$itemsEl.html(picker.renderColumn(col, true));\n    col.items = col.$itemsEl.find('.picker-item');\n    col.calcSize();\n    col.setValue(col.values[0], 0, true);\n    col.attachEvents();\n  };\n\n  col.calcSize = function calcColSize() {\n    if (picker.params.rotateEffect) {\n      col.$el.removeClass('picker-column-absolute');\n      if (!col.width) col.$el.css({\n        width: ''\n      });\n    }\n\n    var colWidth = 0;\n    var colHeight = col.$el[0].offsetHeight;\n    itemHeight = col.items[0].offsetHeight;\n    itemsHeight = itemHeight * col.items.length;\n    minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\n    maxTranslate = colHeight / 2 - itemHeight / 2;\n\n    if (col.width) {\n      colWidth = col.width;\n      if (parseInt(colWidth, 10) === colWidth) colWidth += 'px';\n      col.$el.css({\n        width: colWidth\n      });\n    }\n\n    if (picker.params.rotateEffect) {\n      if (!col.width) {\n        col.items.each(function (itemEl) {\n          var item = $(itemEl).children('span');\n          colWidth = Math.max(colWidth, item[0].offsetWidth);\n        });\n        col.$el.css({\n          width: colWidth + 2 + \"px\"\n        });\n      }\n\n      col.$el.addClass('picker-column-absolute');\n    }\n  };\n\n  col.setValue = function setColValue(newValue, transition, valueCallbacks) {\n    if (transition === void 0) {\n      transition = '';\n    }\n\n    var newActiveIndex = col.$itemsEl.find(\".picker-item[data-picker-value=\\\"\" + newValue + \"\\\"]\").index();\n\n    if (typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n      return;\n    }\n\n    var newTranslate = -newActiveIndex * itemHeight + maxTranslate; // Update wrapper\n\n    col.$itemsEl.transition(transition);\n    col.$itemsEl.transform(\"translate3d(0,\" + newTranslate + \"px,0)\"); // Watch items\n\n    if (picker.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex) {\n      cancelAnimationFrame(animationFrameId);\n      col.$itemsEl.transitionEnd(function () {\n        cancelAnimationFrame(animationFrameId);\n      });\n      updateDuringScroll();\n    } // Update items\n\n\n    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n  };\n\n  col.updateItems = function updateColItems(activeIndex, translate, transition, valueCallbacks) {\n    if (typeof translate === 'undefined') {\n      // eslint-disable-next-line\n      translate = getTranslate(col.$itemsEl[0], 'y');\n    }\n\n    if (typeof activeIndex === 'undefined') // eslint-disable-next-line\n      activeIndex = -Math.round((translate - maxTranslate) / itemHeight); // eslint-disable-next-line\n\n    if (activeIndex < 0) activeIndex = 0; // eslint-disable-next-line\n\n    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n    var previousActiveIndex = col.activeIndex;\n    col.activeIndex = activeIndex;\n    col.$itemsEl.find('.picker-item-selected').removeClass('picker-item-selected');\n    col.items.transition(transition);\n    var selectedItem = col.items.eq(activeIndex).addClass('picker-item-selected').transform(''); // Set 3D rotate effect\n\n    if (picker.params.rotateEffect) {\n      col.items.each(function (itemEl) {\n        var $itemEl = $(itemEl);\n        var itemOffsetTop = $itemEl.index() * itemHeight;\n        var translateOffset = maxTranslate - translate;\n        var itemOffset = itemOffsetTop - translateOffset;\n        var percentage = itemOffset / itemHeight;\n        var itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n        var angle = -18 * percentage;\n        if (angle > 180) angle = 180;\n        if (angle < -180) angle = -180;\n\n        if (Math.abs(percentage) > itemsFit) {\n          $itemEl.addClass('picker-item-far');\n        } else {\n          $itemEl.removeClass('picker-item-far');\n        }\n\n        $itemEl.transform(\"translate3d(0, \" + (-translate + maxTranslate) + \"px, \" + (picker.needsOriginFix ? -110 : 0) + \"px) rotateX(\" + angle + \"deg)\");\n      });\n    }\n\n    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n      // Update values\n      col.value = selectedItem.attr('data-picker-value');\n      col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value; // On change callback\n\n      if (previousActiveIndex !== activeIndex) {\n        if (col.onChange) {\n          col.onChange(picker, col.value, col.displayValue);\n        }\n\n        picker.updateValue();\n      }\n    }\n  };\n\n  var allowItemClick = true;\n  var isTouched;\n  var isMoved;\n  var touchStartY;\n  var touchCurrentY;\n  var touchStartTime;\n  var touchEndTime;\n  var startTranslate;\n  var returnTo;\n  var currentTranslate;\n  var prevTranslate;\n  var velocityTranslate;\n\n  function handleTouchStart(e) {\n    if (isMoved || isTouched) return;\n    e.preventDefault();\n    isTouched = true;\n    touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchCurrentY = touchStartY;\n    touchStartTime = new Date().getTime();\n    allowItemClick = true;\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    currentTranslate = startTranslate;\n  }\n\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.preventDefault();\n    allowItemClick = false;\n    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!isMoved) {\n      // First move\n      cancelAnimationFrame(animationFrameId);\n      isMoved = true;\n      startTranslate = getTranslate(col.$itemsEl[0], 'y');\n      currentTranslate = startTranslate;\n      col.$itemsEl.transition(0);\n    }\n\n    var diff = touchCurrentY - touchStartY;\n    currentTranslate = startTranslate + diff;\n    returnTo = undefined; // Normalize translate\n\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate - Math.pow(minTranslate - currentTranslate, 0.8);\n      returnTo = 'min';\n    }\n\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate + Math.pow(currentTranslate - maxTranslate, 0.8);\n      returnTo = 'max';\n    } // Transform wrapper\n\n\n    col.$itemsEl.transform(\"translate3d(0,\" + currentTranslate + \"px,0)\"); // Update items\n\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnTouchmove); // Calc velocity\n\n    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n    prevTranslate = currentTranslate;\n  }\n\n  function handleTouchEnd() {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n\n    isTouched = false;\n    isMoved = false;\n    col.$itemsEl.transition('');\n\n    if (returnTo) {\n      if (returnTo === 'min') {\n        col.$itemsEl.transform(\"translate3d(0,\" + minTranslate + \"px,0)\");\n      } else {\n        col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\");\n      }\n    }\n\n    touchEndTime = new Date().getTime();\n    var newTranslate;\n\n    if (touchEndTime - touchStartTime > 300) {\n      newTranslate = currentTranslate;\n    } else {\n      newTranslate = currentTranslate + velocityTranslate * picker.params.momentumRatio;\n    }\n\n    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate); // Active Index\n\n    var activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight)); // Normalize translate\n\n    if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate; // Transform wrapper\n\n    col.$itemsEl.transform(\"translate3d(0,\" + parseInt(newTranslate, 10) + \"px,0)\"); // Update items\n\n    col.updateItems(activeIndex, newTranslate, '', true); // Watch items\n\n    if (picker.params.updateValuesOnMomentum) {\n      updateDuringScroll();\n      col.$itemsEl.transitionEnd(function () {\n        cancelAnimationFrame(animationFrameId);\n      });\n    } // Allow click\n\n\n    setTimeout(function () {\n      allowItemClick = true;\n    }, 100);\n  }\n\n  var mousewheelTimeout;\n\n  function handleMouseWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) return;\n    clearTimeout(mousewheelTimeout);\n    e.preventDefault();\n    cancelAnimationFrame(animationFrameId);\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    col.$itemsEl.transition(0);\n    currentTranslate = startTranslate - deltaY;\n    returnTo = undefined; // Normalize translate\n\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate;\n      returnTo = 'min';\n    }\n\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate;\n      returnTo = 'max';\n    } // Transform wrapper\n\n\n    col.$itemsEl.transform(\"translate3d(0,\" + currentTranslate + \"px,0)\"); // Update items\n\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnMousewheel); // On end\n\n    mousewheelTimeout = setTimeout(function () {\n      col.$itemsEl.transition('');\n\n      if (returnTo) {\n        if (returnTo === 'min') {\n          col.$itemsEl.transform(\"translate3d(0,\" + minTranslate + \"px,0)\");\n        } else {\n          col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\");\n        }\n      }\n\n      touchEndTime = new Date().getTime();\n      var newTranslate = currentTranslate;\n      newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate); // Active Index\n\n      var activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight)); // Normalize translate\n\n      if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate; // Transform wrapper\n\n      col.$itemsEl.transform(\"translate3d(0,\" + parseInt(newTranslate, 10) + \"px,0)\"); // Update items\n\n      col.updateItems(activeIndex, newTranslate, '', true);\n    }, 200);\n  }\n\n  function handleClick() {\n    if (!allowItemClick) return;\n    cancelAnimationFrame(animationFrameId);\n    var value = $(this).attr('data-picker-value');\n    col.setValue(value);\n  }\n\n  var activeListener = getSupport().passiveListener ? {\n    passive: false,\n    capture: false\n  } : false;\n\n  col.attachEvents = function attachColEvents() {\n    col.$el.on(app.touchEvents.start, handleTouchStart, activeListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n\n    if (picker.params.mousewheel) {\n      col.$el.on('wheel', handleMouseWheel);\n    }\n\n    col.items.on('click', handleClick);\n  };\n\n  col.detachEvents = function detachColEvents() {\n    col.$el.off(app.touchEvents.start, handleTouchStart, activeListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n\n    if (picker.params.mousewheel) {\n      col.$el.off('wheel', handleMouseWheel);\n    }\n\n    col.items.off('click', handleClick);\n  };\n\n  col.init = function initCol() {\n    col.calcSize();\n    col.$itemsEl.transform(\"translate3d(0,\" + maxTranslate + \"px,0)\").transition(0);\n    if (colIndex === 0) col.$el.addClass('picker-column-first');\n    if (colIndex === picker.cols.length - 1) col.$el.addClass('picker-column-last'); // Update items on init\n\n    if (updateItems) col.updateItems(0, maxTranslate, 0);\n    col.attachEvents();\n  };\n\n  col.destroy = function destroyCol() {\n    col.detachEvents();\n  };\n\n  col.init();\n}"]},"metadata":{},"sourceType":"module"}