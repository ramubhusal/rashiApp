{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n/* eslint indent: [\"off\"] */\n\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device';\nimport { extend, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\nimport $ from '../../shared/dom7';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar Actions = /*#__PURE__*/function (_Modal) {\n  _inheritsLoose(Actions, _Modal);\n\n  function Actions(app, params) {\n    var _this;\n\n    var extendedParams = extend({\n      on: {}\n    }, app.params.actions, params); // Extends with open/close Modal methods;\n\n    _this = _Modal.call(this, app, extendedParams) || this;\n\n    var actions = _assertThisInitialized(_this);\n\n    var device = getDevice();\n    var window = getWindow();\n    var document = getDocument();\n    actions.params = extendedParams; // Buttons\n\n    var groups;\n\n    if (actions.params.buttons) {\n      groups = actions.params.buttons;\n      if (!Array.isArray(groups[0])) groups = [groups];\n    }\n\n    actions.groups = groups; // Find Element\n\n    var $el;\n\n    if (actions.params.el) {\n      $el = $(actions.params.el).eq(0);\n    } else if (actions.params.content) {\n      $el = $(actions.params.content).filter(function (node) {\n        return node.nodeType === 1;\n      }).eq(0);\n    } else if (actions.params.buttons) {\n      if (actions.params.convertToPopover) {\n        actions.popoverHtml = actions.renderPopover();\n      }\n\n      actions.actionsHtml = actions.render();\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal || _assertThisInitialized(_this);\n    }\n\n    if ($el && $el.length === 0 && !(actions.actionsHtml || actions.popoverHtml)) {\n      return actions.destroy() || _assertThisInitialized(_this);\n    } // Backdrop\n\n\n    var $backdropEl;\n\n    if (actions.params.backdrop && actions.params.backdropEl) {\n      $backdropEl = $(actions.params.backdropEl);\n    } else if (actions.params.backdrop) {\n      $backdropEl = actions.$containerEl.children('.actions-backdrop');\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"actions-backdrop\"></div>');\n        actions.$containerEl.append($backdropEl);\n      }\n    }\n\n    var originalOpen = actions.open;\n    var originalClose = actions.close;\n    var popover;\n\n    function buttonOnClick(e) {\n      var $buttonEl = $(this);\n      var buttonIndex;\n      var groupIndex;\n\n      if ($buttonEl.hasClass('list-button') || $buttonEl.hasClass('item-link')) {\n        buttonIndex = $buttonEl.parents('li').index();\n        groupIndex = $buttonEl.parents('.list').index();\n      } else {\n        buttonIndex = $buttonEl.index();\n        groupIndex = $buttonEl.parents('.actions-group').index();\n      }\n\n      if (typeof groups !== 'undefined') {\n        var button = groups[groupIndex][buttonIndex];\n        if (button.onClick) button.onClick(actions, e);\n        if (actions.params.onClick) actions.params.onClick(actions, e);\n        if (button.close !== false) actions.close();\n      }\n    }\n\n    actions.open = function open(animate) {\n      var convertToPopover = false;\n      var _actions$params = actions.params,\n          targetEl = _actions$params.targetEl,\n          targetX = _actions$params.targetX,\n          targetY = _actions$params.targetY,\n          targetWidth = _actions$params.targetWidth,\n          targetHeight = _actions$params.targetHeight;\n\n      if (actions.params.convertToPopover && (targetEl || targetX !== undefined && targetY !== undefined)) {\n        // Popover\n        if (actions.params.forceToPopover || device.ios && device.ipad || app.width >= 768 || device.desktop && app.theme === 'aurora') {\n          convertToPopover = true;\n        }\n      }\n\n      if (convertToPopover && actions.popoverHtml) {\n        popover = app.popover.create({\n          content: actions.popoverHtml,\n          backdrop: actions.params.backdrop,\n          targetEl: targetEl,\n          targetX: targetX,\n          targetY: targetY,\n          targetWidth: targetWidth,\n          targetHeight: targetHeight,\n          on: {\n            open: function open() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:open \" + actions.type.toLowerCase() + \":open\");\n              actions.emit(\"local::open modalOpen \" + actions.type + \"Open\", actions);\n            },\n            opened: function opened() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:opened \" + actions.type.toLowerCase() + \":opened\");\n              actions.emit(\"local::opened modalOpened \" + actions.type + \"Opened\", actions);\n            },\n            close: function close() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:close \" + actions.type.toLowerCase() + \":close\");\n              actions.emit(\"local::close modalClose \" + actions.type + \"Close\", actions);\n            },\n            closed: function closed() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:closed \" + actions.type.toLowerCase() + \":closed\");\n              actions.emit(\"local::closed modalClosed \" + actions.type + \"Closed\", actions);\n            }\n          }\n        });\n        popover.open(animate);\n        popover.once('popoverOpened', function () {\n          popover.$el.find('.list-button, .item-link').each(function (buttonEl) {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n        });\n        popover.once('popoverClosed', function () {\n          popover.$el.find('.list-button, .item-link').each(function (buttonEl) {\n            $(buttonEl).off('click', buttonOnClick);\n          });\n          nextTick(function () {\n            popover.destroy();\n            popover = undefined;\n          });\n        });\n      } else {\n        actions.$el = actions.actionsHtml ? $(actions.actionsHtml) : actions.$el;\n        actions.$el[0].f7Modal = actions;\n\n        if (actions.groups) {\n          actions.$el.find('.actions-button').each(function (buttonEl) {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n          actions.once('actionsClosed', function () {\n            actions.$el.find('.actions-button').each(function (buttonEl) {\n              $(buttonEl).off('click', buttonOnClick);\n            });\n          });\n        }\n\n        actions.el = actions.$el[0];\n        originalOpen.call(actions, animate);\n      }\n\n      return actions;\n    };\n\n    actions.close = function close(animate) {\n      if (popover) {\n        popover.close(animate);\n      } else {\n        originalClose.call(actions, animate);\n      }\n\n      return actions;\n    };\n\n    extend(actions, {\n      app: app,\n      $el: $el,\n      el: $el ? $el[0] : undefined,\n      $backdropEl: $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'actions'\n    });\n\n    function handleClick(e) {\n      var target = e.target;\n      var $target = $(target);\n      var keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(actions.el).length === 0) {\n        if (actions.params.closeByBackdropClick && actions.params.backdrop && actions.backdropEl && actions.backdropEl === target) {\n          actions.close();\n        } else if (actions.params.closeByOutsideClick) {\n          actions.close();\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === 27 && actions.params.closeOnEscape) {\n        actions.close();\n      }\n    }\n\n    if (actions.params.closeOnEscape) {\n      actions.on('open', function () {\n        $(document).on('keydown', onKeyDown);\n      });\n      actions.on('close', function () {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    actions.on('opened', function () {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.on('click', handleClick);\n      }\n    });\n    actions.on('close', function () {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.off('click', handleClick);\n      }\n    });\n\n    if ($el) {\n      $el[0].f7Modal = actions;\n    }\n\n    return actions || _assertThisInitialized(_this);\n  }\n\n  var _proto = Actions.prototype;\n\n  _proto.render = function render() {\n    var actions = this;\n    if (actions.params.render) return actions.params.render.call(actions, actions);\n    var groups = actions.groups;\n    var cssClass = actions.params.cssClass;\n    return $jsx(\"div\", {\n      class: \"actions-modal\" + (actions.params.grid ? ' actions-grid' : '') + \" \" + (cssClass || '')\n    }, groups.map(function (group) {\n      return $jsx(\"div\", {\n        class: \"actions-group\"\n      }, group.map(function (button) {\n        var buttonClasses = [\"actions-\" + (button.label ? 'label' : 'button')];\n        var color = button.color,\n            bg = button.bg,\n            bold = button.bold,\n            disabled = button.disabled,\n            label = button.label,\n            text = button.text,\n            icon = button.icon;\n        if (color) buttonClasses.push(\"color-\" + color);\n        if (bg) buttonClasses.push(\"bg-color-\" + bg);\n        if (bold) buttonClasses.push('actions-button-bold');\n        if (disabled) buttonClasses.push('disabled');\n\n        if (label) {\n          return $jsx(\"div\", {\n            class: buttonClasses.join(' ')\n          }, text);\n        }\n\n        return $jsx(\"div\", {\n          class: buttonClasses.join(' ')\n        }, icon && $jsx(\"div\", {\n          class: \"actions-button-media\"\n        }, icon), $jsx(\"div\", {\n          class: \"actions-button-text\"\n        }, text));\n      }));\n    }));\n  };\n\n  _proto.renderPopover = function renderPopover() {\n    var actions = this;\n    if (actions.params.renderPopover) return actions.params.renderPopover.call(actions, actions);\n    var groups = actions.groups;\n    var cssClass = actions.params.cssClass;\n    return $jsx(\"div\", {\n      class: \"popover popover-from-actions \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"popover-inner\"\n    }, groups.map(function (group) {\n      return $jsx(\"div\", {\n        class: \"list\"\n      }, $jsx(\"ul\", null, group.map(function (button) {\n        var itemClasses = [];\n        var color = button.color,\n            bg = button.bg,\n            bold = button.bold,\n            disabled = button.disabled,\n            label = button.label,\n            text = button.text,\n            icon = button.icon;\n        if (color) itemClasses.push(\"color-\" + color);\n        if (bg) itemClasses.push(\"bg-color-\" + bg);\n        if (bold) itemClasses.push('popover-from-actions-bold');\n        if (disabled) itemClasses.push('disabled');\n\n        if (label) {\n          itemClasses.push('popover-from-actions-label');\n          return \"<li class=\\\"\" + itemClasses.join(' ') + \"\\\">\" + text + \"</li>\";\n        }\n\n        if (icon) {\n          itemClasses.push('item-link item-content');\n          return $jsx(\"li\", null, $jsx(\"a\", {\n            class: itemClasses.join(' ')\n          }, $jsx(\"div\", {\n            class: \"item-media\"\n          }, icon), $jsx(\"div\", {\n            class: \"item-inner\"\n          }, $jsx(\"div\", {\n            class: \"item-title\"\n          }, text))));\n        }\n\n        itemClasses.push('list-button');\n        return $jsx(\"li\", null, $jsx(\"a\", {\n          class: itemClasses.join(' ')\n        }, text));\n      })));\n    })));\n  };\n\n  return Actions;\n}(Modal);\n\nexport default Actions;","map":{"version":3,"sources":["E:/Programming/React/rashiApp/node_modules/framework7/esm/components/actions/actions-class.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","getWindow","getDocument","getDevice","extend","nextTick","Modal","$","$jsx","Actions","_Modal","app","params","_this","extendedParams","on","actions","call","device","window","document","groups","buttons","Array","isArray","$el","el","eq","content","filter","node","nodeType","convertToPopover","popoverHtml","renderPopover","actionsHtml","render","length","f7Modal","destroy","$backdropEl","backdrop","backdropEl","$containerEl","children","append","originalOpen","open","originalClose","close","popover","buttonOnClick","e","$buttonEl","buttonIndex","groupIndex","hasClass","parents","index","button","onClick","animate","_actions$params","targetEl","targetX","targetY","targetWidth","targetHeight","undefined","forceToPopover","ios","ipad","width","desktop","theme","trigger","type","toLowerCase","emit","opened","closed","once","find","each","buttonEl","off","handleClick","target","$target","keyboardOpened","cordova","Keyboard","isVisible","plugins","closest","closeByBackdropClick","closeByOutsideClick","onKeyDown","keyCode","closeOnEscape","_proto","cssClass","class","grid","map","group","buttonClasses","label","color","bg","bold","disabled","text","icon","push","join","itemClasses"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/* eslint indent: [\"off\"] */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device';\nimport { extend, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\nimport $ from '../../shared/dom7';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx';\n\nvar Actions = /*#__PURE__*/function (_Modal) {\n  _inheritsLoose(Actions, _Modal);\n\n  function Actions(app, params) {\n    var _this;\n\n    var extendedParams = extend({\n      on: {}\n    }, app.params.actions, params); // Extends with open/close Modal methods;\n\n    _this = _Modal.call(this, app, extendedParams) || this;\n\n    var actions = _assertThisInitialized(_this);\n\n    var device = getDevice();\n    var window = getWindow();\n    var document = getDocument();\n    actions.params = extendedParams; // Buttons\n\n    var groups;\n\n    if (actions.params.buttons) {\n      groups = actions.params.buttons;\n      if (!Array.isArray(groups[0])) groups = [groups];\n    }\n\n    actions.groups = groups; // Find Element\n\n    var $el;\n\n    if (actions.params.el) {\n      $el = $(actions.params.el).eq(0);\n    } else if (actions.params.content) {\n      $el = $(actions.params.content).filter(function (node) {\n        return node.nodeType === 1;\n      }).eq(0);\n    } else if (actions.params.buttons) {\n      if (actions.params.convertToPopover) {\n        actions.popoverHtml = actions.renderPopover();\n      }\n\n      actions.actionsHtml = actions.render();\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal || _assertThisInitialized(_this);\n    }\n\n    if ($el && $el.length === 0 && !(actions.actionsHtml || actions.popoverHtml)) {\n      return actions.destroy() || _assertThisInitialized(_this);\n    } // Backdrop\n\n\n    var $backdropEl;\n\n    if (actions.params.backdrop && actions.params.backdropEl) {\n      $backdropEl = $(actions.params.backdropEl);\n    } else if (actions.params.backdrop) {\n      $backdropEl = actions.$containerEl.children('.actions-backdrop');\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"actions-backdrop\"></div>');\n        actions.$containerEl.append($backdropEl);\n      }\n    }\n\n    var originalOpen = actions.open;\n    var originalClose = actions.close;\n    var popover;\n\n    function buttonOnClick(e) {\n      var $buttonEl = $(this);\n      var buttonIndex;\n      var groupIndex;\n\n      if ($buttonEl.hasClass('list-button') || $buttonEl.hasClass('item-link')) {\n        buttonIndex = $buttonEl.parents('li').index();\n        groupIndex = $buttonEl.parents('.list').index();\n      } else {\n        buttonIndex = $buttonEl.index();\n        groupIndex = $buttonEl.parents('.actions-group').index();\n      }\n\n      if (typeof groups !== 'undefined') {\n        var button = groups[groupIndex][buttonIndex];\n        if (button.onClick) button.onClick(actions, e);\n        if (actions.params.onClick) actions.params.onClick(actions, e);\n        if (button.close !== false) actions.close();\n      }\n    }\n\n    actions.open = function open(animate) {\n      var convertToPopover = false;\n      var _actions$params = actions.params,\n          targetEl = _actions$params.targetEl,\n          targetX = _actions$params.targetX,\n          targetY = _actions$params.targetY,\n          targetWidth = _actions$params.targetWidth,\n          targetHeight = _actions$params.targetHeight;\n\n      if (actions.params.convertToPopover && (targetEl || targetX !== undefined && targetY !== undefined)) {\n        // Popover\n        if (actions.params.forceToPopover || device.ios && device.ipad || app.width >= 768 || device.desktop && app.theme === 'aurora') {\n          convertToPopover = true;\n        }\n      }\n\n      if (convertToPopover && actions.popoverHtml) {\n        popover = app.popover.create({\n          content: actions.popoverHtml,\n          backdrop: actions.params.backdrop,\n          targetEl: targetEl,\n          targetX: targetX,\n          targetY: targetY,\n          targetWidth: targetWidth,\n          targetHeight: targetHeight,\n          on: {\n            open: function open() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:open \" + actions.type.toLowerCase() + \":open\");\n              actions.emit(\"local::open modalOpen \" + actions.type + \"Open\", actions);\n            },\n            opened: function opened() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:opened \" + actions.type.toLowerCase() + \":opened\");\n              actions.emit(\"local::opened modalOpened \" + actions.type + \"Opened\", actions);\n            },\n            close: function close() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:close \" + actions.type.toLowerCase() + \":close\");\n              actions.emit(\"local::close modalClose \" + actions.type + \"Close\", actions);\n            },\n            closed: function closed() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n\n              actions.$el.trigger(\"modal:closed \" + actions.type.toLowerCase() + \":closed\");\n              actions.emit(\"local::closed modalClosed \" + actions.type + \"Closed\", actions);\n            }\n          }\n        });\n        popover.open(animate);\n        popover.once('popoverOpened', function () {\n          popover.$el.find('.list-button, .item-link').each(function (buttonEl) {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n        });\n        popover.once('popoverClosed', function () {\n          popover.$el.find('.list-button, .item-link').each(function (buttonEl) {\n            $(buttonEl).off('click', buttonOnClick);\n          });\n          nextTick(function () {\n            popover.destroy();\n            popover = undefined;\n          });\n        });\n      } else {\n        actions.$el = actions.actionsHtml ? $(actions.actionsHtml) : actions.$el;\n        actions.$el[0].f7Modal = actions;\n\n        if (actions.groups) {\n          actions.$el.find('.actions-button').each(function (buttonEl) {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n          actions.once('actionsClosed', function () {\n            actions.$el.find('.actions-button').each(function (buttonEl) {\n              $(buttonEl).off('click', buttonOnClick);\n            });\n          });\n        }\n\n        actions.el = actions.$el[0];\n        originalOpen.call(actions, animate);\n      }\n\n      return actions;\n    };\n\n    actions.close = function close(animate) {\n      if (popover) {\n        popover.close(animate);\n      } else {\n        originalClose.call(actions, animate);\n      }\n\n      return actions;\n    };\n\n    extend(actions, {\n      app: app,\n      $el: $el,\n      el: $el ? $el[0] : undefined,\n      $backdropEl: $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'actions'\n    });\n\n    function handleClick(e) {\n      var target = e.target;\n      var $target = $(target);\n      var keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(actions.el).length === 0) {\n        if (actions.params.closeByBackdropClick && actions.params.backdrop && actions.backdropEl && actions.backdropEl === target) {\n          actions.close();\n        } else if (actions.params.closeByOutsideClick) {\n          actions.close();\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === 27 && actions.params.closeOnEscape) {\n        actions.close();\n      }\n    }\n\n    if (actions.params.closeOnEscape) {\n      actions.on('open', function () {\n        $(document).on('keydown', onKeyDown);\n      });\n      actions.on('close', function () {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    actions.on('opened', function () {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.on('click', handleClick);\n      }\n    });\n    actions.on('close', function () {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.off('click', handleClick);\n      }\n    });\n\n    if ($el) {\n      $el[0].f7Modal = actions;\n    }\n\n    return actions || _assertThisInitialized(_this);\n  }\n\n  var _proto = Actions.prototype;\n\n  _proto.render = function render() {\n    var actions = this;\n    if (actions.params.render) return actions.params.render.call(actions, actions);\n    var groups = actions.groups;\n    var cssClass = actions.params.cssClass;\n    return $jsx(\"div\", {\n      class: \"actions-modal\" + (actions.params.grid ? ' actions-grid' : '') + \" \" + (cssClass || '')\n    }, groups.map(function (group) {\n      return $jsx(\"div\", {\n        class: \"actions-group\"\n      }, group.map(function (button) {\n        var buttonClasses = [\"actions-\" + (button.label ? 'label' : 'button')];\n        var color = button.color,\n            bg = button.bg,\n            bold = button.bold,\n            disabled = button.disabled,\n            label = button.label,\n            text = button.text,\n            icon = button.icon;\n        if (color) buttonClasses.push(\"color-\" + color);\n        if (bg) buttonClasses.push(\"bg-color-\" + bg);\n        if (bold) buttonClasses.push('actions-button-bold');\n        if (disabled) buttonClasses.push('disabled');\n\n        if (label) {\n          return $jsx(\"div\", {\n            class: buttonClasses.join(' ')\n          }, text);\n        }\n\n        return $jsx(\"div\", {\n          class: buttonClasses.join(' ')\n        }, icon && $jsx(\"div\", {\n          class: \"actions-button-media\"\n        }, icon), $jsx(\"div\", {\n          class: \"actions-button-text\"\n        }, text));\n      }));\n    }));\n  };\n\n  _proto.renderPopover = function renderPopover() {\n    var actions = this;\n    if (actions.params.renderPopover) return actions.params.renderPopover.call(actions, actions);\n    var groups = actions.groups;\n    var cssClass = actions.params.cssClass;\n    return $jsx(\"div\", {\n      class: \"popover popover-from-actions \" + (cssClass || '')\n    }, $jsx(\"div\", {\n      class: \"popover-inner\"\n    }, groups.map(function (group) {\n      return $jsx(\"div\", {\n        class: \"list\"\n      }, $jsx(\"ul\", null, group.map(function (button) {\n        var itemClasses = [];\n        var color = button.color,\n            bg = button.bg,\n            bold = button.bold,\n            disabled = button.disabled,\n            label = button.label,\n            text = button.text,\n            icon = button.icon;\n        if (color) itemClasses.push(\"color-\" + color);\n        if (bg) itemClasses.push(\"bg-color-\" + bg);\n        if (bold) itemClasses.push('popover-from-actions-bold');\n        if (disabled) itemClasses.push('disabled');\n\n        if (label) {\n          itemClasses.push('popover-from-actions-label');\n          return \"<li class=\\\"\" + itemClasses.join(' ') + \"\\\">\" + text + \"</li>\";\n        }\n\n        if (icon) {\n          itemClasses.push('item-link item-content');\n          return $jsx(\"li\", null, $jsx(\"a\", {\n            class: itemClasses.join(' ')\n          }, $jsx(\"div\", {\n            class: \"item-media\"\n          }, icon), $jsx(\"div\", {\n            class: \"item-inner\"\n          }, $jsx(\"div\", {\n            class: \"item-title\"\n          }, text))));\n        }\n\n        itemClasses.push('list-button');\n        return $jsx(\"li\", null, $jsx(\"a\", {\n          class: itemClasses.join(' ')\n        }, text));\n      })));\n    })));\n  };\n\n  return Actions;\n}(Modal);\n\nexport default Actions;"]},"metadata":{},"sourceType":"module"}